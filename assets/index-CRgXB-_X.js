(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function p1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var up={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bv;function Lx(){if(bv)return jl;bv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:u}}return jl.Fragment=e,jl.jsx=n,jl.jsxs=n,jl}var Ev;function Ux(){return Ev||(Ev=1,up.exports=Lx()),up.exports}var E=Ux(),cp={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function jx(){if(Tv)return Oe;Tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,F={};function L(D,X,se){this.props=D,this.context=X,this.refs=F,this.updater=se||O}L.prototype.isReactComponent={},L.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},L.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function W(){}W.prototype=L.prototype;function J(D,X,se){this.props=D,this.context=X,this.refs=F,this.updater=se||O}var ae=J.prototype=new W;ae.constructor=J,M(ae,L.prototype),ae.isPureReactComponent=!0;var pe=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},Te=Object.prototype.hasOwnProperty;function k(D,X,se,re,ue,be){return se=be.ref,{$$typeof:r,type:D,key:X,ref:se!==void 0?se:null,props:be}}function w(D,X){return k(D.type,X,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function V(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return X[se]})}var C=/\/+/g;function P(D,X){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):X.toString(36)}function R(){}function Ke(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Qe(D,X,se,re,ue){var be=typeof D;(be==="undefined"||be==="boolean")&&(D=null);var ye=!1;if(D===null)ye=!0;else switch(be){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(D.$$typeof){case r:case e:ye=!0;break;case v:return ye=D._init,Qe(ye(D._payload),X,se,re,ue)}}if(ye)return ue=ue(D),ye=re===""?"."+P(D,0):re,pe(ue)?(se="",ye!=null&&(se=ye.replace(C,"$&/")+"/"),Qe(ue,X,se,"",function(gn){return gn})):ue!=null&&(I(ue)&&(ue=w(ue,se+(ue.key==null||D&&D.key===ue.key?"":(""+ue.key).replace(C,"$&/")+"/")+ye)),X.push(ue)),1;ye=0;var ut=re===""?".":re+":";if(pe(D))for(var $e=0;$e<D.length;$e++)re=D[$e],be=ut+P(re,$e),ye+=Qe(re,X,se,be,ue);else if($e=x(D),typeof $e=="function")for(D=$e.call(D),$e=0;!(re=D.next()).done;)re=re.value,be=ut+P(re,$e++),ye+=Qe(re,X,se,be,ue);else if(be==="object"){if(typeof D.then=="function")return Qe(Ke(D),X,se,re,ue);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ye}function Q(D,X,se){if(D==null)return D;var re=[],ue=0;return Qe(D,re,"","",function(be){return X.call(se,be,ue++)}),re}function oe(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ce=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function $(){}return Oe.Children={map:Q,forEach:function(D,X,se){Q(D,function(){X.apply(this,arguments)},se)},count:function(D){var X=0;return Q(D,function(){X++}),X},toArray:function(D){return Q(D,function(X){return X})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Oe.Component=L,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=J,Oe.StrictMode=s,Oe.Suspense=m,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return he.H.useMemoCache(D)}},Oe.cache=function(D){return function(){return D.apply(null,arguments)}},Oe.cloneElement=function(D,X,se){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=M({},D.props),ue=D.key,be=void 0;if(X!=null)for(ye in X.ref!==void 0&&(be=void 0),X.key!==void 0&&(ue=""+X.key),X)!Te.call(X,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&X.ref===void 0||(re[ye]=X[ye]);var ye=arguments.length-2;if(ye===1)re.children=se;else if(1<ye){for(var ut=Array(ye),$e=0;$e<ye;$e++)ut[$e]=arguments[$e+2];re.children=ut}return k(D.type,ue,void 0,void 0,be,re)},Oe.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Oe.createElement=function(D,X,se){var re,ue={},be=null;if(X!=null)for(re in X.key!==void 0&&(be=""+X.key),X)Te.call(X,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ue[re]=X[re]);var ye=arguments.length-2;if(ye===1)ue.children=se;else if(1<ye){for(var ut=Array(ye),$e=0;$e<ye;$e++)ut[$e]=arguments[$e+2];ue.children=ut}if(D&&D.defaultProps)for(re in ye=D.defaultProps,ye)ue[re]===void 0&&(ue[re]=ye[re]);return k(D,be,void 0,void 0,null,ue)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(D){return{$$typeof:p,render:D}},Oe.isValidElement=I,Oe.lazy=function(D){return{$$typeof:v,_payload:{_status:-1,_result:D},_init:oe}},Oe.memo=function(D,X){return{$$typeof:g,type:D,compare:X===void 0?null:X}},Oe.startTransition=function(D){var X=he.T,se={};he.T=se;try{var re=D(),ue=he.S;ue!==null&&ue(se,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then($,ce)}catch(be){ce(be)}finally{he.T=X}},Oe.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Oe.use=function(D){return he.H.use(D)},Oe.useActionState=function(D,X,se){return he.H.useActionState(D,X,se)},Oe.useCallback=function(D,X){return he.H.useCallback(D,X)},Oe.useContext=function(D){return he.H.useContext(D)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(D,X){return he.H.useDeferredValue(D,X)},Oe.useEffect=function(D,X,se){var re=he.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(D,X)},Oe.useId=function(){return he.H.useId()},Oe.useImperativeHandle=function(D,X,se){return he.H.useImperativeHandle(D,X,se)},Oe.useInsertionEffect=function(D,X){return he.H.useInsertionEffect(D,X)},Oe.useLayoutEffect=function(D,X){return he.H.useLayoutEffect(D,X)},Oe.useMemo=function(D,X){return he.H.useMemo(D,X)},Oe.useOptimistic=function(D,X){return he.H.useOptimistic(D,X)},Oe.useReducer=function(D,X,se){return he.H.useReducer(D,X,se)},Oe.useRef=function(D){return he.H.useRef(D)},Oe.useState=function(D){return he.H.useState(D)},Oe.useSyncExternalStore=function(D,X,se){return he.H.useSyncExternalStore(D,X,se)},Oe.useTransition=function(){return he.H.useTransition()},Oe.version="19.1.0",Oe}var xv;function lm(){return xv||(xv=1,cp.exports=jx()),cp.exports}var j=lm();const zx=p1(j);var hp={exports:{}},zl={},dp={exports:{}},fp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv;function Bx(){return Sv||(Sv=1,function(r){function e(Q,oe){var ce=Q.length;Q.push(oe);e:for(;0<ce;){var $=ce-1>>>1,D=Q[$];if(0<o(D,oe))Q[$]=oe,Q[ce]=D,ce=$;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var oe=Q[0],ce=Q.pop();if(ce!==oe){Q[0]=ce;e:for(var $=0,D=Q.length,X=D>>>1;$<X;){var se=2*($+1)-1,re=Q[se],ue=se+1,be=Q[ue];if(0>o(re,ce))ue<D&&0>o(be,re)?(Q[$]=be,Q[ue]=ce,$=ue):(Q[$]=re,Q[se]=ce,$=se);else if(ue<D&&0>o(be,ce))Q[$]=be,Q[ue]=ce,$=ue;else break e}}return oe}function o(Q,oe){var ce=Q.sortIndex-oe.sortIndex;return ce!==0?ce:Q.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var m=[],g=[],v=1,S=null,x=3,O=!1,M=!1,F=!1,L=!1,W=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function pe(Q){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=Q)s(g),oe.sortIndex=oe.expirationTime,e(m,oe);else break;oe=n(g)}}function he(Q){if(F=!1,pe(Q),!M)if(n(m)!==null)M=!0,Te||(Te=!0,P());else{var oe=n(g);oe!==null&&Qe(he,oe.startTime-Q)}}var Te=!1,k=-1,w=5,I=-1;function V(){return L?!0:!(r.unstable_now()-I<w)}function C(){if(L=!1,Te){var Q=r.unstable_now();I=Q;var oe=!0;try{e:{M=!1,F&&(F=!1,J(k),k=-1),O=!0;var ce=x;try{t:{for(pe(Q),S=n(m);S!==null&&!(S.expirationTime>Q&&V());){var $=S.callback;if(typeof $=="function"){S.callback=null,x=S.priorityLevel;var D=$(S.expirationTime<=Q);if(Q=r.unstable_now(),typeof D=="function"){S.callback=D,pe(Q),oe=!0;break t}S===n(m)&&s(m),pe(Q)}else s(m);S=n(m)}if(S!==null)oe=!0;else{var X=n(g);X!==null&&Qe(he,X.startTime-Q),oe=!1}}break e}finally{S=null,x=ce,O=!1}oe=void 0}}finally{oe?P():Te=!1}}}var P;if(typeof ae=="function")P=function(){ae(C)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ke=R.port2;R.port1.onmessage=C,P=function(){Ke.postMessage(null)}}else P=function(){W(C,0)};function Qe(Q,oe){k=W(function(){Q(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(Q){switch(x){case 1:case 2:case 3:var oe=3;break;default:oe=x}var ce=x;x=oe;try{return Q()}finally{x=ce}},r.unstable_requestPaint=function(){L=!0},r.unstable_runWithPriority=function(Q,oe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=x;x=Q;try{return oe()}finally{x=ce}},r.unstable_scheduleCallback=function(Q,oe,ce){var $=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?$+ce:$):ce=$,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ce+D,Q={id:v++,callback:oe,priorityLevel:Q,startTime:ce,expirationTime:D,sortIndex:-1},ce>$?(Q.sortIndex=ce,e(g,Q),n(m)===null&&Q===n(g)&&(F?(J(k),k=-1):F=!0,Qe(he,ce-$))):(Q.sortIndex=D,e(m,Q),M||O||(M=!0,Te||(Te=!0,P()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var oe=x;return function(){var ce=x;x=oe;try{return Q.apply(this,arguments)}finally{x=ce}}}}(fp)),fp}var Av;function qx(){return Av||(Av=1,dp.exports=Bx()),dp.exports}var pp={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv;function Hx(){if(wv)return rn;wv=1;var r=lm();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,g,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:m,containerInfo:g,implementation:v}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(m,g,null,v)},rn.flushSync=function(m){var g=d.T,v=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=g,s.p=v,s.d.f()}},rn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},rn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},rn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,S=p(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:O}):v==="script"&&s.d.X(m,{crossOrigin:S,integrity:x,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},rn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,S=p(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},rn.requestFormReset=function(m){s.d.r(m)},rn.unstable_batchedUpdates=function(m,g){return m(g)},rn.useFormState=function(m,g,v){return d.H.useFormState(m,g,v)},rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var Rv;function Fx(){if(Rv)return pp.exports;Rv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pp.exports=Hx(),pp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iv;function Gx(){if(Iv)return zl;Iv=1;var r=qx(),e=lm(),n=Fx();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function m(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return p(h),t;if(f===l)return p(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var b=!1,T=h.child;T;){if(T===a){b=!0,a=h,l=f;break}if(T===l){b=!0,l=h,a=f;break}T=T.sibling}if(!b){for(T=f.child;T;){if(T===a){b=!0,a=f,l=h;break}if(T===l){b=!0,l=f,a=h;break}T=T.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=C&&t[C]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case M:return"Fragment";case L:return"Profiler";case F:return"StrictMode";case he:return"Suspense";case Te:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case ae:return(t.displayName||"Context")+".Provider";case J:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return i=t.displayName||null,i!==null?i:Ke(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Ke(t(i))}catch{}}return null}var Qe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},$=[],D=-1;function X(t){return{current:t}}function se(t){0>D||(t.current=$[D],$[D]=null,D--)}function re(t,i){D++,$[D]=t.current,t.current=i}var ue=X(null),be=X(null),ye=X(null),ut=X(null);function $e(t,i){switch(re(ye,i),re(be,t),re(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?K0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=K0(i),t=Q0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(ue),re(ue,t)}function gn(){se(ue),se(be),se(ye)}function Vn(t){t.memoizedState!==null&&re(ut,t);var i=ue.current,a=Q0(i,t.type);i!==a&&(re(be,t),re(ue,a))}function Tn(t){be.current===t&&(se(ue),se(be)),ut.current===t&&(se(ut),kl._currentValue=ce)}var pt=Object.prototype.hasOwnProperty,Ct=r.unstable_scheduleCallback,de=r.unstable_cancelCallback,Re=r.unstable_shouldYield,Ge=r.unstable_requestPaint,Ne=r.unstable_now,en=r.unstable_getCurrentPriorityLevel,Lt=r.unstable_ImmediatePriority,Pn=r.unstable_UserBlockingPriority,Ln=r.unstable_NormalPriority,ni=r.unstable_LowPriority,Un=r.unstable_IdlePriority,xn=r.log,Er=r.unstable_setDisableYieldValue,ct=null,Xe=null;function Sn(t){if(typeof xn=="function"&&Er(t),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(ct,t)}catch{}}var tn=Math.clz32?Math.clz32:bs,Cu=Math.log,cd=Math.LN2;function bs(t){return t>>>=0,t===0?32:31-(Cu(t)/cd|0)|0}var Es=256,Ts=4194304;function ii(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ha(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=ii(l):(b&=T,b!==0?h=ii(b):a||(a=T&~t,a!==0&&(h=ii(a))))):(T=l&~f,T!==0?h=ii(T):b!==0?h=ii(b):a||(a=l&~t,a!==0&&(h=ii(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function xs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ko(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var t=Es;return Es<<=1,(Es&4194048)===0&&(Es=256),t}function Po(){var t=Ts;return Ts<<=1,(Ts&62914560)===0&&(Ts=4194304),t}function Ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ji(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lo(t,i,a,l,h,f){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=b&~a;0<a;){var Z=31-tn(a),te=1<<Z;T[Z]=0,N[Z]=-1;var G=H[Z];if(G!==null)for(H[Z]=null,Z=0;Z<G.length;Z++){var Y=G[Z];Y!==null&&(Y.lane&=-536870913)}a&=~te}l!==0&&mi(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(b&~i))}function mi(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-tn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Uo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-tn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Tr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function da(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xr(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:pv(t.type))}function Du(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var ht=Math.random().toString(36).slice(2),Dt="__reactFiber$"+ht,xt="__reactProps$"+ht,jn="__reactContainer$"+ht,jo="__reactEvents$"+ht,hd="__reactListeners$"+ht,Sr="__reactHandles$"+ht,Nu="__reactResources$"+ht,Ss="__reactMarker$"+ht;function Ar(t){delete t[Dt],delete t[xt],delete t[jo],delete t[hd],delete t[Sr]}function zi(t){var i=t[Dt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[jn]||a[Dt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=J0(t);t!==null;){if(a=t[Dt])return a;t=J0(t)}return i}t=a,a=t.parentNode}return null}function gi(t){if(t=t[Dt]||t[jn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function yi(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function cn(t){var i=t[Nu];return i||(i=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function _t(t){t[Ss]=!0}var zo=new Set,fa={};function ri(t,i){Bi(t,i),Bi(t+"Capture",i)}function Bi(t,i){for(fa[t]=i,t=0;t<i.length;t++)zo.add(i[t])}var Ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mu={},As={};function ku(t){return pt.call(As,t)?!0:pt.call(Mu,t)?!1:Ou.test(t)?As[t]=!0:(Mu[t]=!0,!1)}function wr(t,i,a){if(ku(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vi(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Gt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var ws,Vu;function qi(t){if(ws===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ws=i&&i[1]||"",Vu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+t+Vu}var pa=!1;function ma(t,i){if(!t||pa)return"";pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var G=Y}Reflect.construct(t,[],te)}else{try{te.call()}catch(Y){G=Y}t.call(te.prototype)}}else{try{throw Error()}catch(Y){G=Y}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),b=f[0],T=f[1];if(b&&T){var N=b.split(`
`),H=T.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===H.length)for(l=N.length-1,h=H.length-1;1<=l&&0<=h&&N[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==H[h]){var Z=`
`+N[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{pa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?qi(a):""}function Bo(t){switch(t.tag){case 26:case 27:case 5:return qi(t.type);case 16:return qi("Lazy");case 13:return qi("Suspense");case 19:return qi("SuspenseList");case 0:case 15:return ma(t.type,!1);case 11:return ma(t.type.render,!1);case 1:return ma(t.type,!0);case 31:return qi("Activity");default:return""}}function ga(t){try{var i="";do i+=Bo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function dd(t){var i=qo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,f.call(this,b)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ya(t){t._valueTracker||(t._valueTracker=dd(t))}function Ho(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=qo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Rs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var fd=/[\n"\\]/g;function St(t){return t.replace(fd,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function An(t,i,a,l,h,f,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),i!=null?b==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+hn(i)):t.value!==""+hn(i)&&(t.value=""+hn(i)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),i!=null?Rr(t,b,hn(i)):a!=null?Rr(t,b,hn(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+hn(T):t.removeAttribute("name")}function Is(t,i,a,l,h,f,b,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+hn(a):"",i=i!=null?""+hn(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Rr(t,i,a){i==="number"&&Rs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Hi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+hn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function nt(t,i,a){if(i!=null&&(i=""+hn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+hn(a):""}function Cs(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Qe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=hn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function zn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ds=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Ds.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Fo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Pu(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&Pu(t,f,i[f])}function Go(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return md.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Fi=null;function Bn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gi=null,Yi=null;function Yo(t){var i=gi(t);if(i&&(t=i.stateNode)){var a=t[xt]||null;e:switch(t=i.stateNode,i.type){case"input":if(An(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[xt]||null;if(!h)throw Error(s(90));An(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ho(l)}break e;case"textarea":nt(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Hi(t,!!a.multiple,i,!1)}}}var _i=!1;function Lu(t,i,a){if(_i)return t(i,a);_i=!0;try{var l=t(i);return l}finally{if(_i=!1,(Gi!==null||Yi!==null)&&(Dc(),Gi&&(i=Gi,t=Yi,Yi=Gi=null,Yo(i),t)))for(i=0;i<t.length;i++)Yo(t[i])}}function Ns(t,i){var a=t.stateNode;if(a===null)return null;var l=a[xt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qn=!1;if(si)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{qn=!1}var bi=null,Ir=null,Wi=null;function Wo(){if(Wi)return Wi;var t,i=Ir,a=i.length,l,h="value"in bi?bi.value:bi.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var b=a-t;for(l=1;l<=b&&i[a-l]===h[f-l];l++);return Wi=h.slice(t,1<l?1-l:void 0)}function Ei(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ti(){return!0}function Ko(){return!1}function Ut(t){function i(a,l,h,f,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ti:Ko,this.isPropagationStopped=Ko,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),i}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=Ut(Ze),Ms=v({},Ze,{view:0,detail:0}),Uu=Ut(Ms),ba,Ea,xi,ks=v({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xi&&(xi&&t.type==="mousemove"?(ba=t.screenX-xi.screenX,Ea=t.screenY-xi.screenY):Ea=ba=0,xi=t),ba)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),Hn=Ut(ks),ju=v({},ks,{dataTransfer:0}),gd=Ut(ju),Vs=v({},Ms,{relatedTarget:0}),Ta=Ut(Vs),Qo=v({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=Ut(Qo),zu=v({},Ze,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Sa=Ut(zu),yd=v({},Ze,{data:0}),$o=Ut(yd),Ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qu[t])?!!i[t]:!1}function Ls(){return Xo}var Hu=v({},Ms,{key:function(t){if(t.key){var i=Ps[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(t){return t.type==="keypress"?Ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aa=Ut(Hu),Fu=v({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=Ut(Fu),Ki=v({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),Gu=Ut(Ki),Yu=v({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wu=Ut(Yu),Ku=v({},ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=Ut(Ku),dn=v({},Ze,{newState:0,oldState:0}),Qu=Ut(dn),$u=[9,13,27,32],Si=si&&"CompositionEvent"in window,c=null;si&&"documentMode"in document&&(c=document.documentMode);var y=si&&"TextEvent"in window&&!c,_=si&&(!Si||c&&8<c&&11>=c),A=" ",B=!1;function K(t,i){switch(t){case"keyup":return $u.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Be=!1;function Nt(t,i){switch(t){case"compositionend":return le(i);case"keypress":return i.which!==32?null:(B=!0,A);case"textInput":return t=i.data,t===A&&B?null:t;default:return null}}function qe(t,i){if(Be)return t==="compositionend"||!Si&&K(t,i)?(t=Wo(),Wi=Ir=bi=null,Be=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ot(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!jt[t.type]:i==="textarea"}function Qi(t,i,a,l){Gi?Yi?Yi.push(l):Yi=[l]:Gi=l,i=Pc(i,"onChange"),0<i.length&&(a=new _a("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Yt=null,Ai=null;function Jo(t){H0(t,0)}function Xu(t){var i=yi(t);if(Ho(i))return t}function cg(t,i){if(t==="change")return i}var hg=!1;if(si){var vd;if(si){var _d="oninput"in document;if(!_d){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),_d=typeof dg.oninput=="function"}vd=_d}else vd=!1;hg=vd&&(!document.documentMode||9<document.documentMode)}function fg(){Yt&&(Yt.detachEvent("onpropertychange",pg),Ai=Yt=null)}function pg(t){if(t.propertyName==="value"&&Xu(Ai)){var i=[];Qi(i,Ai,t,Bn(t)),Lu(Jo,i)}}function fT(t,i,a){t==="focusin"?(fg(),Yt=i,Ai=a,Yt.attachEvent("onpropertychange",pg)):t==="focusout"&&fg()}function pT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(Ai)}function mT(t,i){if(t==="click")return Xu(i)}function gT(t,i){if(t==="input"||t==="change")return Xu(i)}function yT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var wn=typeof Object.is=="function"?Object.is:yT;function el(t,i){if(wn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!pt.call(i,h)||!wn(t[h],i[h]))return!1}return!0}function mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function gg(t,i){var a=mg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mg(a)}}function yg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?yg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Rs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Rs(t.document)}return i}function bd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var vT=si&&"documentMode"in document&&11>=document.documentMode,Ra=null,Ed=null,tl=null,Td=!1;function _g(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Td||Ra==null||Ra!==Rs(l)||(l=Ra,"selectionStart"in l&&bd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=Pc(Ed,"onSelect"),0<l.length&&(i=new _a("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ra)))}function Us(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},xd={},bg={};si&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function js(t){if(xd[t])return xd[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in bg)return xd[t]=i[a];return t}var Eg=js("animationend"),Tg=js("animationiteration"),xg=js("animationstart"),_T=js("transitionrun"),bT=js("transitionstart"),ET=js("transitioncancel"),Sg=js("transitionend"),Ag=new Map,Sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sd.push("scrollEnd");function ai(t,i){Ag.set(t,i),ri(i,[t])}var wg=new WeakMap;function Fn(t,i){if(typeof t=="object"&&t!==null){var a=wg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ga(i)},wg.set(t,i),i)}return{value:t,source:i,stack:ga(i)}}var Gn=[],Ca=0,Ad=0;function Zu(){for(var t=Ca,i=Ad=Ca=0;i<t;){var a=Gn[i];Gn[i++]=null;var l=Gn[i];Gn[i++]=null;var h=Gn[i];Gn[i++]=null;var f=Gn[i];if(Gn[i++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}f!==0&&Rg(a,h,f)}}function Ju(t,i,a,l){Gn[Ca++]=t,Gn[Ca++]=i,Gn[Ca++]=a,Gn[Ca++]=l,Ad|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wd(t,i,a,l){return Ju(t,i,a,l),ec(t)}function Da(t,i){return Ju(t,null,null,i),ec(t)}function Rg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-tn(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),f):null}function ec(t){if(50<wl)throw wl=0,Mf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Na={};function TT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,i,a,l){return new TT(t,i,a,l)}function Rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,i){var a=t.alternate;return a===null?(a=Rn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ig(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function tc(t,i,a,l,h,f){var b=0;if(l=t,typeof t=="function")Rd(t)&&(b=1);else if(typeof t=="string")b=Sx(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Rn(31,a,i,h),t.elementType=I,t.lanes=f,t;case M:return zs(a.children,h,f,i);case F:b=8,h|=24;break;case L:return t=Rn(12,a,i,h|2),t.elementType=L,t.lanes=f,t;case he:return t=Rn(13,a,i,h),t.elementType=he,t.lanes=f,t;case Te:return t=Rn(19,a,i,h),t.elementType=Te,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:case ae:b=10;break e;case J:b=9;break e;case pe:b=11;break e;case k:b=14;break e;case w:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Rn(b,a,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function zs(t,i,a,l){return t=Rn(7,t,l,i),t.lanes=a,t}function Id(t,i,a){return t=Rn(6,t,null,i),t.lanes=a,t}function Cd(t,i,a){return i=Rn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Oa=[],Ma=0,nc=null,ic=0,Yn=[],Wn=0,Bs=null,Xi=1,Zi="";function qs(t,i){Oa[Ma++]=ic,Oa[Ma++]=nc,nc=t,ic=i}function Cg(t,i,a){Yn[Wn++]=Xi,Yn[Wn++]=Zi,Yn[Wn++]=Bs,Bs=t;var l=Xi;t=Zi;var h=32-tn(l)-1;l&=~(1<<h),a+=1;var f=32-tn(i)+h;if(30<f){var b=h-h%5;f=(l&(1<<b)-1).toString(32),l>>=b,h-=b,Xi=1<<32-tn(i)+h|a<<h|l,Zi=f+t}else Xi=1<<f|a<<h|l,Zi=t}function Dd(t){t.return!==null&&(qs(t,1),Cg(t,1,0))}function Nd(t){for(;t===nc;)nc=Oa[--Ma],Oa[Ma]=null,ic=Oa[--Ma],Oa[Ma]=null;for(;t===Bs;)Bs=Yn[--Wn],Yn[Wn]=null,Zi=Yn[--Wn],Yn[Wn]=null,Xi=Yn[--Wn],Yn[Wn]=null}var fn=null,yt=null,We=!1,Hs=null,wi=!1,Od=Error(s(519));function Fs(t){var i=Error(s(418,""));throw rl(Fn(i,t)),Od}function Dg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Dt]=t,i[xt]=l,a){case"dialog":Le("cancel",i),Le("close",i);break;case"iframe":case"object":case"embed":Le("load",i);break;case"video":case"audio":for(a=0;a<Il.length;a++)Le(Il[a],i);break;case"source":Le("error",i);break;case"img":case"image":case"link":Le("error",i),Le("load",i);break;case"details":Le("toggle",i);break;case"input":Le("invalid",i),Is(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ya(i);break;case"select":Le("invalid",i);break;case"textarea":Le("invalid",i),Cs(i,l.value,l.defaultValue,l.children),ya(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||W0(i.textContent,a)?(l.popover!=null&&(Le("beforetoggle",i),Le("toggle",i)),l.onScroll!=null&&Le("scroll",i),l.onScrollEnd!=null&&Le("scrollend",i),l.onClick!=null&&(i.onclick=Lc),i=!0):i=!1,i||Fs(t)}function Ng(t){for(fn=t.return;fn;)switch(fn.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:fn=fn.return}}function nl(t){if(t!==fn)return!1;if(!We)return Ng(t),We=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qf(t.type,t.memoizedProps)),a=!a),a&&yt&&Fs(t),Ng(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){yt=li(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}yt=null}}else i===27?(i=yt,Fr(t.type)?(t=Jf,Jf=null,yt=t):yt=i):yt=fn?li(t.stateNode.nextSibling):null;return!0}function il(){yt=fn=null,We=!1}function Og(){var t=Hs;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),Hs=null),t}function rl(t){Hs===null?Hs=[t]:Hs.push(t)}var Md=X(null),Gs=null,Ji=null;function Cr(t,i,a){re(Md,i._currentValue),i._currentValue=a}function er(t){t._currentValue=Md.current,se(Md)}function kd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Vd(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var b=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var N=0;N<i.length;N++)if(T.context===i[N]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),kd(f.return,a,t),l||(b=null);break e}f=T.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=a,f=b.alternate,f!==null&&(f.lanes|=a),kd(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function sl(t,i,a,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=h.type;wn(h.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(h===ut.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}h=h.return}t!==null&&Vd(i,t,a,l),i.flags|=262144}function rc(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ys(t){Gs=t,Ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nn(t){return Mg(Gs,t)}function sc(t,i){return Gs===null&&Ys(t),Mg(t,i)}function Mg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ji===null){if(t===null)throw Error(s(308));Ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ji=Ji.next=i;return a}var xT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ST=r.unstable_scheduleCallback,AT=r.unstable_NormalPriority,Mt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new xT,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&ST(AT,function(){t.controller.abort()})}var ol=null,Ld=0,ka=0,Va=null;function wT(t,i){if(ol===null){var a=ol=[];Ld=0,ka=zf(),Va={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ld++,i.then(kg,kg),i}function kg(){if(--Ld===0&&ol!==null){Va!==null&&(Va.status="fulfilled");var t=ol;ol=null,ka=0,Va=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function RT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Vg=Q.S;Q.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&wT(t,i),Vg!==null&&Vg(t,i)};var Ws=X(null);function Ud(){var t=Ws.current;return t!==null?t:ot.pooledCache}function ac(t,i){i===null?re(Ws,Ws.current):re(Ws,i.pool)}function Pg(){var t=Ud();return t===null?null:{parent:Mt._currentValue,pool:t}}var ll=Error(s(460)),Lg=Error(s(474)),oc=Error(s(542)),jd={then:function(){}};function Ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function lc(){}function jg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(lc,lc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bg(t),t;default:if(typeof i.status=="string")i.then(lc,lc);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Bg(t),t}throw ul=i,ll}}var ul=null;function zg(){if(ul===null)throw Error(s(459));var t=ul;return ul=null,t}function Bg(t){if(t===ll||t===oc)throw Error(s(483))}var Dr=!1;function zd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Nr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Or(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(et&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ec(t),Rg(t,null,a),i}return Ju(t,l,i,a),ec(t)}function cl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}function qd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=b:f=f.next=b,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Hd=!1;function hl(){if(Hd){var t=Va;if(t!==null)throw t}}function dl(t,i,a,l){Hd=!1;var h=t.updateQueue;Dr=!1;var f=h.firstBaseUpdate,b=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var N=T,H=N.next;N.next=null,b===null?f=H:b.next=H,b=N;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==b&&(T===null?Z.firstBaseUpdate=H:T.next=H,Z.lastBaseUpdate=N))}if(f!==null){var te=h.baseState;b=0,Z=H=N=null,T=f;do{var G=T.lane&-536870913,Y=G!==T.lane;if(Y?(He&G)===G:(l&G)===G){G!==0&&G===ka&&(Hd=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ie=t,Ee=T;G=i;var st=a;switch(Ee.tag){case 1:if(Ie=Ee.payload,typeof Ie=="function"){te=Ie.call(st,te,G);break e}te=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ee.payload,G=typeof Ie=="function"?Ie.call(st,te,G):Ie,G==null)break e;te=v({},te,G);break e;case 2:Dr=!0}}G=T.callback,G!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(H=Z=Y,N=te):Z=Z.next=Y,b|=G;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Y=T,T=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Z===null&&(N=te),h.baseState=N,h.firstBaseUpdate=H,h.lastBaseUpdate=Z,f===null&&(h.shared.lanes=0),zr|=b,t.lanes=b,t.memoizedState=te}}function qg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Hg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)qg(a[t],i)}var Pa=X(null),uc=X(0);function Fg(t,i){t=or,re(uc,t),re(Pa,i),or=t|i.baseLanes}function Fd(){re(uc,or),re(Pa,Pa.current)}function Gd(){or=uc.current,se(Pa),se(uc)}var Mr=0,Me=null,it=null,At=null,cc=!1,La=!1,Ks=!1,hc=0,fl=0,Ua=null,IT=0;function bt(){throw Error(s(321))}function Yd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!wn(t[a],i[a]))return!1;return!0}function Wd(t,i,a,l,h,f){return Mr=f,Me=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?Ry:Iy,Ks=!1,f=a(l,h),Ks=!1,La&&(f=Yg(i,a,l,h)),Gg(t),f}function Gg(t){Q.H=yc;var i=it!==null&&it.next!==null;if(Mr=0,At=it=Me=null,cc=!1,fl=0,Ua=null,i)throw Error(s(300));t===null||zt||(t=t.dependencies,t!==null&&rc(t)&&(zt=!0))}function Yg(t,i,a,l){Me=t;var h=0;do{if(La&&(Ua=null),fl=0,La=!1,25<=h)throw Error(s(301));if(h+=1,At=it=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=VT,f=i(a,l)}while(La);return f}function CT(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?pl(i):i,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Me.flags|=1024),i}function Kd(){var t=hc!==0;return hc=0,t}function Qd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function $d(t){if(cc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}cc=!1}Mr=0,At=it=Me=null,La=!1,fl=hc=0,Ua=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Me.memoizedState=At=t:At=At.next=t,At}function wt(){if(it===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var i=At===null?Me.memoizedState:At.next;if(i!==null)At=i,it=t;else{if(t===null)throw Me.alternate===null?Error(s(467)):Error(s(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},At===null?Me.memoizedState=At=t:At=At.next=t}return At}function Xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var i=fl;return fl+=1,Ua===null&&(Ua=[]),t=jg(Ua,t,i),i=Me,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Ry:Iy),t}function dc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===ae)return nn(t)}throw Error(s(438,String(t)))}function Zd(t){var i=null,a=Me.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Xd(),Me.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function tr(t,i){return typeof i=="function"?i(t):i}function fc(t){var i=wt();return Jd(i,it,t)}function Jd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var b=h.next;h.next=f.next,f.next=b}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var T=b=null,N=null,H=i,Z=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(He&te)===te:(Mr&te)===te){var G=H.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===ka&&(Z=!0);else if((Mr&G)===G){H=H.next,G===ka&&(Z=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=te,b=f):N=N.next=te,Me.lanes|=G,zr|=G;te=H.action,Ks&&a(f,te),f=H.hasEagerState?H.eagerState:a(f,te)}else G={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(T=N=G,b=f):N=N.next=G,Me.lanes|=te,zr|=te;H=H.next}while(H!==null&&H!==i);if(N===null?b=f:N.next=T,!wn(f,t.memoizedState)&&(zt=!0,Z&&(a=Va,a!==null)))throw a;t.memoizedState=f,t.baseState=b,t.baseQueue=N,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ef(t){var i=wt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do f=t(f,b.action),b=b.next;while(b!==h);wn(f,i.memoizedState)||(zt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Wg(t,i,a){var l=Me,h=wt(),f=We;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!wn((it||h).memoizedState,a);b&&(h.memoizedState=a,zt=!0),h=h.queue;var T=$g.bind(null,l,h,t);if(ml(2048,8,T,[t]),h.getSnapshot!==i||b||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,ja(9,pc(),Qg.bind(null,l,h,a,i),null),ot===null)throw Error(s(349));f||(Mr&124)!==0||Kg(l,i,a)}return a}function Kg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Me.updateQueue,i===null?(i=Xd(),Me.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Qg(t,i,a,l){i.value=a,i.getSnapshot=l,Xg(i)&&Zg(t)}function $g(t,i,a){return a(function(){Xg(i)&&Zg(t)})}function Xg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!wn(t,a)}catch{return!0}}function Zg(t){var i=Da(t,2);i!==null&&On(i,t,2)}function tf(t){var i=yn();if(typeof t=="function"){var a=t;if(t=a(),Ks){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:t},i}function Jg(t,i,a,l){return t.baseState=a,Jd(t,it,typeof l=="function"?l:tr)}function DT(t,i,a,l,h){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,ey(i,f)):(f.next=a.next,i.pending=a.next=f)}}function ey(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=Q.T,b={};Q.T=b;try{var T=a(h,l),N=Q.S;N!==null&&N(b,T),ty(t,i,T)}catch(H){nf(t,i,H)}finally{Q.T=f}}else try{f=a(h,l),ty(t,i,f)}catch(H){nf(t,i,H)}}function ty(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ny(t,i,l)},function(l){return nf(t,i,l)}):ny(t,i,a)}function ny(t,i,a){i.status="fulfilled",i.value=a,iy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ey(t,a)))}function nf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,iy(i),i=i.next;while(i!==l)}t.action=null}function iy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ry(t,i){return i}function sy(t,i){if(We){var a=ot.formState;if(a!==null){e:{var l=Me;if(We){if(yt){t:{for(var h=yt,f=wi;h.nodeType!==8;){if(!f){h=null;break t}if(h=li(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){yt=li(h.nextSibling),l=h.data==="F!";break e}}Fs(l)}l=!1}l&&(i=a[0])}}return a=yn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:i},a.queue=l,a=Sy.bind(null,Me,l),l.dispatch=a,l=tf(!1),f=lf.bind(null,Me,!1,l.queue),l=yn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=DT.bind(null,Me,h,f,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function ay(t){var i=wt();return oy(i,it,t)}function oy(t,i,a){if(i=Jd(t,i,ry)[0],t=fc(tr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=pl(i)}catch(b){throw b===ll?oc:b}else l=i;i=wt();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Me.flags|=2048,ja(9,pc(),NT.bind(null,h,a),null)),[l,f,t]}function NT(t,i){t.action=i}function ly(t){var i=wt(),a=it;if(a!==null)return oy(i,a,t);wt(),i=i.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ja(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Me.updateQueue,i===null&&(i=Xd(),Me.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function pc(){return{destroy:void 0,resource:void 0}}function uy(){return wt().memoizedState}function mc(t,i,a,l){var h=yn();l=l===void 0?null:l,Me.flags|=t,h.memoizedState=ja(1|i,pc(),a,l)}function ml(t,i,a,l){var h=wt();l=l===void 0?null:l;var f=h.memoizedState.inst;it!==null&&l!==null&&Yd(l,it.memoizedState.deps)?h.memoizedState=ja(i,f,a,l):(Me.flags|=t,h.memoizedState=ja(1|i,f,a,l))}function cy(t,i){mc(8390656,8,t,i)}function hy(t,i){ml(2048,8,t,i)}function dy(t,i){return ml(4,2,t,i)}function fy(t,i){return ml(4,4,t,i)}function py(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function my(t,i,a){a=a!=null?a.concat([t]):null,ml(4,4,py.bind(null,i,t),a)}function rf(){}function gy(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Yd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function yy(t,i){var a=wt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Yd(i,l[1]))return l[0];if(l=t(),Ks){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l}function sf(t,i,a){return a===void 0||(Mr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=b0(),Me.lanes|=t,zr|=t,a)}function vy(t,i,a,l){return wn(a,i)?a:Pa.current!==null?(t=sf(t,a,l),wn(t,i)||(zt=!0),t):(Mr&42)===0?(zt=!0,t.memoizedState=a):(t=b0(),Me.lanes|=t,zr|=t,i)}function _y(t,i,a,l,h){var f=oe.p;oe.p=f!==0&&8>f?f:8;var b=Q.T,T={};Q.T=T,lf(t,!1,i,a);try{var N=h(),H=Q.S;if(H!==null&&H(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=RT(N,l);gl(t,i,Z,Nn(t))}else gl(t,i,l,Nn(t))}catch(te){gl(t,i,{then:function(){},status:"rejected",reason:te},Nn())}finally{oe.p=f,Q.T=b}}function OT(){}function af(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=by(t).queue;_y(t,h,i,ce,a===null?OT:function(){return Ey(t),a(l)})}function by(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:ce},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ey(t){var i=by(t).next.queue;gl(t,i,{},Nn())}function of(){return nn(kl)}function Ty(){return wt().memoizedState}function xy(){return wt().memoizedState}function MT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Nn();t=Nr(a);var l=Or(i,t,a);l!==null&&(On(l,i,a),cl(l,i,a)),i={cache:Pd()},t.payload=i;return}i=i.return}}function kT(t,i,a){var l=Nn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?Ay(i,a):(a=wd(t,i,a,l),a!==null&&(On(a,t,l),wy(a,i,l)))}function Sy(t,i,a){var l=Nn();gl(t,i,a,l)}function gl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))Ay(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var b=i.lastRenderedState,T=f(b,a);if(h.hasEagerState=!0,h.eagerState=T,wn(T,b))return Ju(t,i,h,0),ot===null&&Zu(),!1}catch{}finally{}if(a=wd(t,i,h,l),a!==null)return On(a,t,l),wy(a,i,l),!0}return!1}function lf(t,i,a,l){if(l={lane:2,revertLane:zf(),action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=wd(t,a,l,2),i!==null&&On(i,t,2)}function gc(t){var i=t.alternate;return t===Me||i!==null&&i===Me}function Ay(t,i){La=cc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function wy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}var yc={readContext:nn,use:dc,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},Ry={readContext:nn,use:dc,useCallback:function(t,i){return yn().memoizedState=[t,i===void 0?null:i],t},useContext:nn,useEffect:cy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,mc(4194308,4,py.bind(null,i,t),a)},useLayoutEffect:function(t,i){return mc(4194308,4,t,i)},useInsertionEffect:function(t,i){mc(4,2,t,i)},useMemo:function(t,i){var a=yn();i=i===void 0?null:i;var l=t();if(Ks){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=yn();if(a!==void 0){var h=a(i);if(Ks){Sn(!0);try{a(i)}finally{Sn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=kT.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var i=yn();return t={current:t},i.memoizedState=t},useState:function(t){t=tf(t);var i=t.queue,a=Sy.bind(null,Me,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:rf,useDeferredValue:function(t,i){var a=yn();return sf(a,t,i)},useTransition:function(){var t=tf(!1);return t=_y.bind(null,Me,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Me,h=yn();if(We){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ot===null)throw Error(s(349));(He&124)!==0||Kg(l,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,cy($g.bind(null,l,f,t),[t]),l.flags|=2048,ja(9,pc(),Qg.bind(null,l,f,a,i),null),a},useId:function(){var t=yn(),i=ot.identifierPrefix;if(We){var a=Zi,l=Xi;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,i=""+i+"R"+a,a=hc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=IT++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:of,useFormState:sy,useActionState:sy,useOptimistic:function(t){var i=yn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=lf.bind(null,Me,!0,a),a.dispatch=i,[t,i]},useMemoCache:Zd,useCacheRefresh:function(){return yn().memoizedState=MT.bind(null,Me)}},Iy={readContext:nn,use:dc,useCallback:gy,useContext:nn,useEffect:hy,useImperativeHandle:my,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:yy,useReducer:fc,useRef:uy,useState:function(){return fc(tr)},useDebugValue:rf,useDeferredValue:function(t,i){var a=wt();return vy(a,it.memoizedState,t,i)},useTransition:function(){var t=fc(tr)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Wg,useId:Ty,useHostTransitionStatus:of,useFormState:ay,useActionState:ay,useOptimistic:function(t,i){var a=wt();return Jg(a,it,t,i)},useMemoCache:Zd,useCacheRefresh:xy},VT={readContext:nn,use:dc,useCallback:gy,useContext:nn,useEffect:hy,useImperativeHandle:my,useInsertionEffect:dy,useLayoutEffect:fy,useMemo:yy,useReducer:ef,useRef:uy,useState:function(){return ef(tr)},useDebugValue:rf,useDeferredValue:function(t,i){var a=wt();return it===null?sf(a,t,i):vy(a,it.memoizedState,t,i)},useTransition:function(){var t=ef(tr)[0],i=wt().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Wg,useId:Ty,useHostTransitionStatus:of,useFormState:ly,useActionState:ly,useOptimistic:function(t,i){var a=wt();return it!==null?Jg(a,it,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Zd,useCacheRefresh:xy},za=null,yl=0;function vc(t){var i=yl;return yl+=1,za===null&&(za=[]),jg(za,t,i)}function vl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function _c(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Cy(t){var i=t._init;return i(t._payload)}function Dy(t){function i(z,U){if(t){var q=z.deletions;q===null?(z.deletions=[U],z.flags|=16):q.push(U)}}function a(z,U){if(!t)return null;for(;U!==null;)i(z,U),U=U.sibling;return null}function l(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function h(z,U){return z=$i(z,U),z.index=0,z.sibling=null,z}function f(z,U,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<U?(z.flags|=67108866,U):q):(z.flags|=67108866,U)):(z.flags|=1048576,U)}function b(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,U,q,ee){return U===null||U.tag!==6?(U=Id(q,z.mode,ee),U.return=z,U):(U=h(U,q),U.return=z,U)}function N(z,U,q,ee){var ge=q.type;return ge===M?Z(z,U,q.props.children,ee,q.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Cy(ge)===U.type)?(U=h(U,q.props),vl(U,q),U.return=z,U):(U=tc(q.type,q.key,q.props,null,z.mode,ee),vl(U,q),U.return=z,U)}function H(z,U,q,ee){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Cd(q,z.mode,ee),U.return=z,U):(U=h(U,q.children||[]),U.return=z,U)}function Z(z,U,q,ee,ge){return U===null||U.tag!==7?(U=zs(q,z.mode,ee,ge),U.return=z,U):(U=h(U,q),U.return=z,U)}function te(z,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Id(""+U,z.mode,q),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case x:return q=tc(U.type,U.key,U.props,null,z.mode,q),vl(q,U),q.return=z,q;case O:return U=Cd(U,z.mode,q),U.return=z,U;case w:var ee=U._init;return U=ee(U._payload),te(z,U,q)}if(Qe(U)||P(U))return U=zs(U,z.mode,q,null),U.return=z,U;if(typeof U.then=="function")return te(z,vc(U),q);if(U.$$typeof===ae)return te(z,sc(z,U),q);_c(z,U)}return null}function G(z,U,q,ee){var ge=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:T(z,U,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return q.key===ge?N(z,U,q,ee):null;case O:return q.key===ge?H(z,U,q,ee):null;case w:return ge=q._init,q=ge(q._payload),G(z,U,q,ee)}if(Qe(q)||P(q))return ge!==null?null:Z(z,U,q,ee,null);if(typeof q.then=="function")return G(z,U,vc(q),ee);if(q.$$typeof===ae)return G(z,U,sc(z,q),ee);_c(z,q)}return null}function Y(z,U,q,ee,ge){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(q)||null,T(U,z,""+ee,ge);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return z=z.get(ee.key===null?q:ee.key)||null,N(U,z,ee,ge);case O:return z=z.get(ee.key===null?q:ee.key)||null,H(U,z,ee,ge);case w:var Ve=ee._init;return ee=Ve(ee._payload),Y(z,U,q,ee,ge)}if(Qe(ee)||P(ee))return z=z.get(q)||null,Z(U,z,ee,ge,null);if(typeof ee.then=="function")return Y(z,U,q,vc(ee),ge);if(ee.$$typeof===ae)return Y(z,U,q,sc(U,ee),ge);_c(U,ee)}return null}function Ie(z,U,q,ee){for(var ge=null,Ve=null,ve=U,xe=U=0,qt=null;ve!==null&&xe<q.length;xe++){ve.index>xe?(qt=ve,ve=null):qt=ve.sibling;var Ye=G(z,ve,q[xe],ee);if(Ye===null){ve===null&&(ve=qt);break}t&&ve&&Ye.alternate===null&&i(z,ve),U=f(Ye,U,xe),Ve===null?ge=Ye:Ve.sibling=Ye,Ve=Ye,ve=qt}if(xe===q.length)return a(z,ve),We&&qs(z,xe),ge;if(ve===null){for(;xe<q.length;xe++)ve=te(z,q[xe],ee),ve!==null&&(U=f(ve,U,xe),Ve===null?ge=ve:Ve.sibling=ve,Ve=ve);return We&&qs(z,xe),ge}for(ve=l(ve);xe<q.length;xe++)qt=Y(ve,z,xe,q[xe],ee),qt!==null&&(t&&qt.alternate!==null&&ve.delete(qt.key===null?xe:qt.key),U=f(qt,U,xe),Ve===null?ge=qt:Ve.sibling=qt,Ve=qt);return t&&ve.forEach(function(Qr){return i(z,Qr)}),We&&qs(z,xe),ge}function Ee(z,U,q,ee){if(q==null)throw Error(s(151));for(var ge=null,Ve=null,ve=U,xe=U=0,qt=null,Ye=q.next();ve!==null&&!Ye.done;xe++,Ye=q.next()){ve.index>xe?(qt=ve,ve=null):qt=ve.sibling;var Qr=G(z,ve,Ye.value,ee);if(Qr===null){ve===null&&(ve=qt);break}t&&ve&&Qr.alternate===null&&i(z,ve),U=f(Qr,U,xe),Ve===null?ge=Qr:Ve.sibling=Qr,Ve=Qr,ve=qt}if(Ye.done)return a(z,ve),We&&qs(z,xe),ge;if(ve===null){for(;!Ye.done;xe++,Ye=q.next())Ye=te(z,Ye.value,ee),Ye!==null&&(U=f(Ye,U,xe),Ve===null?ge=Ye:Ve.sibling=Ye,Ve=Ye);return We&&qs(z,xe),ge}for(ve=l(ve);!Ye.done;xe++,Ye=q.next())Ye=Y(ve,z,xe,Ye.value,ee),Ye!==null&&(t&&Ye.alternate!==null&&ve.delete(Ye.key===null?xe:Ye.key),U=f(Ye,U,xe),Ve===null?ge=Ye:Ve.sibling=Ye,Ve=Ye);return t&&ve.forEach(function(Px){return i(z,Px)}),We&&qs(z,xe),ge}function st(z,U,q,ee){if(typeof q=="object"&&q!==null&&q.type===M&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case x:e:{for(var ge=q.key;U!==null;){if(U.key===ge){if(ge=q.type,ge===M){if(U.tag===7){a(z,U.sibling),ee=h(U,q.props.children),ee.return=z,z=ee;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===w&&Cy(ge)===U.type){a(z,U.sibling),ee=h(U,q.props),vl(ee,q),ee.return=z,z=ee;break e}a(z,U);break}else i(z,U);U=U.sibling}q.type===M?(ee=zs(q.props.children,z.mode,ee,q.key),ee.return=z,z=ee):(ee=tc(q.type,q.key,q.props,null,z.mode,ee),vl(ee,q),ee.return=z,z=ee)}return b(z);case O:e:{for(ge=q.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){a(z,U.sibling),ee=h(U,q.children||[]),ee.return=z,z=ee;break e}else{a(z,U);break}else i(z,U);U=U.sibling}ee=Cd(q,z.mode,ee),ee.return=z,z=ee}return b(z);case w:return ge=q._init,q=ge(q._payload),st(z,U,q,ee)}if(Qe(q))return Ie(z,U,q,ee);if(P(q)){if(ge=P(q),typeof ge!="function")throw Error(s(150));return q=ge.call(q),Ee(z,U,q,ee)}if(typeof q.then=="function")return st(z,U,vc(q),ee);if(q.$$typeof===ae)return st(z,U,sc(z,q),ee);_c(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(a(z,U.sibling),ee=h(U,q),ee.return=z,z=ee):(a(z,U),ee=Id(q,z.mode,ee),ee.return=z,z=ee),b(z)):a(z,U)}return function(z,U,q,ee){try{yl=0;var ge=st(z,U,q,ee);return za=null,ge}catch(ve){if(ve===ll||ve===oc)throw ve;var Ve=Rn(29,ve,null,z.mode);return Ve.lanes=ee,Ve.return=z,Ve}finally{}}}var Ba=Dy(!0),Ny=Dy(!1),Kn=X(null),Ri=null;function kr(t){var i=t.alternate;re(kt,kt.current&1),re(Kn,t),Ri===null&&(i===null||Pa.current!==null||i.memoizedState!==null)&&(Ri=t)}function Oy(t){if(t.tag===22){if(re(kt,kt.current),re(Kn,t),Ri===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Ri=t)}}else Vr()}function Vr(){re(kt,kt.current),re(Kn,Kn.current)}function nr(t){se(Kn),Ri===t&&(Ri=null),se(kt)}var kt=X(0);function bc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zf(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function uf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var cf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Nn(),h=Nr(l);h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(On(i,t,l),cl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Nn(),h=Nr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(On(i,t,l),cl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Nn(),l=Nr(a);l.tag=2,i!=null&&(l.callback=i),i=Or(t,l,a),i!==null&&(On(i,t,a),cl(i,t,a))}};function My(t,i,a,l,h,f,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,b):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(h,f):!0}function ky(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&cf.enqueueReplaceState(i,i.state,null)}function Qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vy(t){Ec(t)}function Py(t){console.error(t)}function Ly(t){Ec(t)}function Tc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function hf(t,i,a){return a=Nr(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,i)},a}function jy(t){return t=Nr(t),t.tag=3,t}function zy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Uy(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Uy(i,a,l),typeof h!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function PT(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&sl(i,a,h,!0),a=Kn.current,a!==null){switch(a.tag){case 13:return Ri===null?Vf():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===jd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Lf(t,l,h)),!1;case 22:return a.flags|=65536,l===jd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Lf(t,l,h)),!1}throw Error(s(435,a.tag))}return Lf(t,l,h),Vf(),!1}if(We)return i=Kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Od&&(t=Error(s(422),{cause:l}),rl(Fn(t,a)))):(l!==Od&&(i=Error(s(423),{cause:l}),rl(Fn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Fn(l,a),h=hf(t.stateNode,l,h),qd(t,h),vt!==4&&(vt=2)),!1;var f=Error(s(520),{cause:l});if(f=Fn(f,a),Al===null?Al=[f]:Al.push(f),vt!==4&&(vt=2),i===null)return!0;l=Fn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=hf(a.stateNode,l,t),qd(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Br===null||!Br.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jy(h),zy(h,t,a,l),qd(a,h),!1}a=a.return}while(a!==null);return!1}var By=Error(s(461)),zt=!1;function Wt(t,i,a,l){i.child=t===null?Ny(i,null,a,l):Ba(i,t.child,a,l)}function qy(t,i,a,l,h){a=a.render;var f=i.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return Ys(i),l=Wd(t,i,a,b,f,h),T=Kd(),t!==null&&!zt?(Qd(t,i,h),ir(t,i,h)):(We&&T&&Dd(i),i.flags|=1,Wt(t,i,l,h),i.child)}function Hy(t,i,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Rd(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,Fy(t,i,f,l,h)):(t=tc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!_f(t,h)){var b=f.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(b,l)&&t.ref===i.ref)return ir(t,i,h)}return i.flags|=1,t=$i(f,l),t.ref=i.ref,t.return=i,i.child=t}function Fy(t,i,a,l,h){if(t!==null){var f=t.memoizedProps;if(el(f,l)&&t.ref===i.ref)if(zt=!1,i.pendingProps=l=f,_f(t,h))(t.flags&131072)!==0&&(zt=!0);else return i.lanes=t.lanes,ir(t,i,h)}return df(t,i,a,l,h)}function Gy(t,i,a){var l=i.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return Yy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(i,f!==null?f.cachePool:null),f!==null?Fg(i,f):Fd(),Oy(i);else return i.lanes=i.childLanes=536870912,Yy(t,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(ac(i,f.cachePool),Fg(i,f),Vr(),i.memoizedState=null):(t!==null&&ac(i,null),Fd(),Vr());return Wt(t,i,h,a),i.child}function Yy(t,i,a,l){var h=Ud();return h=h===null?null:{parent:Mt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&ac(i,null),Fd(),Oy(i),t!==null&&sl(t,i,l,!0),null}function xc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function df(t,i,a,l,h){return Ys(i),a=Wd(t,i,a,l,void 0,h),l=Kd(),t!==null&&!zt?(Qd(t,i,h),ir(t,i,h)):(We&&l&&Dd(i),i.flags|=1,Wt(t,i,a,h),i.child)}function Wy(t,i,a,l,h,f){return Ys(i),i.updateQueue=null,a=Yg(i,l,a,h),Gg(t),l=Kd(),t!==null&&!zt?(Qd(t,i,f),ir(t,i,f)):(We&&l&&Dd(i),i.flags|=1,Wt(t,i,a,f),i.child)}function Ky(t,i,a,l,h){if(Ys(i),i.stateNode===null){var f=Na,b=a.contextType;typeof b=="object"&&b!==null&&(f=nn(b)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=cf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},zd(i),b=a.contextType,f.context=typeof b=="object"&&b!==null?nn(b):Na,f.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(uf(i,a,b,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&cf.enqueueReplaceState(f,f.state,null),dl(i,l,f,h),hl(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var T=i.memoizedProps,N=Qs(a,T);f.props=N;var H=f.context,Z=a.contextType;b=Na,typeof Z=="object"&&Z!==null&&(b=nn(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||H!==b)&&ky(i,f,l,b),Dr=!1;var G=i.memoizedState;f.state=G,dl(i,l,f,h),hl(),H=i.memoizedState,T||G!==H||Dr?(typeof te=="function"&&(uf(i,a,te,l),H=i.memoizedState),(N=Dr||My(i,a,N,l,G,H,b))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),f.props=l,f.state=H,f.context=b,l=N):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,Bd(t,i),b=i.memoizedProps,Z=Qs(a,b),f.props=Z,te=i.pendingProps,G=f.context,H=a.contextType,N=Na,typeof H=="object"&&H!==null&&(N=nn(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==te||G!==N)&&ky(i,f,l,N),Dr=!1,G=i.memoizedState,f.state=G,dl(i,l,f,h),hl();var Y=i.memoizedState;b!==te||G!==Y||Dr||t!==null&&t.dependencies!==null&&rc(t.dependencies)?(typeof T=="function"&&(uf(i,a,T,l),Y=i.memoizedState),(Z=Dr||My(i,a,Z,l,G,Y,N)||t!==null&&t.dependencies!==null&&rc(t.dependencies))?(H||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,N)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),f.props=l,f.state=Y,f.context=N,l=Z):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,xc(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=Ba(i,t.child,null,h),i.child=Ba(i,null,a,h)):Wt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=ir(t,i,h),t}function Qy(t,i,a,l){return il(),i.flags|=256,Wt(t,i,a,l),i.child}var ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pf(t){return{baseLanes:t,cachePool:Pg()}}function mf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Qn),t}function $y(t,i,a){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,b;if((b=f)||(b=t!==null&&t.memoizedState===null?!1:(kt.current&2)!==0),b&&(h=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,t===null){if(We){if(h?kr(i):Vr(),We){var T=yt,N;if(N=T){e:{for(N=T,T=wi;N.nodeType!==8;){if(!T){T=null;break e}if(N=li(N.nextSibling),N===null){T=null;break e}}T=N}T!==null?(i.memoizedState={dehydrated:T,treeContext:Bs!==null?{id:Xi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},N=Rn(18,null,null,0),N.stateNode=T,N.return=i,i.child=N,fn=i,yt=null,N=!0):N=!1}N||Fs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Zf(T)?i.lanes=32:i.lanes=536870912,null;nr(i)}return T=l.children,l=l.fallback,h?(Vr(),h=i.mode,T=Sc({mode:"hidden",children:T},h),l=zs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=pf(a),h.childLanes=mf(t,b,a),i.memoizedState=ff,l):(kr(i),gf(i,T))}if(N=t.memoizedState,N!==null&&(T=N.dehydrated,T!==null)){if(f)i.flags&256?(kr(i),i.flags&=-257,i=yf(t,i,a)):i.memoizedState!==null?(Vr(),i.child=t.child,i.flags|=128,i=null):(Vr(),h=l.fallback,T=i.mode,l=Sc({mode:"visible",children:l.children},T),h=zs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ba(i,t.child,null,a),l=i.child,l.memoizedState=pf(a),l.childLanes=mf(t,b,a),i.memoizedState=ff,i=h);else if(kr(i),Zf(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var H=b.dgst;b=H,l=Error(s(419)),l.stack="",l.digest=b,rl({value:l,source:null,stack:null}),i=yf(t,i,a)}else if(zt||sl(t,i,a,!1),b=(a&t.childLanes)!==0,zt||b){if(b=ot,b!==null&&(l=a&-a,l=(l&42)!==0?1:Tr(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Da(t,l),On(b,t,l),By;T.data==="$?"||Vf(),i=yf(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,yt=li(T.nextSibling),fn=i,We=!0,Hs=null,wi=!1,t!==null&&(Yn[Wn++]=Xi,Yn[Wn++]=Zi,Yn[Wn++]=Bs,Xi=t.id,Zi=t.overflow,Bs=i),i=gf(i,l.children),i.flags|=4096);return i}return h?(Vr(),h=l.fallback,T=i.mode,N=t.child,H=N.sibling,l=$i(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?h=$i(H,h):(h=zs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=pf(a):(N=T.cachePool,N!==null?(H=Mt._currentValue,N=N.parent!==H?{parent:H,pool:H}:N):N=Pg(),T={baseLanes:T.baseLanes|a,cachePool:N}),h.memoizedState=T,h.childLanes=mf(t,b,a),i.memoizedState=ff,l):(kr(i),a=t.child,t=a.sibling,a=$i(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(b=i.deletions,b===null?(i.deletions=[t],i.flags|=16):b.push(t)),i.child=a,i.memoizedState=null,a)}function gf(t,i){return i=Sc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Sc(t,i){return t=Rn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function yf(t,i,a){return Ba(i,t.child,null,a),t=gf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Xy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),kd(t.return,i,a)}function vf(t,i,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function Zy(t,i,a){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if(Wt(t,i,l.children,a),l=kt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xy(t,a,i);else if(t.tag===19)Xy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(kt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&bc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),vf(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&bc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}vf(i,!0,a,null,f);break;case"together":vf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ir(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(sl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=$i(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=$i(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function _f(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&rc(t)))}function LT(t,i,a){switch(i.tag){case 3:$e(i,i.stateNode.containerInfo),Cr(i,Mt,t.memoizedState.cache),il();break;case 27:case 5:Vn(i);break;case 4:$e(i,i.stateNode.containerInfo);break;case 10:Cr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?$y(t,i,a):(kr(i),t=ir(t,i,a),t!==null?t.sibling:null);kr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(sl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Zy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(kt,kt.current),l)break;return null;case 22:case 23:return i.lanes=0,Gy(t,i,a);case 24:Cr(i,Mt,t.memoizedState.cache)}return ir(t,i,a)}function Jy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)zt=!0;else{if(!_f(t,a)&&(i.flags&128)===0)return zt=!1,LT(t,i,a);zt=(t.flags&131072)!==0}else zt=!1,We&&(i.flags&1048576)!==0&&Cg(i,ic,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Rd(l)?(t=Qs(l,t),i.tag=1,i=Ky(null,i,l,t,a)):(i.tag=0,i=df(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===pe){i.tag=11,i=qy(null,i,l,t,a);break e}else if(h===k){i.tag=14,i=Hy(null,i,l,t,a);break e}}throw i=Ke(l)||l,Error(s(306,i,""))}}return i;case 0:return df(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Qs(l,i.pendingProps),Ky(t,i,l,h,a);case 3:e:{if($e(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,Bd(t,i),dl(i,l,null,a);var b=i.memoizedState;if(l=b.cache,Cr(i,Mt,l),l!==f.cache&&Vd(i,[Mt],a,!0),hl(),l=b.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Qy(t,i,l,a);break e}else if(l!==h){h=Fn(Error(s(424)),i),rl(h),i=Qy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(yt=li(t.firstChild),fn=i,We=!0,Hs=null,wi=!0,a=Ny(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(il(),l===h){i=ir(t,i,a);break e}Wt(t,i,l,a)}i=i.child}return i;case 26:return xc(t,i),t===null?(a=iv(i.type,null,i.pendingProps,null))?i.memoizedState=a:We||(a=i.type,t=i.pendingProps,l=Uc(ye.current).createElement(a),l[Dt]=i,l[xt]=t,Qt(l,a,t),_t(l),i.stateNode=l):i.memoizedState=iv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Vn(i),t===null&&We&&(l=i.stateNode=ev(i.type,i.pendingProps,ye.current),fn=i,wi=!0,h=yt,Fr(i.type)?(Jf=h,yt=li(l.firstChild)):yt=h),Wt(t,i,i.pendingProps.children,a),xc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&We&&((h=l=yt)&&(l=hx(l,i.type,i.pendingProps,wi),l!==null?(i.stateNode=l,fn=i,yt=li(l.firstChild),wi=!1,h=!0):h=!1),h||Fs(i)),Vn(i),h=i.type,f=i.pendingProps,b=t!==null?t.memoizedProps:null,l=f.children,Qf(h,f)?l=null:b!==null&&Qf(h,b)&&(i.flags|=32),i.memoizedState!==null&&(h=Wd(t,i,CT,null,null,a),kl._currentValue=h),xc(t,i),Wt(t,i,l,a),i.child;case 6:return t===null&&We&&((t=a=yt)&&(a=dx(a,i.pendingProps,wi),a!==null?(i.stateNode=a,fn=i,yt=null,t=!0):t=!1),t||Fs(i)),null;case 13:return $y(t,i,a);case 4:return $e(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ba(i,null,l,a):Wt(t,i,l,a),i.child;case 11:return qy(t,i,i.type,i.pendingProps,a);case 7:return Wt(t,i,i.pendingProps,a),i.child;case 8:return Wt(t,i,i.pendingProps.children,a),i.child;case 12:return Wt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Cr(i,i.type,l.value),Wt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ys(i),h=nn(h),l=l(h),i.flags|=1,Wt(t,i,l,a),i.child;case 14:return Hy(t,i,i.type,i.pendingProps,a);case 15:return Fy(t,i,i.type,i.pendingProps,a);case 19:return Zy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Sc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=$i(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Gy(t,i,a);case 24:return Ys(i),l=nn(Mt),t===null?(h=Ud(),h===null&&(h=ot,f=Pd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:l,cache:h},zd(i),Cr(i,Mt,h)):((t.lanes&a)!==0&&(Bd(t,i),dl(i,null,null,a),hl()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Cr(i,Mt,l)):(l=f.cache,Cr(i,Mt,l),l!==h.cache&&Vd(i,[Mt],a,!0))),Wt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function rr(t){t.flags|=4}function e0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lv(i)){if(i=Kn.current,i!==null&&((He&4194048)===He?Ri!==null:(He&62914560)!==He&&(He&536870912)===0||i!==Ri))throw ul=jd,Lg;t.flags|=8192}}function Ac(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Po():536870912,t.lanes|=i,Ga|=i)}function _l(t,i){if(!We)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function mt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function UT(t,i,a){var l=i.pendingProps;switch(Nd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return mt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),er(Mt),gn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(nl(i)?rr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Og())),mt(i),null;case 26:return a=i.memoizedState,t===null?(rr(i),a!==null?(mt(i),e0(i,a)):(mt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(rr(i),mt(i),e0(i,a)):(mt(i),i.flags&=-16777217):(t.memoizedProps!==l&&rr(i),mt(i),i.flags&=-16777217),null;case 27:Tn(i),a=ye.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return mt(i),null}t=ue.current,nl(i)?Dg(i):(t=ev(h,l,a),i.stateNode=t,rr(i))}return mt(i),null;case 5:if(Tn(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return mt(i),null}if(t=ue.current,nl(i))Dg(i);else{switch(h=Uc(ye.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Dt]=i,t[xt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&rr(i)}}return mt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&rr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=ye.current,nl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=fn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Dt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||W0(t.nodeValue,a)),t||Fs(i)}else t=Uc(t).createTextNode(l),t[Dt]=i,i.stateNode=t}return mt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=nl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Dt]=i}else il(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),h=!1}else h=Og(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(nr(i),i):(nr(i),null)}if(nr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Ac(i,i.updateQueue),mt(i),null;case 4:return gn(),t===null&&Ff(i.stateNode.containerInfo),mt(i),null;case 10:return er(i.type),mt(i),null;case 19:if(se(kt),h=i.memoizedState,h===null)return mt(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)_l(h,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=bc(t),f!==null){for(i.flags|=128,_l(h,!1),t=f.updateQueue,i.updateQueue=t,Ac(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ig(a,t),a=a.sibling;return re(kt,kt.current&1|2),i.child}t=t.sibling}h.tail!==null&&Ne()>Ic&&(i.flags|=128,l=!0,_l(h,!1),i.lanes=4194304)}else{if(!l)if(t=bc(f),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Ac(i,t),_l(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!We)return mt(i),null}else 2*Ne()-h.renderingStartTime>Ic&&a!==536870912&&(i.flags|=128,l=!0,_l(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Ne(),i.sibling=null,t=kt.current,re(kt,l?t&1|2:t&1),i):(mt(i),null);case 22:case 23:return nr(i),Gd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),a=i.updateQueue,a!==null&&Ac(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&se(Ws),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),er(Mt),mt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function jT(t,i){switch(Nd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return er(Mt),gn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Tn(i),null;case 13:if(nr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));il()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return se(kt),null;case 4:return gn(),null;case 10:return er(i.type),null;case 22:case 23:return nr(i),Gd(),t!==null&&se(Ws),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return er(Mt),null;case 25:return null;default:return null}}function t0(t,i){switch(Nd(i),i.tag){case 3:er(Mt),gn();break;case 26:case 27:case 5:Tn(i);break;case 4:gn();break;case 13:nr(i);break;case 19:se(kt);break;case 10:er(i.type);break;case 22:case 23:nr(i),Gd(),t!==null&&se(Ws);break;case 24:er(Mt)}}function bl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,b=a.inst;l=f(),b.destroy=l}a=a.next}while(a!==h)}}catch(T){at(i,i.return,T)}}function Pr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,h=i;var N=a,H=T;try{H()}catch(Z){at(h,N,Z)}}}l=l.next}while(l!==f)}}catch(Z){at(i,i.return,Z)}}function n0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Hg(i,a)}catch(l){at(t,t.return,l)}}}function i0(t,i,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){at(t,i,l)}}function El(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){at(t,i,h)}}function Ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){at(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){at(t,i,h)}else a.current=null}function r0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){at(t,t.return,h)}}function bf(t,i,a){try{var l=t.stateNode;ax(l,t.type,a,i),l[xt]=i}catch(h){at(t,t.return,h)}}function s0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function Ef(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Lc));else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Tf(t,i,a),t=t.sibling;t!==null;)Tf(t,i,a),t=t.sibling}function wc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(wc(t,i,a),t=t.sibling;t!==null;)wc(t,i,a),t=t.sibling}function a0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[Dt]=t,i[xt]=a}catch(f){at(t,t.return,f)}}var sr=!1,Et=!1,xf=!1,o0=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function zT(t,i){if(t=t.containerInfo,Wf=Fc,t=vg(t),bd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var b=0,T=-1,N=-1,H=0,Z=0,te=t,G=null;t:for(;;){for(var Y;te!==a||h!==0&&te.nodeType!==3||(T=b+h),te!==f||l!==0&&te.nodeType!==3||(N=b+l),te.nodeType===3&&(b+=te.nodeValue.length),(Y=te.firstChild)!==null;)G=te,te=Y;for(;;){if(te===t)break t;if(G===a&&++H===h&&(T=b),G===f&&++Z===l&&(N=b),(Y=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Y}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kf={focusedElem:t,selectionRange:a},Fc=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Ie=Qs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ie,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){at(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Xf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Xf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function l0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Lr(t,a),l&4&&bl(5,a);break;case 1:if(Lr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(b){at(a,a.return,b)}else{var h=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){at(a,a.return,b)}}l&64&&n0(a),l&512&&El(a,a.return);break;case 3:if(Lr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Hg(t,i)}catch(b){at(a,a.return,b)}}break;case 27:i===null&&l&4&&a0(a);case 26:case 5:Lr(t,a),i===null&&l&4&&r0(a),l&512&&El(a,a.return);break;case 12:Lr(t,a);break;case 13:Lr(t,a),l&4&&h0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=QT.bind(null,a),fx(t,a))));break;case 22:if(l=a.memoizedState!==null||sr,!l){i=i!==null&&i.memoizedState!==null||Et,h=sr;var f=Et;sr=l,(Et=i)&&!f?Ur(t,a,(a.subtreeFlags&8772)!==0):Lr(t,a),sr=h,Et=f}break;case 30:break;default:Lr(t,a)}}function u0(t){var i=t.alternate;i!==null&&(t.alternate=null,u0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ar(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,vn=!1;function ar(t,i,a){for(a=a.child;a!==null;)c0(t,i,a),a=a.sibling}function c0(t,i,a){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:Et||Ii(a,i),ar(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Et||Ii(a,i);var l=dt,h=vn;Fr(a.type)&&(dt=a.stateNode,vn=!1),ar(t,i,a),Dl(a.stateNode),dt=l,vn=h;break;case 5:Et||Ii(a,i);case 6:if(l=dt,h=vn,dt=null,ar(t,i,a),dt=l,vn=h,dt!==null)if(vn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(f){at(a,i,f)}else try{dt.removeChild(a.stateNode)}catch(f){at(a,i,f)}break;case 18:dt!==null&&(vn?(t=dt,Z0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ul(t)):Z0(dt,a.stateNode));break;case 4:l=dt,h=vn,dt=a.stateNode.containerInfo,vn=!0,ar(t,i,a),dt=l,vn=h;break;case 0:case 11:case 14:case 15:Et||Pr(2,a,i),Et||Pr(4,a,i),ar(t,i,a);break;case 1:Et||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&i0(a,i,l)),ar(t,i,a);break;case 21:ar(t,i,a);break;case 22:Et=(l=Et)||a.memoizedState!==null,ar(t,i,a),Et=l;break;default:ar(t,i,a)}}function h0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(a){at(i,i.return,a)}}function BT(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new o0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new o0),i;default:throw Error(s(435,t.tag))}}function Sf(t,i){var a=BT(t);i.forEach(function(l){var h=$T.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function In(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,b=i,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Fr(T.type)){dt=T.stateNode,vn=!1;break e}break;case 5:dt=T.stateNode,vn=!1;break e;case 3:case 4:dt=T.stateNode.containerInfo,vn=!0;break e}T=T.return}if(dt===null)throw Error(s(160));c0(f,b,h),dt=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)d0(i,t),i=i.sibling}var oi=null;function d0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:In(i,t),Cn(t),l&4&&(Pr(3,t,t.return),bl(3,t),Pr(5,t,t.return));break;case 1:In(i,t),Cn(t),l&512&&(Et||a===null||Ii(a,a.return)),l&64&&sr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=oi;if(In(i,t),Cn(t),l&512&&(Et||a===null||Ii(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ss]||f[Dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Qt(f,l,a),f[Dt]=t,_t(f),l=f;break e;case"link":var b=av("link","href",h).get(l+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(f=b[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}f=h.createElement(l),Qt(f,l,a),h.head.appendChild(f);break;case"meta":if(b=av("meta","content",h).get(l+(a.content||""))){for(T=0;T<b.length;T++)if(f=b[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}f=h.createElement(l),Qt(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Dt]=t,_t(f),l=f}t.stateNode=l}else ov(h,t.type,t.stateNode);else t.stateNode=sv(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ov(h,t.type,t.stateNode):sv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bf(t,t.memoizedProps,a.memoizedProps)}break;case 27:In(i,t),Cn(t),l&512&&(Et||a===null||Ii(a,a.return)),a!==null&&l&4&&bf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(In(i,t),Cn(t),l&512&&(Et||a===null||Ii(a,a.return)),t.flags&32){h=t.stateNode;try{zn(h,"")}catch(Y){at(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,bf(t,h,a!==null?a.memoizedProps:h)),l&1024&&(xf=!0);break;case 6:if(In(i,t),Cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Y){at(t,t.return,Y)}}break;case 3:if(Bc=null,h=oi,oi=jc(i.containerInfo),In(i,t),oi=h,Cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ul(i.containerInfo)}catch(Y){at(t,t.return,Y)}xf&&(xf=!1,f0(t));break;case 4:l=oi,oi=jc(t.stateNode.containerInfo),In(i,t),Cn(t),oi=l;break;case 12:In(i,t),Cn(t);break;case 13:In(i,t),Cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Df=Ne()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sf(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=sr,Z=Et;if(sr=H||h,Et=Z||N,In(i,t),Et=Z,sr=H,Cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||sr||Et||$s(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(f=N.stateNode,h)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=N.stateNode;var te=N.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(Y){at(N,N.return,Y)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(Y){at(N,N.return,Y)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sf(t,a))));break;case 19:In(i,t),Cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sf(t,l)));break;case 30:break;case 21:break;default:In(i,t),Cn(t)}}function Cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(s0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Ef(t);wc(t,f,h);break;case 5:var b=a.stateNode;a.flags&32&&(zn(b,""),a.flags&=-33);var T=Ef(t);wc(t,T,b);break;case 3:case 4:var N=a.stateNode.containerInfo,H=Ef(t);Tf(t,H,N);break;default:throw Error(s(161))}}catch(Z){at(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function f0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;f0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Lr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)l0(t,i.alternate,i),i=i.sibling}function $s(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),$s(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&i0(i,i.return,a),$s(i);break;case 27:Dl(i.stateNode);case 26:case 5:Ii(i,i.return),$s(i);break;case 22:i.memoizedState===null&&$s(i);break;case 30:$s(i);break;default:$s(i)}t=t.sibling}}function Ur(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,b=f.flags;switch(f.tag){case 0:case 11:case 15:Ur(h,f,a),bl(4,f);break;case 1:if(Ur(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){at(l,l.return,H)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)qg(N[h],T)}catch(H){at(l,l.return,H)}}a&&b&64&&n0(f),El(f,f.return);break;case 27:a0(f);case 26:case 5:Ur(h,f,a),a&&l===null&&b&4&&r0(f),El(f,f.return);break;case 12:Ur(h,f,a);break;case 13:Ur(h,f,a),a&&b&4&&h0(h,f);break;case 22:f.memoizedState===null&&Ur(h,f,a),El(f,f.return);break;case 30:break;default:Ur(h,f,a)}i=i.sibling}}function Af(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function wf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t))}function Ci(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)p0(t,i,a,l),i=i.sibling}function p0(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Ci(t,i,a,l),h&2048&&bl(9,i);break;case 1:Ci(t,i,a,l);break;case 3:Ci(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t)));break;case 12:if(h&2048){Ci(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,b=f.id,T=f.onPostCommit;typeof T=="function"&&T(b,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){at(i,i.return,N)}}else Ci(t,i,a,l);break;case 13:Ci(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,b=i.alternate,i.memoizedState!==null?f._visibility&2?Ci(t,i,a,l):Tl(t,i):f._visibility&2?Ci(t,i,a,l):(f._visibility|=2,qa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Af(b,i);break;case 24:Ci(t,i,a,l),h&2048&&wf(i.alternate,i);break;default:Ci(t,i,a,l)}}function qa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,b=i,T=a,N=l,H=b.flags;switch(b.tag){case 0:case 11:case 15:qa(f,b,T,N,h),bl(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?qa(f,b,T,N,h):Tl(f,b):(Z._visibility|=2,qa(f,b,T,N,h)),h&&H&2048&&Af(b.alternate,b);break;case 24:qa(f,b,T,N,h),h&&H&2048&&wf(b.alternate,b);break;default:qa(f,b,T,N,h)}i=i.sibling}}function Tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Tl(a,l),h&2048&&Af(l.alternate,l);break;case 24:Tl(a,l),h&2048&&wf(l.alternate,l);break;default:Tl(a,l)}i=i.sibling}}var xl=8192;function Ha(t){if(t.subtreeFlags&xl)for(t=t.child;t!==null;)m0(t),t=t.sibling}function m0(t){switch(t.tag){case 26:Ha(t),t.flags&xl&&t.memoizedState!==null&&wx(oi,t.memoizedState,t.memoizedProps);break;case 5:Ha(t);break;case 3:case 4:var i=oi;oi=jc(t.stateNode.containerInfo),Ha(t),oi=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=xl,xl=16777216,Ha(t),xl=i):Ha(t));break;default:Ha(t)}}function g0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Sl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,v0(l,t)}g0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y0(t),t=t.sibling}function y0(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Rc(t)):Sl(t);break;default:Sl(t)}}function Rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,v0(l,t)}g0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),Rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(i));break;default:Rc(i)}t=t.sibling}}function v0(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var h=l.sibling,f=l.return;if(u0(l),l===a){Bt=null;break e}if(h!==null){h.return=f,Bt=h;break e}Bt=f}}}var qT={getCacheForType:function(t){var i=nn(Mt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},HT=typeof WeakMap=="function"?WeakMap:Map,et=0,ot=null,Pe=null,He=0,tt=0,Dn=null,jr=!1,Fa=!1,Rf=!1,or=0,vt=0,zr=0,Xs=0,If=0,Qn=0,Ga=0,Al=null,_n=null,Cf=!1,Df=0,Ic=1/0,Cc=null,Br=null,Kt=0,qr=null,Ya=null,Wa=0,Nf=0,Of=null,_0=null,wl=0,Mf=null;function Nn(){if((et&2)!==0&&He!==0)return He&-He;if(Q.T!==null){var t=ka;return t!==0?t:zf()}return xr()}function b0(){Qn===0&&(Qn=(He&536870912)===0||We?Vo():536870912);var t=Kn.current;return t!==null&&(t.flags|=32),Qn}function On(t,i,a){(t===ot&&(tt===2||tt===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Hr(t,He,Qn,!1)),ji(t,a),((et&2)===0||t!==ot)&&(t===ot&&((et&2)===0&&(Xs|=a),vt===4&&Hr(t,He,Qn,!1)),Di(t))}function E0(t,i,a){if((et&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||xs(t,i),h=l?YT(t,i):Pf(t,i,!0),f=l;do{if(h===0){Fa&&!l&&Hr(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!FT(a)){h=Pf(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var T=t;h=Al;var N=T.current.memoizedState.isDehydrated;if(N&&(Ka(T,b).flags|=256),b=Pf(T,b,!1),b!==2){if(Rf&&!N){T.errorRecoveryDisabledLanes|=f,Xs|=f,h=4;break e}f=_n,_n=h,f!==null&&(_n===null?_n=f:_n.push.apply(_n,f))}h=b}if(f=!1,h!==2)continue}}if(h===1){Ka(t,0),Hr(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hr(l,i,Qn,!jr);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Df+300-Ne(),10<h)){if(Hr(l,i,Qn,!jr),ha(l,0,!0)!==0)break e;l.timeoutHandle=$0(T0.bind(null,l,a,_n,Cc,Cf,i,Qn,Xs,Ga,jr,f,2,-0,0),h);break e}T0(l,a,_n,Cc,Cf,i,Qn,Xs,Ga,jr,f,0,-0,0)}}break}while(!0);Di(t)}function T0(t,i,a,l,h,f,b,T,N,H,Z,te,G,Y){if(t.timeoutHandle=-1,te=i.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:Ax},m0(i),te=Rx(),te!==null)){t.cancelPendingCommit=te(C0.bind(null,t,i,f,a,l,h,b,T,N,Z,1,G,Y)),Hr(t,f,b,!H);return}C0(t,i,f,a,l,h,b,T,N)}function FT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hr(t,i,a,l){i&=~If,i&=~Xs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-tn(h),b=1<<f;l[f]=-1,h&=~b}a!==0&&mi(t,a,i)}function Dc(){return(et&6)===0?(Rl(0),!1):!0}function kf(){if(Pe!==null){if(tt===0)var t=Pe.return;else t=Pe,Ji=Gs=null,$d(t),za=null,yl=0,t=Pe;for(;t!==null;)t0(t.alternate,t),t=t.return;Pe=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,lx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),kf(),ot=t,Pe=a=$i(t.current,null),He=i,tt=0,Dn=null,jr=!1,Fa=xs(t,i),Rf=!1,Ga=Qn=If=Xs=zr=vt=0,_n=Al=null,Cf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-tn(l),f=1<<h;i|=t[h],l&=~f}return or=i,Zu(),a}function x0(t,i){Me=null,Q.H=yc,i===ll||i===oc?(i=zg(),tt=3):i===Lg?(i=zg(),tt=4):tt=i===By?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Dn=i,Pe===null&&(vt=1,Tc(t,Fn(i,t.current)))}function S0(){var t=Q.H;return Q.H=yc,t===null?yc:t}function A0(){var t=Q.A;return Q.A=qT,t}function Vf(){vt=4,jr||(He&4194048)!==He&&Kn.current!==null||(Fa=!0),(zr&134217727)===0&&(Xs&134217727)===0||ot===null||Hr(ot,He,Qn,!1)}function Pf(t,i,a){var l=et;et|=2;var h=S0(),f=A0();(ot!==t||He!==i)&&(Cc=null,Ka(t,i)),i=!1;var b=vt;e:do try{if(tt!==0&&Pe!==null){var T=Pe,N=Dn;switch(tt){case 8:kf(),b=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(i=!0);var H=tt;if(tt=0,Dn=null,Qa(t,T,N,H),a&&Fa){b=0;break e}break;default:H=tt,tt=0,Dn=null,Qa(t,T,N,H)}}GT(),b=vt;break}catch(Z){x0(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Ji=Gs=null,et=l,Q.H=h,Q.A=f,Pe===null&&(ot=null,He=0,Zu()),b}function GT(){for(;Pe!==null;)w0(Pe)}function YT(t,i){var a=et;et|=2;var l=S0(),h=A0();ot!==t||He!==i?(Cc=null,Ic=Ne()+500,Ka(t,i)):Fa=xs(t,i);e:do try{if(tt!==0&&Pe!==null){i=Pe;var f=Dn;t:switch(tt){case 1:tt=0,Dn=null,Qa(t,i,f,1);break;case 2:case 9:if(Ug(f)){tt=0,Dn=null,R0(i);break}i=function(){tt!==2&&tt!==9||ot!==t||(tt=7),Di(t)},f.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Ug(f)?(tt=0,Dn=null,R0(i)):(tt=0,Dn=null,Qa(t,i,f,7));break;case 5:var b=null;switch(Pe.tag){case 26:b=Pe.memoizedState;case 5:case 27:var T=Pe;if(!b||lv(b)){tt=0,Dn=null;var N=T.sibling;if(N!==null)Pe=N;else{var H=T.return;H!==null?(Pe=H,Nc(H)):Pe=null}break t}}tt=0,Dn=null,Qa(t,i,f,5);break;case 6:tt=0,Dn=null,Qa(t,i,f,6);break;case 8:kf(),vt=6;break e;default:throw Error(s(462))}}WT();break}catch(Z){x0(t,Z)}while(!0);return Ji=Gs=null,Q.H=l,Q.A=h,et=a,Pe!==null?0:(ot=null,He=0,Zu(),vt)}function WT(){for(;Pe!==null&&!Re();)w0(Pe)}function w0(t){var i=Jy(t.alternate,t,or);t.memoizedProps=t.pendingProps,i===null?Nc(t):Pe=i}function R0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Wy(a,i,i.pendingProps,i.type,void 0,He);break;case 11:i=Wy(a,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:$d(i);default:t0(a,i),i=Pe=Ig(i,or),i=Jy(a,i,or)}t.memoizedProps=t.pendingProps,i===null?Nc(t):Pe=i}function Qa(t,i,a,l){Ji=Gs=null,$d(i),za=null,yl=0;var h=i.return;try{if(PT(t,h,i,a,He)){vt=1,Tc(t,Fn(a,t.current)),Pe=null;return}}catch(f){if(h!==null)throw Pe=h,f;vt=1,Tc(t,Fn(a,t.current)),Pe=null;return}i.flags&32768?(We||l===1?t=!0:Fa||(He&536870912)!==0?t=!1:(jr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),I0(i,t)):Nc(i)}function Nc(t){var i=t;do{if((i.flags&32768)!==0){I0(i,jr);return}t=i.return;var a=UT(i.alternate,i,or);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);vt===0&&(vt=5)}function I0(t,i){do{var a=jT(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);vt=6,Pe=null}function C0(t,i,a,l,h,f,b,T,N){t.cancelPendingCommit=null;do Oc();while(Kt!==0);if((et&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Ad,Lo(t,a,f,b,T,N),t===ot&&(Pe=ot=null,He=0),Ya=i,qr=t,Wa=a,Nf=f,Of=h,_0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,XT(Ln,function(){return k0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=oe.p,oe.p=2,b=et,et|=4;try{zT(t,i,a)}finally{et=b,oe.p=h,Q.T=l}}Kt=1,D0(),N0(),O0()}}function D0(){if(Kt===1){Kt=0;var t=qr,i=Ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var h=et;et|=4;try{d0(i,t);var f=Kf,b=vg(t.containerInfo),T=f.focusedElem,N=f.selectionRange;if(b!==T&&T&&T.ownerDocument&&yg(T.ownerDocument.documentElement,T)){if(N!==null&&bd(T)){var H=N.start,Z=N.end;if(Z===void 0&&(Z=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Z,T.value.length);else{var te=T.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var Y=G.getSelection(),Ie=T.textContent.length,Ee=Math.min(N.start,Ie),st=N.end===void 0?Ee:Math.min(N.end,Ie);!Y.extend&&Ee>st&&(b=st,st=Ee,Ee=b);var z=gg(T,Ee),U=gg(T,st);if(z&&U&&(Y.rangeCount!==1||Y.anchorNode!==z.node||Y.anchorOffset!==z.offset||Y.focusNode!==U.node||Y.focusOffset!==U.offset)){var q=te.createRange();q.setStart(z.node,z.offset),Y.removeAllRanges(),Ee>st?(Y.addRange(q),Y.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),Y.addRange(q))}}}}for(te=[],Y=T;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var ee=te[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Fc=!!Wf,Kf=Wf=null}finally{et=h,oe.p=l,Q.T=a}}t.current=i,Kt=2}}function N0(){if(Kt===2){Kt=0;var t=qr,i=Ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=oe.p;oe.p=2;var h=et;et|=4;try{l0(t,i.alternate,i)}finally{et=h,oe.p=l,Q.T=a}}Kt=3}}function O0(){if(Kt===4||Kt===3){Kt=0,Ge();var t=qr,i=Ya,a=Wa,l=_0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Kt=5:(Kt=0,Ya=qr=null,M0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Br=null),da(a),i=i.stateNode,Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=oe.p,oe.p=2,Q.T=null;try{for(var f=t.onRecoverableError,b=0;b<l.length;b++){var T=l[b];f(T.value,{componentStack:T.stack})}}finally{Q.T=i,oe.p=h}}(Wa&3)!==0&&Oc(),Di(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Mf?wl++:(wl=0,Mf=t):wl=0,Rl(0)}}function M0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,al(i)))}function Oc(t){return D0(),N0(),O0(),k0()}function k0(){if(Kt!==5)return!1;var t=qr,i=Nf;Nf=0;var a=da(Wa),l=Q.T,h=oe.p;try{oe.p=32>a?32:a,Q.T=null,a=Of,Of=null;var f=qr,b=Wa;if(Kt=0,Ya=qr=null,Wa=0,(et&6)!==0)throw Error(s(331));var T=et;if(et|=4,y0(f.current),p0(f,f.current,b,a),et=T,Rl(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ct,f)}catch{}return!0}finally{oe.p=h,Q.T=l,M0(t,i)}}function V0(t,i,a){i=Fn(a,i),i=hf(t.stateNode,i,2),t=Or(t,i,2),t!==null&&(ji(t,2),Di(t))}function at(t,i,a){if(t.tag===3)V0(t,t,a);else for(;i!==null;){if(i.tag===3){V0(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Br===null||!Br.has(l))){t=Fn(a,t),a=jy(2),l=Or(i,a,2),l!==null&&(zy(a,l,i,t),ji(l,2),Di(l));break}}i=i.return}}function Lf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new HT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Rf=!0,h.add(a),t=KT.bind(null,t,i,a),i.then(t,t))}function KT(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(He&a)===a&&(vt===4||vt===3&&(He&62914560)===He&&300>Ne()-Df?(et&2)===0&&Ka(t,0):If|=a,Ga===He&&(Ga=0)),Di(t)}function P0(t,i){i===0&&(i=Po()),t=Da(t,i),t!==null&&(ji(t,i),Di(t))}function QT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),P0(t,a)}function $T(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),P0(t,a)}function XT(t,i){return Ct(t,i)}var Mc=null,$a=null,Uf=!1,kc=!1,jf=!1,Zs=0;function Di(t){t!==$a&&t.next===null&&($a===null?Mc=$a=t:$a=$a.next=t),kc=!0,Uf||(Uf=!0,JT())}function Rl(t,i){if(!jf&&kc){jf=!0;do for(var a=!1,l=Mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var b=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-tn(42|t)+1)-1,f&=h&~(b&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,z0(l,f))}else f=He,f=ha(l,l===ot?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||xs(l,f)||(a=!0,z0(l,f));l=l.next}while(a);jf=!1}}function ZT(){L0()}function L0(){kc=Uf=!1;var t=0;Zs!==0&&(ox()&&(t=Zs),Zs=0);for(var i=Ne(),a=null,l=Mc;l!==null;){var h=l.next,f=U0(l,i);f===0?(l.next=null,a===null?Mc=h:a.next=h,h===null&&($a=a)):(a=l,(t!==0||(f&3)!==0)&&(kc=!0)),l=h}Rl(t)}function U0(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var b=31-tn(f),T=1<<b,N=h[b];N===-1?((T&a)===0||(T&l)!==0)&&(h[b]=ko(T,i)):N<=i&&(t.expiredLanes|=T),f&=~T}if(i=ot,a=He,a=ha(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(tt===2||tt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&de(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&de(l),da(a)){case 2:case 8:a=Pn;break;case 32:a=Ln;break;case 268435456:a=Un;break;default:a=Ln}return l=j0.bind(null,t),a=Ct(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&de(l),t.callbackPriority=2,t.callbackNode=null,2}function j0(t,i){if(Kt!==0&&Kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Oc()&&t.callbackNode!==a)return null;var l=He;return l=ha(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(E0(t,l,i),U0(t,Ne()),t.callbackNode!=null&&t.callbackNode===a?j0.bind(null,t):null)}function z0(t,i){if(Oc())return null;E0(t,i,!0)}function JT(){ux(function(){(et&6)!==0?Ct(Lt,ZT):L0()})}function zf(){return Zs===0&&(Zs=Vo()),Zs}function B0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function q0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ex(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var f=B0((h[xt]||null).action),b=l.submitter;b&&(i=(i=b[xt]||null)?B0(i.formAction):b.getAttribute("formAction"),i!==null&&(f=i,b=null));var T=new _a("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var N=b?q0(h,b):new FormData(h);af(a,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(T.preventDefault(),N=b?q0(h,b):new FormData(h),af(a,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var Bf=0;Bf<Sd.length;Bf++){var qf=Sd[Bf],tx=qf.toLowerCase(),nx=qf[0].toUpperCase()+qf.slice(1);ai(tx,"on"+nx)}ai(Eg,"onAnimationEnd"),ai(Tg,"onAnimationIteration"),ai(xg,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(_T,"onTransitionRun"),ai(bT,"onTransitionStart"),ai(ET,"onTransitionCancel"),ai(Sg,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ix=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function H0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var b=l.length-1;0<=b;b--){var T=l[b],N=T.instance,H=T.currentTarget;if(T=T.listener,N!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=H;try{f(h)}catch(Z){Ec(Z)}h.currentTarget=null,f=N}else for(b=0;b<l.length;b++){if(T=l[b],N=T.instance,H=T.currentTarget,T=T.listener,N!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=H;try{f(h)}catch(Z){Ec(Z)}h.currentTarget=null,f=N}}}}function Le(t,i){var a=i[jo];a===void 0&&(a=i[jo]=new Set);var l=t+"__bubble";a.has(l)||(F0(i,t,2,!1),a.add(l))}function Hf(t,i,a){var l=0;i&&(l|=4),F0(a,t,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Ff(t){if(!t[Vc]){t[Vc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(ix.has(a)||Hf(a,!1,t),Hf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Hf("selectionchange",!1,i))}}function F0(t,i,a,l){switch(pv(i)){case 2:var h=Dx;break;case 8:h=Nx;break;default:h=rp}a=h.bind(null,i,a,t),h=void 0,!qn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Gf(t,i,a,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===h)break;if(b===4)for(b=l.return;b!==null;){var N=b.tag;if((N===3||N===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;T!==null;){if(b=zi(T),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){l=f=b;continue e}T=T.parentNode}}l=l.return}Lu(function(){var H=f,Z=Bn(a),te=[];e:{var G=Ag.get(t);if(G!==void 0){var Y=_a,Ie=t;switch(t){case"keypress":if(Ei(a)===0)break e;case"keydown":case"keyup":Y=Aa;break;case"focusin":Ie="focus",Y=Ta;break;case"focusout":Ie="blur",Y=Ta;break;case"beforeblur":case"afterblur":Y=Ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=gd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Gu;break;case Eg:case Tg:case xg:Y=xa;break;case Sg:Y=Wu;break;case"scroll":case"scrollend":Y=Uu;break;case"wheel":Y=wa;break;case"copy":case"cut":case"paste":Y=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Zo;break;case"toggle":case"beforetoggle":Y=Qu}var Ee=(i&4)!==0,st=!Ee&&(t==="scroll"||t==="scrollend"),z=Ee?G!==null?G+"Capture":null:G;Ee=[];for(var U=H,q;U!==null;){var ee=U;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||z===null||(ee=Ns(U,z),ee!=null&&Ee.push(Cl(U,ee,q))),st)break;U=U.return}0<Ee.length&&(G=new Y(G,Ie,null,a,Z),te.push({event:G,listeners:Ee}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",G&&a!==Fi&&(Ie=a.relatedTarget||a.fromElement)&&(zi(Ie)||Ie[jn]))break e;if((Y||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(Ie=a.relatedTarget||a.toElement,Y=H,Ie=Ie?zi(Ie):null,Ie!==null&&(st=u(Ie),Ee=Ie.tag,Ie!==st||Ee!==5&&Ee!==27&&Ee!==6)&&(Ie=null)):(Y=null,Ie=H),Y!==Ie)){if(Ee=Hn,ee="onMouseLeave",z="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Zo,ee="onPointerLeave",z="onPointerEnter",U="pointer"),st=Y==null?G:yi(Y),q=Ie==null?G:yi(Ie),G=new Ee(ee,U+"leave",Y,a,Z),G.target=st,G.relatedTarget=q,ee=null,zi(Z)===H&&(Ee=new Ee(z,U+"enter",Ie,a,Z),Ee.target=q,Ee.relatedTarget=st,ee=Ee),st=ee,Y&&Ie)t:{for(Ee=Y,z=Ie,U=0,q=Ee;q;q=Xa(q))U++;for(q=0,ee=z;ee;ee=Xa(ee))q++;for(;0<U-q;)Ee=Xa(Ee),U--;for(;0<q-U;)z=Xa(z),q--;for(;U--;){if(Ee===z||z!==null&&Ee===z.alternate)break t;Ee=Xa(Ee),z=Xa(z)}Ee=null}else Ee=null;Y!==null&&G0(te,G,Y,Ee,!1),Ie!==null&&st!==null&&G0(te,st,Ie,Ee,!0)}}e:{if(G=H?yi(H):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var ge=cg;else if(Ot(G))if(hg)ge=gT;else{ge=pT;var Ve=fT}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Go(H.elementType)&&(ge=cg):ge=mT;if(ge&&(ge=ge(t,H))){Qi(te,ge,a,Z);break e}Ve&&Ve(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Rr(G,"number",G.value)}switch(Ve=H?yi(H):window,t){case"focusin":(Ot(Ve)||Ve.contentEditable==="true")&&(Ra=Ve,Ed=H,tl=null);break;case"focusout":tl=Ed=Ra=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,_g(te,a,Z);break;case"selectionchange":if(vT)break;case"keydown":case"keyup":_g(te,a,Z)}var ve;if(Si)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Be?K(t,a)&&(xe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(xe="onCompositionStart");xe&&(_&&a.locale!=="ko"&&(Be||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Be&&(ve=Wo()):(bi=Z,Ir="value"in bi?bi.value:bi.textContent,Be=!0)),Ve=Pc(H,xe),0<Ve.length&&(xe=new $o(xe,t,null,a,Z),te.push({event:xe,listeners:Ve}),ve?xe.data=ve:(ve=le(a),ve!==null&&(xe.data=ve)))),(ve=y?Nt(t,a):qe(t,a))&&(xe=Pc(H,"onBeforeInput"),0<xe.length&&(Ve=new $o("onBeforeInput","beforeinput",null,a,Z),te.push({event:Ve,listeners:xe}),Ve.data=ve)),ex(te,t,H,a,Z)}H0(te,i)})}function Cl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Pc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Ns(t,a),h!=null&&l.unshift(Cl(t,h,f)),h=Ns(t,i),h!=null&&l.push(Cl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Xa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function G0(t,i,a,l,h){for(var f=i._reactName,b=[];a!==null&&a!==l;){var T=a,N=T.alternate,H=T.stateNode;if(T=T.tag,N!==null&&N===l)break;T!==5&&T!==26&&T!==27||H===null||(N=H,h?(H=Ns(a,f),H!=null&&b.unshift(Cl(a,H,N))):h||(H=Ns(a,f),H!=null&&b.push(Cl(a,H,N)))),a=a.return}b.length!==0&&t.push({event:i,listeners:b})}var rx=/\r\n?/g,sx=/\u0000|\uFFFD/g;function Y0(t){return(typeof t=="string"?t:""+t).replace(rx,`
`).replace(sx,"")}function W0(t,i){return i=Y0(i),Y0(t)===i}function Lc(){}function rt(t,i,a,l,h,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||zn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&zn(t,""+l);break;case"className":vi(t,"class",l);break;case"tabIndex":vi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(t,a,l);break;case"style":Fo(t,l,f);break;case"data":if(i!=="object"){vi(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&rt(t,i,"name",h.name,h,null),rt(t,i,"formEncType",h.formEncType,h,null),rt(t,i,"formMethod",h.formMethod,h,null),rt(t,i,"formTarget",h.formTarget,h,null)):(rt(t,i,"encType",h.encType,h,null),rt(t,i,"method",h.method,h,null),rt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),wr(t,"popover",l);break;case"xlinkActuate":Gt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Gt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Gt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Gt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Gt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Gt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Gt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pd.get(a)||a,wr(t,a,l))}}function Yf(t,i,a,l,h,f){switch(a){case"style":Fo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?zn(t,l):(typeof l=="number"||typeof l=="bigint")&&zn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[xt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wr(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var b=a[f];if(b!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(t,i,f,b,a,null)}}h&&rt(t,i,"srcSet",a.srcSet,a,null),l&&rt(t,i,"src",a.src,a,null);return;case"input":Le("invalid",t);var T=f=b=h=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":b=Z;break;case"checked":N=Z;break;case"defaultChecked":H=Z;break;case"value":f=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:rt(t,i,l,Z,a,null)}}Is(t,f,T,N,H,b,h,!1),ya(t);return;case"select":Le("invalid",t),l=b=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:rt(t,i,h,T,a,null)}i=f,a=b,t.multiple=!!l,i!=null?Hi(t,!!l,i,!1):a!=null&&Hi(t,!!l,a,!0);return;case"textarea":Le("invalid",t),f=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:rt(t,i,b,T,a,null)}Cs(t,l,h,f),ya(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(t,i,N,l,a,null)}return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)Le(Il[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(t,i,H,l,a,null)}return;default:if(Go(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Yf(t,i,Z,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&rt(t,i,T,l,a,null))}function ax(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,b=null,T=null,N=null,H=null,Z=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=te;default:l.hasOwnProperty(Y)||rt(t,i,Y,null,l,te)}}for(var G in l){var Y=l[G];if(te=a[G],l.hasOwnProperty(G)&&(Y!=null||te!=null))switch(G){case"type":f=Y;break;case"name":h=Y;break;case"checked":H=Y;break;case"defaultChecked":Z=Y;break;case"value":b=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==te&&rt(t,i,G,Y,l,te)}}An(t,b,T,N,H,Z,f,h);return;case"select":Y=b=T=G=null;for(f in a)if(N=a[f],a.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(f)||rt(t,i,f,null,l,N)}for(h in l)if(f=l[h],N=a[h],l.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":G=f;break;case"defaultValue":T=f;break;case"multiple":b=f;default:f!==N&&rt(t,i,h,f,l,N)}i=T,a=b,l=Y,G!=null?Hi(t,!!a,G,!1):!!l!=!!a&&(i!=null?Hi(t,!!a,i,!0):Hi(t,!!a,a?[]:"",!1));return;case"textarea":Y=G=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:rt(t,i,T,null,l,h)}for(b in l)if(h=l[b],f=a[b],l.hasOwnProperty(b)&&(h!=null||f!=null))switch(b){case"value":G=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&rt(t,i,b,h,l,f)}nt(t,G,Y);return;case"option":for(var Ie in a)if(G=a[Ie],a.hasOwnProperty(Ie)&&G!=null&&!l.hasOwnProperty(Ie))switch(Ie){case"selected":t.selected=!1;break;default:rt(t,i,Ie,null,l,G)}for(N in l)if(G=l[N],Y=a[N],l.hasOwnProperty(N)&&G!==Y&&(G!=null||Y!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:rt(t,i,N,G,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)G=a[Ee],a.hasOwnProperty(Ee)&&G!=null&&!l.hasOwnProperty(Ee)&&rt(t,i,Ee,null,l,G);for(H in l)if(G=l[H],Y=a[H],l.hasOwnProperty(H)&&G!==Y&&(G!=null||Y!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:rt(t,i,H,G,l,Y)}return;default:if(Go(i)){for(var st in a)G=a[st],a.hasOwnProperty(st)&&G!==void 0&&!l.hasOwnProperty(st)&&Yf(t,i,st,void 0,l,G);for(Z in l)G=l[Z],Y=a[Z],!l.hasOwnProperty(Z)||G===Y||G===void 0&&Y===void 0||Yf(t,i,Z,G,l,Y);return}}for(var z in a)G=a[z],a.hasOwnProperty(z)&&G!=null&&!l.hasOwnProperty(z)&&rt(t,i,z,null,l,G);for(te in l)G=l[te],Y=a[te],!l.hasOwnProperty(te)||G===Y||G==null&&Y==null||rt(t,i,te,G,l,Y)}var Wf=null,Kf=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function K0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Qf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $f=null;function ox(){var t=window.event;return t&&t.type==="popstate"?t===$f?!1:($f=t,!0):($f=null,!1)}var $0=typeof setTimeout=="function"?setTimeout:void 0,lx=typeof clearTimeout=="function"?clearTimeout:void 0,X0=typeof Promise=="function"?Promise:void 0,ux=typeof queueMicrotask=="function"?queueMicrotask:typeof X0<"u"?function(t){return X0.resolve(null).then(t).catch(cx)}:$0;function cx(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function Z0(t,i){var a=i,l=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&Dl(b.documentElement),a&2&&Dl(b.body),a&4)for(a=b.head,Dl(a),b=a.firstChild;b;){var T=b.nextSibling,N=b.nodeName;b[Ss]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=T}}if(h===0){t.removeChild(f),Ul(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ul(i)}function Xf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xf(a),Ar(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function hx(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ss])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=li(t.nextSibling),t===null)break}return null}function dx(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=li(t.nextSibling),t===null))return null;return t}function Zf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function fx(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function li(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Jf=null;function J0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function ev(t,i,a){switch(i=Uc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ar(t)}var $n=new Map,tv=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var lr=oe.d;oe.d={f:px,r:mx,D:gx,C:yx,L:vx,m:_x,X:Ex,S:bx,M:Tx};function px(){var t=lr.f(),i=Dc();return t||i}function mx(t){var i=gi(t);i!==null&&i.tag===5&&i.type==="form"?Ey(i):lr.r(t)}var Za=typeof document>"u"?null:document;function nv(t,i,a){var l=Za;if(l&&typeof i=="string"&&i){var h=St(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),tv.has(h)||(tv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),_t(i),l.head.appendChild(i)))}}function gx(t){lr.D(t),nv("dns-prefetch",t,null)}function yx(t,i){lr.C(t,i),nv("preconnect",t,i)}function vx(t,i,a){lr.L(t,i,a);var l=Za;if(l&&t&&i){var h='link[rel="preload"][as="'+St(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+St(a.imageSizes)+'"]')):h+='[href="'+St(t)+'"]';var f=h;switch(i){case"style":f=Ja(t);break;case"script":f=eo(t)}$n.has(f)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),$n.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Nl(f))||i==="script"&&l.querySelector(Ol(f))||(i=l.createElement("link"),Qt(i,"link",t),_t(i),l.head.appendChild(i)))}}function _x(t,i){lr.m(t,i);var a=Za;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=eo(t)}if(!$n.has(f)&&(t=v({rel:"modulepreload",href:t},i),$n.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(f)))return}l=a.createElement("link"),Qt(l,"link",t),_t(l),a.head.appendChild(l)}}}function bx(t,i,a){lr.S(t,i,a);var l=Za;if(l&&t){var h=cn(l).hoistableStyles,f=Ja(t);i=i||"default";var b=h.get(f);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(Nl(f)))T.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=$n.get(f))&&ep(t,a);var N=b=l.createElement("link");_t(N),Qt(N,"link",t),N._p=new Promise(function(H,Z){N.onload=H,N.onerror=Z}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,zc(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:T},h.set(f,b)}}}function Ex(t,i){lr.X(t,i);var a=Za;if(a&&t){var l=cn(a).hoistableScripts,h=eo(t),f=l.get(h);f||(f=a.querySelector(Ol(h)),f||(t=v({src:t,async:!0},i),(i=$n.get(h))&&tp(t,i),f=a.createElement("script"),_t(f),Qt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Tx(t,i){lr.M(t,i);var a=Za;if(a&&t){var l=cn(a).hoistableScripts,h=eo(t),f=l.get(h);f||(f=a.querySelector(Ol(h)),f||(t=v({src:t,async:!0,type:"module"},i),(i=$n.get(h))&&tp(t,i),f=a.createElement("script"),_t(f),Qt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function iv(t,i,a,l){var h=(h=ye.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ja(a.href),a=cn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ja(a.href);var f=cn(h).hoistableStyles,b=f.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,b),(f=h.querySelector(Nl(t)))&&!f._p&&(b.instance=f,b.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),f||xx(h,t,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=cn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ja(t){return'href="'+St(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function rv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function xx(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),_t(i),t.head.appendChild(i))}function eo(t){return'[src="'+St(t)+'"]'}function Ol(t){return"script[async]"+t}function sv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return i.instance=l,_t(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_t(l),Qt(l,"style",h),zc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ja(a.href);var f=t.querySelector(Nl(h));if(f)return i.state.loading|=4,i.instance=f,_t(f),f;l=rv(a),(h=$n.get(h))&&ep(l,h),f=(t.ownerDocument||t).createElement("link"),_t(f);var b=f;return b._p=new Promise(function(T,N){b.onload=T,b.onerror=N}),Qt(f,"link",l),i.state.loading|=4,zc(f,a.precedence,t),i.instance=f;case"script":return f=eo(a.src),(h=t.querySelector(Ol(f)))?(i.instance=h,_t(h),h):(l=a,(h=$n.get(f))&&(l=v({},a),tp(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),_t(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,t));return i.instance}function zc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===i)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function ep(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function tp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function av(t,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ss]||f[Dt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(i)||"";b=t+b;var T=l.get(b);T?T.push(f):l.set(b,[f])}}return l}function ov(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Sx(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function Ax(){}function wx(t,i,a){if(Ml===null)throw Error(s(475));var l=Ml;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ja(a.href),f=t.querySelector(Nl(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=qc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=f,_t(f);return}f=t.ownerDocument||t,a=rv(a),(h=$n.get(h))&&ep(a,h),f=f.createElement("link"),_t(f);var b=f;b._p=new Promise(function(T,N){b.onload=T,b.onerror=N}),Qt(f,"link",a),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=qc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Rx(){if(Ml===null)throw Error(s(475));var t=Ml;return t.stylesheets&&t.count===0&&np(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&np(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function qc(){if(this.count--,this.count===0){if(this.stylesheets)np(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function np(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(Ix,t),Hc=null,qc.call(t))}function Ix(t,i){if(!(i.state.loading&4)){var a=Hc.get(t);if(a)var l=a.get(null);else{a=new Map,Hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var b=h[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=i.instance,b=h.getAttribute("data-precedence"),f=a.get(b)||l,f===l&&a.set(null,h),a.set(b,h),this.count++,l=qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var kl={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Cx(t,i,a,l,h,f,b,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function uv(t,i,a,l,h,f,b,T,N,H,Z,te){return t=new Cx(t,i,a,b,T,N,H,te),i=1,f===!0&&(i|=24),f=Rn(3,null,null,i),t.current=f,f.stateNode=t,i=Pd(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},zd(f),t}function cv(t){return t?(t=Na,t):Na}function hv(t,i,a,l,h,f){h=cv(h),l.context===null?l.context=h:l.pendingContext=h,l=Nr(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Or(t,l,i),a!==null&&(On(a,t,i),cl(a,t,i))}function dv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function ip(t,i){dv(t,i),(t=t.alternate)&&dv(t,i)}function fv(t){if(t.tag===13){var i=Da(t,67108864);i!==null&&On(i,t,67108864),ip(t,67108864)}}var Fc=!0;function Dx(t,i,a,l){var h=Q.T;Q.T=null;var f=oe.p;try{oe.p=2,rp(t,i,a,l)}finally{oe.p=f,Q.T=h}}function Nx(t,i,a,l){var h=Q.T;Q.T=null;var f=oe.p;try{oe.p=8,rp(t,i,a,l)}finally{oe.p=f,Q.T=h}}function rp(t,i,a,l){if(Fc){var h=sp(l);if(h===null)Gf(t,i,l,Gc,a),mv(t,l);else if(Mx(h,t,i,a,l))l.stopPropagation();else if(mv(t,l),i&4&&-1<Ox.indexOf(t)){for(;h!==null;){var f=gi(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=ii(f.pendingLanes);if(b!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var N=1<<31-tn(b);T.entanglements[1]|=N,b&=~N}Di(f),(et&6)===0&&(Ic=Ne()+500,Rl(0))}}break;case 13:T=Da(f,2),T!==null&&On(T,f,2),Dc(),ip(f,2)}if(f=sp(l),f===null&&Gf(t,i,l,Gc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else Gf(t,i,l,null,a)}}function sp(t){return t=Bn(t),ap(t)}var Gc=null;function ap(t){if(Gc=null,t=zi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Gc=t,null}function pv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(en()){case Lt:return 2;case Pn:return 8;case Ln:case ni:return 32;case Un:return 268435456;default:return 32}default:return 32}}var op=!1,Gr=null,Yr=null,Wr=null,Vl=new Map,Pl=new Map,Kr=[],Ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mv(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function Ll(t,i,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=gi(i),i!==null&&fv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Mx(t,i,a,l,h){switch(i){case"focusin":return Gr=Ll(Gr,t,i,a,l,h),!0;case"dragenter":return Yr=Ll(Yr,t,i,a,l,h),!0;case"mouseover":return Wr=Ll(Wr,t,i,a,l,h),!0;case"pointerover":var f=h.pointerId;return Vl.set(f,Ll(Vl.get(f)||null,t,i,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Pl.set(f,Ll(Pl.get(f)||null,t,i,a,l,h)),!0}return!1}function gv(t){var i=zi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Du(t.priority,function(){if(a.tag===13){var l=Nn();l=Tr(l);var h=Da(a,l);h!==null&&On(h,a,l),ip(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=sp(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Fi=l,a.target.dispatchEvent(l),Fi=null}else return i=gi(a),i!==null&&fv(i),t.blockedOn=a,!1;i.shift()}return!0}function yv(t,i,a){Yc(t)&&a.delete(i)}function kx(){op=!1,Gr!==null&&Yc(Gr)&&(Gr=null),Yr!==null&&Yc(Yr)&&(Yr=null),Wr!==null&&Yc(Wr)&&(Wr=null),Vl.forEach(yv),Pl.forEach(yv)}function Wc(t,i){t.blockedOn===i&&(t.blockedOn=null,op||(op=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kx)))}var Kc=null;function vv(t){Kc!==t&&(Kc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(ap(l||a)===null)continue;break}var f=gi(a);f!==null&&(t.splice(i,3),i-=3,af(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ul(t){function i(N){return Wc(N,t)}Gr!==null&&Wc(Gr,t),Yr!==null&&Wc(Yr,t),Wr!==null&&Wc(Wr,t),Vl.forEach(i),Pl.forEach(i);for(var a=0;a<Kr.length;a++){var l=Kr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Kr.length&&(a=Kr[0],a.blockedOn===null);)gv(a),a.blockedOn===null&&Kr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],b=h[xt]||null;if(typeof f=="function")b||vv(a);else if(b){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,b=f[xt]||null)T=b.formAction;else if(ap(h)!==null)continue}else T=b.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),vv(a)}}}function lp(t){this._internalRoot=t}Qc.prototype.render=lp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Nn();hv(a,l,t,i,null,null)},Qc.prototype.unmount=lp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;hv(t.current,2,null,t,null,null),Dc(),i[jn]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=xr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Kr.length&&i!==0&&i<Kr[a].priority;a++);Kr.splice(a,0,t),a===0&&gv(t)}};var _v=e.version;if(_v!=="19.1.0")throw Error(s(527,_v,"19.1.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=m(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Vx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$c.isDisabled&&$c.supportsFiber)try{ct=$c.inject(Vx),Xe=$c}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Vy,f=Py,b=Ly,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=uv(t,1,!1,null,null,a,l,h,f,b,T,null),t[jn]=i.current,Ff(t),new lp(i)},zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=Vy,b=Py,T=Ly,N=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),i=uv(t,1,!0,i,a??null,l,h,f,b,T,N,H),i.context=cv(null),a=i.current,l=Nn(),l=Tr(l),h=Nr(l),h.callback=null,Or(a,h,l),a=l,i.current.lanes=a,ji(i,a),Di(i),t[jn]=i.current,Ff(t),new Qc(i)},zl.version="19.1.0",zl}var Cv;function Yx(){if(Cv)return hp.exports;Cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),hp.exports=Gx(),hp.exports}var Wx=Yx();const Kx=p1(Wx);var Bl={},Dv;function Qx(){if(Dv)return Bl;Dv=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.parse=d,Bl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function d(x,O){const M=new u,F=x.length;if(F<2)return M;const L=(O==null?void 0:O.decode)||v;let W=0;do{const J=x.indexOf("=",W);if(J===-1)break;const ae=x.indexOf(";",W),pe=ae===-1?F:ae;if(J>pe){W=x.lastIndexOf(";",J-1)+1;continue}const he=p(x,W,J),Te=m(x,J,he),k=x.slice(he,Te);if(M[k]===void 0){let w=p(x,J+1,pe),I=m(x,pe,w);const V=L(x.slice(w,I));M[k]=V}W=pe+1}while(W<F);return M}function p(x,O,M){do{const F=x.charCodeAt(O);if(F!==32&&F!==9)return O}while(++O<M);return M}function m(x,O,M){for(;O>M;){const F=x.charCodeAt(--O);if(F!==32&&F!==9)return O+1}return M}function g(x,O,M){const F=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(x))throw new TypeError(`argument name is invalid: ${x}`);const L=F(O);if(!e.test(L))throw new TypeError(`argument val is invalid: ${O}`);let W=x+"="+L;if(!M)return W;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);W+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);W+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);W+="; Path="+M.path}if(M.expires){if(!S(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);W+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(W+="; HttpOnly"),M.secure&&(W+="; Secure"),M.partitioned&&(W+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return W}function v(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function S(x){return o.call(x)==="[object Date]"}return Bl}Qx();var Nv="popstate";function $x(r={}){function e(s,o){let{pathname:u,search:d,hash:p}=s.location;return Ip("",{pathname:u,search:d,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:iu(o)}return Zx(e,n,null,r)}function ft(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function ti(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xx(){return Math.random().toString(36).substring(2,10)}function Ov(r,e){return{usr:r.state,key:r.key,idx:e}}function Ip(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:n,key:e&&e.key||s||Xx()}}function iu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function To(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Zx(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,d=o.history,p="POP",m=null,g=v();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function v(){return(d.state||{idx:null}).idx}function S(){p="POP";let L=v(),W=L==null?null:L-g;g=L,m&&m({action:p,location:F.location,delta:W})}function x(L,W){p="PUSH";let J=Ip(F.location,L,W);g=v()+1;let ae=Ov(J,g),pe=F.createHref(J);try{d.pushState(ae,"",pe)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(pe)}u&&m&&m({action:p,location:F.location,delta:1})}function O(L,W){p="REPLACE";let J=Ip(F.location,L,W);g=v();let ae=Ov(J,g),pe=F.createHref(J);d.replaceState(ae,"",pe),u&&m&&m({action:p,location:F.location,delta:0})}function M(L){return Jx(L)}let F={get action(){return p},get location(){return r(o,d)},listen(L){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Nv,S),m=L,()=>{o.removeEventListener(Nv,S),m=null}},createHref(L){return e(o,L)},createURL:M,encodeLocation(L){let W=M(L);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:x,replace:O,go(L){return d.go(L)}};return F}function Jx(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:iu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function m1(r,e,n="/"){return eS(r,e,n,!1)}function eS(r,e,n,s){let o=typeof e=="string"?To(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let d=g1(r);tS(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let g=dS(u);p=cS(d[m],g,s)}return p}function g1(r,e=[],n=[],s=""){let o=(u,d,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};m.relativePath.startsWith("/")&&(ft(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length));let g=hr([s,m.relativePath]),v=n.concat(m);u.children&&u.children.length>0&&(ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),g1(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:lS(g,u.index),routesMeta:v})};return r.forEach((u,d)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))o(u,d);else for(let m of y1(u.path))o(u,d,m)}),e}function y1(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let d=y1(s.join("/")),p=[];return p.push(...d.map(m=>m===""?u:[u,m].join("/"))),o&&p.push(...d),p.map(m=>r.startsWith("/")&&m===""?"/":m)}function tS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:uS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var nS=/^:[\w-]+$/,iS=3,rS=2,sS=1,aS=10,oS=-2,Mv=r=>r==="*";function lS(r,e){let n=r.split("/"),s=n.length;return n.some(Mv)&&(s+=oS),e&&(s+=rS),n.filter(o=>!Mv(o)).reduce((o,u)=>o+(nS.test(u)?iS:u===""?sS:aS),s)}function uS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function cS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",d=[];for(let p=0;p<s.length;++p){let m=s[p],g=p===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",S=yh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},v),x=m.route;if(!S&&g&&n&&!s[s.length-1].route.index&&(S=yh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!S)return null;Object.assign(o,S.params),d.push({params:o,pathname:hr([u,S.pathname]),pathnameBase:gS(hr([u,S.pathnameBase])),route:x}),S.pathnameBase!=="/"&&(u=hr([u,S.pathnameBase]))}return d}function yh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=hS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:S},x)=>{if(v==="*"){let M=p[x]||"";d=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const O=p[x];return S&&!O?g[v]=void 0:g[v]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:r}}function hS(r,e=!1,n=!0){ti(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(s.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function dS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ti(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function fS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?To(r):r;return{pathname:n?n.startsWith("/")?n:pS(n,e):e,search:yS(s),hash:vS(o)}}function pS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function mp(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function um(r){let e=mS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function cm(r,e,n,s=!1){let o;typeof r=="string"?o=To(r):(o={...r},ft(!o.pathname||!o.pathname.includes("?"),mp("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),mp("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),mp("#","search","hash",o)));let u=r===""||o.pathname==="",d=u?"/":o.pathname,p;if(d==null)p=n;else{let S=e.length-1;if(!s&&d.startsWith("..")){let x=d.split("/");for(;x[0]==="..";)x.shift(),S-=1;o.pathname=x.join("/")}p=S>=0?e[S]:"/"}let m=fS(o,p),g=d&&d!=="/"&&d.endsWith("/"),v=(u||d===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(g||v)&&(m.pathname+="/"),m}var hr=r=>r.join("/").replace(/\/\/+/g,"/"),gS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),yS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,vS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function _S(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var v1=["POST","PUT","PATCH","DELETE"];new Set(v1);var bS=["GET",...v1];new Set(bS);var xo=j.createContext(null);xo.displayName="DataRouter";var Uh=j.createContext(null);Uh.displayName="DataRouterState";var _1=j.createContext({isTransitioning:!1});_1.displayName="ViewTransition";var ES=j.createContext(new Map);ES.displayName="Fetchers";var TS=j.createContext(null);TS.displayName="Await";var pi=j.createContext(null);pi.displayName="Navigation";var fu=j.createContext(null);fu.displayName="Location";var Li=j.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var hm=j.createContext(null);hm.displayName="RouteError";function xS(r,{relative:e}={}){ft(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(pi),{hash:o,pathname:u,search:d}=mu(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:hr([n,u])),s.createHref({pathname:p,search:d,hash:o})}function So(){return j.useContext(fu)!=null}function _r(){return ft(So(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(fu).location}var b1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E1(r){j.useContext(pi).static||j.useLayoutEffect(r)}function pu(){let{isDataRoute:r}=j.useContext(Li);return r?PS():SS()}function SS(){ft(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(xo),{basename:e,navigator:n}=j.useContext(pi),{matches:s}=j.useContext(Li),{pathname:o}=_r(),u=JSON.stringify(um(s)),d=j.useRef(!1);return E1(()=>{d.current=!0}),j.useCallback((m,g={})=>{if(ti(d.current,b1),!d.current)return;if(typeof m=="number"){n.go(m);return}let v=cm(m,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:hr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,r])}j.createContext(null);function mu(r,{relative:e}={}){let{matches:n}=j.useContext(Li),{pathname:s}=_r(),o=JSON.stringify(um(n));return j.useMemo(()=>cm(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function AS(r,e){return T1(r,e)}function T1(r,e,n,s){var W;ft(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=j.useContext(pi),{matches:u}=j.useContext(Li),d=u[u.length-1],p=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let J=v&&v.path||"";x1(m,!v||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let S=_r(),x;if(e){let J=typeof e=="string"?To(e):e;ft(g==="/"||((W=J.pathname)==null?void 0:W.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${J.pathname}" was given in the \`location\` prop.`),x=J}else x=S;let O=x.pathname||"/",M=O;if(g!=="/"){let J=g.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice(J.length).join("/")}let F=m1(r,{pathname:M});ti(v||F!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ti(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=DS(F&&F.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:hr([g,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?g:hr([g,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),u,n,s);return e&&L?j.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},L):L}function wS(){let r=VS(),e=_S(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",r),d=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,d)}var RS=j.createElement(wS,null),IS=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?j.createElement(Li.Provider,{value:this.props.routeContext},j.createElement(hm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CS({routeContext:r,match:e,children:n}){let s=j.useContext(xo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Li.Provider,{value:r},n)}function DS(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ft(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,p=-1;if(n)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:v,errors:S}=n,x=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!S||S[g.route.id]===void 0);if(g.route.lazy||x){d=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((m,g,v)=>{let S,x=!1,O=null,M=null;n&&(S=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||RS,d&&(p<0&&v===0?(x1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,M=null):p===v&&(x=!0,M=g.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,v+1)),L=()=>{let W;return S?W=O:x?W=M:g.route.Component?W=j.createElement(g.route.Component,null):g.route.element?W=g.route.element:W=m,j.createElement(CS,{match:g,routeContext:{outlet:m,matches:F,isDataRoute:n!=null},children:W})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?j.createElement(IS,{location:n.location,revalidation:n.revalidation,component:O,error:S,children:L(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):L()},null)}function dm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NS(r){let e=j.useContext(xo);return ft(e,dm(r)),e}function OS(r){let e=j.useContext(Uh);return ft(e,dm(r)),e}function MS(r){let e=j.useContext(Li);return ft(e,dm(r)),e}function fm(r){let e=MS(r),n=e.matches[e.matches.length-1];return ft(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function kS(){return fm("useRouteId")}function VS(){var s;let r=j.useContext(hm),e=OS("useRouteError"),n=fm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function PS(){let{router:r}=NS("useNavigate"),e=fm("useNavigate"),n=j.useRef(!1);return E1(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{ti(n.current,b1),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var kv={};function x1(r,e,n){!e&&!kv[r]&&(kv[r]=!0,ti(!1,n))}j.memo(LS);function LS({routes:r,future:e,state:n}){return T1(r,void 0,n,e)}function Vv({to:r,replace:e,state:n,relative:s}){ft(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=j.useContext(pi);ti(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=j.useContext(Li),{pathname:d}=_r(),p=pu(),m=cm(r,um(u),d,s==="path"),g=JSON.stringify(m);return j.useEffect(()=>{p(JSON.parse(g),{replace:e,state:n,relative:s})},[p,g,s,e,n]),null}function Hl(r){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function US({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ft(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=To(n));let{pathname:m="/",search:g="",hash:v="",state:S=null,key:x="default"}=n,O=j.useMemo(()=>{let M=pr(m,d);return M==null?null:{location:{pathname:M,search:g,hash:v,state:S,key:x},navigationType:s}},[d,m,g,v,S,x,s]);return ti(O!=null,`<Router basename="${d}"> is not able to match the URL "${m}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:j.createElement(pi.Provider,{value:p},j.createElement(fu.Provider,{children:e,value:O}))}function jS({children:r,location:e}){return AS(Cp(r),e)}function Cp(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,Cp(s.props.children,u));return}ft(s.type===Hl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Cp(s.props.children,u)),n.push(d)}),n}var rh="get",sh="application/x-www-form-urlencoded";function jh(r){return r!=null&&typeof r.tagName=="string"}function zS(r){return jh(r)&&r.tagName.toLowerCase()==="button"}function BS(r){return jh(r)&&r.tagName.toLowerCase()==="form"}function qS(r){return jh(r)&&r.tagName.toLowerCase()==="input"}function HS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function FS(r,e){return r.button===0&&(!e||e==="_self")&&!HS(r)}function Dp(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function GS(r,e){let n=Dp(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Xc=null;function YS(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var WS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gp(r){return r!=null&&!WS.has(r)?(ti(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):r}function KS(r,e){let n,s,o,u,d;if(BS(r)){let p=r.getAttribute("action");s=p?pr(p,e):null,n=r.getAttribute("method")||rh,o=gp(r.getAttribute("enctype"))||sh,u=new FormData(r)}else if(zS(r)||qS(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||p.getAttribute("action");if(s=m?pr(m,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||rh,o=gp(r.getAttribute("formenctype"))||gp(p.getAttribute("enctype"))||sh,u=new FormData(p,r),!YS()){let{name:g,type:v,value:S}=r;if(v==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,S)}}else{if(jh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,s=null,o=sh,d=r}return u&&o==="text/plain"&&(d=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:d}}function pm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function QS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $S(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function XS(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await QS(u,n);return d.links?d.links():[]}return[]}));return t2(s.flat(1).filter($S).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Pv(r,e,n,s,o,u){let d=(m,g)=>n[g]?m.route.id!==n[g].route.id:!0,p=(m,g)=>{var v;return n[g].pathname!==m.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,g)=>d(m,g)||p(m,g)):u==="data"?e.filter((m,g)=>{var S;let v=s.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(d(m,g)||p(m,g))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=n[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function ZS(r,e,{includeHydrateFallback:n}={}){return JS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function JS(r){return[...new Set(r)]}function e2(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function t2(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(e2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var n2=new Set([100,101,204,205]);function i2(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&pr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function S1(){let r=j.useContext(xo);return pm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function r2(){let r=j.useContext(Uh);return pm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var mm=j.createContext(void 0);mm.displayName="FrameworkContext";function A1(){let r=j.useContext(mm);return pm(r,"You must render this element inside a <HydratedRouter> element"),r}function s2(r,e){let n=j.useContext(mm),[s,o]=j.useState(!1),[u,d]=j.useState(!1),{onFocus:p,onBlur:m,onMouseEnter:g,onMouseLeave:v,onTouchStart:S}=e,x=j.useRef(null);j.useEffect(()=>{if(r==="render"&&d(!0),r==="viewport"){let F=W=>{W.forEach(J=>{d(J.isIntersecting)})},L=new IntersectionObserver(F,{threshold:.5});return x.current&&L.observe(x.current),()=>{L.disconnect()}}},[r]),j.useEffect(()=>{if(s){let F=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(F)}}},[s]);let O=()=>{o(!0)},M=()=>{o(!1),d(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:ql(p,O),onBlur:ql(m,M),onMouseEnter:ql(g,O),onMouseLeave:ql(v,M),onTouchStart:ql(S,O)}]:[!1,x,{}]}function ql(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function a2({page:r,...e}){let{router:n}=S1(),s=j.useMemo(()=>m1(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(l2,{page:r,matches:s,...e}):null}function o2(r){let{manifest:e,routeModules:n}=A1(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return XS(r,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[r,e,n]),s}function l2({page:r,matches:e,...n}){let s=_r(),{manifest:o,routeModules:u}=A1(),{basename:d}=S1(),{loaderData:p,matches:m}=r2(),g=j.useMemo(()=>Pv(r,e,m,o,s,"data"),[r,e,m,o,s]),v=j.useMemo(()=>Pv(r,e,m,o,s,"assets"),[r,e,m,o,s]),S=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,F=!1;if(e.forEach(W=>{var ae;let J=o.routes[W.route.id];!J||!J.hasLoader||(!g.some(pe=>pe.route.id===W.route.id)&&W.route.id in p&&((ae=u[W.route.id])!=null&&ae.shouldRevalidate)||J.hasClientLoader?F=!0:M.add(W.route.id))}),M.size===0)return[];let L=i2(r,d);return F&&M.size>0&&L.searchParams.set("_routes",e.filter(W=>M.has(W.route.id)).map(W=>W.route.id).join(",")),[L.pathname+L.search]},[d,p,s,o,g,e,r,u]),x=j.useMemo(()=>ZS(v,o),[v,o]),O=o2(v);return j.createElement(j.Fragment,null,S.map(M=>j.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),x.map(M=>j.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),O.map(({key:M,link:F})=>j.createElement("link",{key:M,...F})))}function u2(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var w1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{w1&&(window.__reactRouterVersion="7.6.1")}catch{}function c2({basename:r,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=$x({window:n,v5Compat:!0}));let o=s.current,[u,d]=j.useState({action:o.action,location:o.location}),p=j.useCallback(m=>{j.startTransition(()=>d(m))},[d]);return j.useLayoutEffect(()=>o.listen(p),[o,p]),j.createElement(US,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var R1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I1=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:d,state:p,target:m,to:g,preventScrollReset:v,viewTransition:S,...x},O){let{basename:M}=j.useContext(pi),F=typeof g=="string"&&R1.test(g),L,W=!1;if(typeof g=="string"&&F&&(L=g,w1))try{let I=new URL(window.location.href),V=g.startsWith("//")?new URL(I.protocol+g):new URL(g),C=pr(V.pathname,M);V.origin===I.origin&&C!=null?g=C+V.search+V.hash:W=!0}catch{ti(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=xS(g,{relative:o}),[ae,pe,he]=s2(s,x),Te=p2(g,{replace:d,state:p,target:m,preventScrollReset:v,relative:o,viewTransition:S});function k(I){e&&e(I),I.defaultPrevented||Te(I)}let w=j.createElement("a",{...x,...he,href:L||J,onClick:W||u?e:k,ref:u2(O,pe),target:m,"data-discover":!F&&n==="render"?"true":void 0});return ae&&!F?j.createElement(j.Fragment,null,w,j.createElement(a2,{page:J})):w});I1.displayName="Link";var h2=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:d,viewTransition:p,children:m,...g},v){let S=mu(d,{relative:g.relative}),x=_r(),O=j.useContext(Uh),{navigator:M,basename:F}=j.useContext(pi),L=O!=null&&b2(S)&&p===!0,W=M.encodeLocation?M.encodeLocation(S).pathname:S.pathname,J=x.pathname,ae=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(J=J.toLowerCase(),ae=ae?ae.toLowerCase():null,W=W.toLowerCase()),ae&&F&&(ae=pr(ae,F)||ae);const pe=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let he=J===W||!o&&J.startsWith(W)&&J.charAt(pe)==="/",Te=ae!=null&&(ae===W||!o&&ae.startsWith(W)&&ae.charAt(W.length)==="/"),k={isActive:he,isPending:Te,isTransitioning:L},w=he?e:void 0,I;typeof s=="function"?I=s(k):I=[s,he?"active":null,Te?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(k):u;return j.createElement(I1,{...g,"aria-current":w,className:I,ref:v,style:V,to:d,viewTransition:p},typeof m=="function"?m(k):m)});h2.displayName="NavLink";var d2=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:d=rh,action:p,onSubmit:m,relative:g,preventScrollReset:v,viewTransition:S,...x},O)=>{let M=v2(),F=_2(p,{relative:g}),L=d.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&R1.test(p),J=ae=>{if(m&&m(ae),ae.defaultPrevented)return;ae.preventDefault();let pe=ae.nativeEvent.submitter,he=(pe==null?void 0:pe.getAttribute("formmethod"))||d;M(pe||ae.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:S})};return j.createElement("form",{ref:O,method:L,action:F,onSubmit:s?m:J,...x,"data-discover":!W&&r==="render"?"true":void 0})});d2.displayName="Form";function f2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C1(r){let e=j.useContext(xo);return ft(e,f2(r)),e}function p2(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:d}={}){let p=pu(),m=_r(),g=mu(r,{relative:u});return j.useCallback(v=>{if(FS(v,e)){v.preventDefault();let S=n!==void 0?n:iu(m)===iu(g);p(r,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:d})}},[m,p,g,n,s,e,r,o,u,d])}function m2(r){ti(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(Dp(r)),n=j.useRef(!1),s=_r(),o=j.useMemo(()=>GS(s.search,n.current?null:e.current),[s.search]),u=pu(),d=j.useCallback((p,m)=>{const g=Dp(typeof p=="function"?p(o):p);n.current=!0,u("?"+g,m)},[u,o]);return[o,d]}var g2=0,y2=()=>`__${String(++g2)}__`;function v2(){let{router:r}=C1("useSubmit"),{basename:e}=j.useContext(pi),n=kS();return j.useCallback(async(s,o={})=>{let{action:u,method:d,encType:p,formData:m,body:g}=KS(s,e);if(o.navigate===!1){let v=o.fetcherKey||y2();await r.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||d,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function _2(r,{relative:e}={}){let{basename:n}=j.useContext(pi),s=j.useContext(Li);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(r||".",{relative:e})},d=_r();if(r==null){u.search=d.search;let p=new URLSearchParams(u.search),m=p.getAll("index");if(m.some(v=>v==="")){p.delete("index"),m.filter(S=>S).forEach(S=>p.append("index",S));let v=p.toString();u.search=v?`?${v}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hr([n,u.pathname])),iu(u)}function b2(r,e={}){let n=j.useContext(_1);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=C1("useViewTransitionState"),o=mu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return yh(o.pathname,d)!=null||yh(o.pathname,u)!=null}[...n2];const E2=()=>{};var Lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},T2=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],p=r[n++],m=((o&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(m>>10)),e[s++]=String.fromCharCode(56320+(m&1023))}else{const u=r[n++],d=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},N1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,p=d?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,v=u>>2,S=(u&3)<<4|p>>4;let x=(p&15)<<2|g>>6,O=g&63;m||(O=64,d||(x=64)),s.push(n[v],n[S],n[x],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(D1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):T2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const S=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||g==null||S==null)throw new x2;const x=u<<2|p>>4;if(s.push(x),g!==64){const O=p<<4&240|g>>2;if(s.push(O),S!==64){const M=g<<6&192|S;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class x2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S2=function(r){const e=D1(r);return N1.encodeByteArray(e,!0)},vh=function(r){return S2(r).replace(/\./g,"")},O1=function(r){try{return N1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=()=>A2().__FIREBASE_DEFAULTS__,R2=()=>{if(typeof process>"u"||typeof Lv>"u")return;const r=Lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},I2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&O1(r[1]);return e&&JSON.parse(e)},zh=()=>{try{return E2()||w2()||R2()||I2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},M1=r=>{var e,n;return(n=(e=zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},C2=r=>{const e=M1(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},k1=()=>{var r;return(r=zh())===null||r===void 0?void 0:r.config},V1=r=>{var e;return(e=zh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(r){return r.endsWith(".cloudworkstations.dev")}async function P1(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[vh(JSON.stringify(n)),vh(JSON.stringify(d)),""].join(".")}const $l={};function O2(){const r={prod:[],emulator:[]};for(const e of Object.keys($l))$l[e]?r.emulator.push(e):r.prod.push(e);return r}function M2(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Uv=!1;function L1(r,e){if(typeof window>"u"||typeof document>"u"||!gu(window.location.host)||$l[r]===e||$l[r]||Uv)return;$l[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=O2().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function m(x,O){x.setAttribute("width","24"),x.setAttribute("id",O),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Uv=!0,d()},x}function v(x,O){x.setAttribute("id",O),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function S(){const x=M2(s),O=n("text"),M=document.getElementById(O)||document.createElement("span"),F=n("learnmore"),L=document.getElementById(F)||document.createElement("a"),W=n("preprendIcon"),J=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ae=x.element;p(ae),v(L,F);const pe=g();m(J,W),ae.append(J,M,L,pe),document.body.appendChild(ae)}u?(M.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function k2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function V2(){var r;const e=(r=zh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function L2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function U2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j2(){const r=un();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function z2(){return!V2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B2(){try{return typeof indexedDB=="object"}catch{return!1}}function q2(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="FirebaseError";class br extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=H2,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?F2(u,s):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new br(o,p,s)}}function F2(r,e){return r.replace(G2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const G2=/\{\$([^}]+)}/g;function Y2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function us(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],d=e[o];if(jv(u)&&jv(d)){if(!us(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function jv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Gl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function W2(r,e){const n=new K2(r,e);return n.subscribe.bind(n)}class K2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Q2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=yp),o.error===void 0&&(o.error=yp),o.complete===void 0&&(o.complete=yp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Q2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function yp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(r){return r&&r._delegate?r._delegate:r}class na{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new D2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z2(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:X2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X2(r){return r===Js?void 0:r}function Z2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const eA={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},tA=Ue.INFO,nA={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},iA=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=nA[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gm{constructor(e){this.name=e,this._logLevel=tA,this._logHandler=iA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const rA=(r,e)=>e.some(n=>r instanceof n);let zv,Bv;function sA(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aA(){return Bv||(Bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U1=new WeakMap,Np=new WeakMap,j1=new WeakMap,vp=new WeakMap,ym=new WeakMap;function oA(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(rs(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&U1.set(n,r)}).catch(()=>{}),ym.set(e,r),e}function lA(r){if(Np.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});Np.set(r,e)}let Op={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Np.get(r);if(e==="objectStoreNames")return r.objectStoreNames||j1.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function uA(r){Op=r(Op)}function cA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(_p(this),e,...n);return j1.set(s,e.sort?e.sort():[e]),rs(s)}:aA().includes(r)?function(...e){return r.apply(_p(this),e),rs(U1.get(this))}:function(...e){return rs(r.apply(_p(this),e))}}function hA(r){return typeof r=="function"?cA(r):(r instanceof IDBTransaction&&lA(r),rA(r,sA())?new Proxy(r,Op):r)}function rs(r){if(r instanceof IDBRequest)return oA(r);if(vp.has(r))return vp.get(r);const e=hA(r);return e!==r&&(vp.set(r,e),ym.set(e,r)),e}const _p=r=>ym.get(r);function dA(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),p=rs(d);return s&&d.addEventListener("upgradeneeded",m=>{s(rs(d.result),m.oldVersion,m.newVersion,rs(d.transaction),m)}),n&&d.addEventListener("blocked",m=>n(m.oldVersion,m.newVersion,m)),p.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const fA=["get","getKey","getAll","getAllKeys","count"],pA=["put","add","delete","clear"],bp=new Map;function qv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bp.get(e))return bp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=pA.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||fA.includes(n)))return;const u=async function(d,...p){const m=this.transaction(d,o?"readwrite":"readonly");let g=m.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[n](...p),o&&m.done]))[0]};return bp.set(e,u),u}uA(r=>({...r,get:(e,n,s)=>qv(e,n)||r.get(e,n,s),has:(e,n)=>!!qv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gA(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function gA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mp="@firebase/app",Hv="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new gm("@firebase/app"),yA="@firebase/app-compat",vA="@firebase/analytics-compat",_A="@firebase/analytics",bA="@firebase/app-check-compat",EA="@firebase/app-check",TA="@firebase/auth",xA="@firebase/auth-compat",SA="@firebase/database",AA="@firebase/data-connect",wA="@firebase/database-compat",RA="@firebase/functions",IA="@firebase/functions-compat",CA="@firebase/installations",DA="@firebase/installations-compat",NA="@firebase/messaging",OA="@firebase/messaging-compat",MA="@firebase/performance",kA="@firebase/performance-compat",VA="@firebase/remote-config",PA="@firebase/remote-config-compat",LA="@firebase/storage",UA="@firebase/storage-compat",jA="@firebase/firestore",zA="@firebase/ai",BA="@firebase/firestore-compat",qA="firebase",HA="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="[DEFAULT]",FA={[Mp]:"fire-core",[yA]:"fire-core-compat",[_A]:"fire-analytics",[vA]:"fire-analytics-compat",[EA]:"fire-app-check",[bA]:"fire-app-check-compat",[TA]:"fire-auth",[xA]:"fire-auth-compat",[SA]:"fire-rtdb",[AA]:"fire-data-connect",[wA]:"fire-rtdb-compat",[RA]:"fire-fn",[IA]:"fire-fn-compat",[CA]:"fire-iid",[DA]:"fire-iid-compat",[NA]:"fire-fcm",[OA]:"fire-fcm-compat",[MA]:"fire-perf",[kA]:"fire-perf-compat",[VA]:"fire-rc",[PA]:"fire-rc-compat",[LA]:"fire-gcs",[UA]:"fire-gcs-compat",[jA]:"fire-fst",[BA]:"fire-fst-compat",[zA]:"fire-vertex","fire-js":"fire-js",[qA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new Map,GA=new Map,Vp=new Map;function Fv(r,e){try{r.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ho(r){const e=r.name;if(Vp.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Vp.set(e,r);for(const n of _h.values())Fv(n,r);for(const n of GA.values())Fv(n,r);return!0}function vm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Xn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new yu("app","Firebase",YA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=HA;function z1(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:kp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(n||(n=k1()),!n)throw ss.create("no-options");const u=_h.get(o);if(u){if(us(n,u.options)&&us(s,u.config))return u;throw ss.create("duplicate-app",{appName:o})}const d=new J2(o);for(const m of Vp.values())d.addComponent(m);const p=new WA(n,s,d);return _h.set(o,p),p}function B1(r=kp){const e=_h.get(r);if(!e&&r===kp&&k1())return z1();if(!e)throw ss.create("no-app",{appName:r});return e}function as(r,e,n){var s;let o=(s=FA[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const p=[`Unable to register library "${o}" with version "${e}":`];u&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&p.push("and"),d&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(p.join(" "));return}ho(new na(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firebase-heartbeat-database",QA=1,ru="firebase-heartbeat-store";let Ep=null;function q1(){return Ep||(Ep=dA(KA,QA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ru)}catch(n){console.warn(n)}}}}).catch(r=>{throw ss.create("idb-open",{originalErrorMessage:r.message})})),Ep}async function $A(r){try{const n=(await q1()).transaction(ru),s=await n.objectStore(ru).get(H1(r));return await n.done,s}catch(e){if(e instanceof br)mr.warn(e.message);else{const n=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}}async function Gv(r,e){try{const s=(await q1()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,H1(r)),await s.done}catch(n){if(n instanceof br)mr.warn(n.message);else{const s=ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(s.message)}}}function H1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=1024,ZA=30;class JA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Yv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>ZA){const d=nw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){mr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yv(),{heartbeatsToSend:s,unsentEntries:o}=ew(this._heartbeatsCache.heartbeats),u=vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return mr.warn(n),""}}}function Yv(){return new Date().toISOString().substring(0,10)}function ew(r,e=XA){const n=[];let s=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),Wv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Wv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class tw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B2()?q2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $A(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Wv(r){return vh(JSON.stringify({version:2,heartbeats:r})).length}function nw(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(r){ho(new na("platform-logger",e=>new mA(e),"PRIVATE")),ho(new na("heartbeat",e=>new JA(e),"PRIVATE")),as(Mp,Hv,r),as(Mp,Hv,"esm2017"),as("fire-js","")}iw("");function _m(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function F1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rw=F1,G1=new yu("auth","Firebase",F1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new gm("@firebase/auth");function sw(r,...e){bh.logLevel<=Ue.WARN&&bh.warn(`Auth (${Ao}): ${r}`,...e)}function ah(r,...e){bh.logLevel<=Ue.ERROR&&bh.error(`Auth (${Ao}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(r,...e){throw bm(r,...e)}function Oi(r,...e){return bm(r,...e)}function Y1(r,e,n){const s=Object.assign(Object.assign({},rw()),{[e]:n});return new yu("auth","Firebase",s).create(e,{appName:r.name})}function dr(r){return Y1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bm(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return G1.create(r,...e)}function Ae(r,e,...n){if(!r)throw bm(e,...n)}function ur(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ah(e),new Error(e)}function gr(r,e){r||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function aw(){return Kv()==="http:"||Kv()==="https:"}function Kv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aw()||L2()||"connection"in navigator)?navigator.onLine:!0}function lw(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n){this.shortDelay=e,this.longDelay=n,gr(n>e,"Short delay should be less than long delay!"),this.isMobile=k2()||U2()}get(){return ow()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(r,e){gr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hw=new _u(3e4,6e4);function gs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ys(r,e,n,s,o={}){return K1(r,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const p=vu(Object.assign({key:r.config.apiKey},d)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},u);return P2()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&gu(r.emulatorConfig.host)&&(g.credentials="include"),W1.fetch()(await Q1(r,r.config.apiHost,n,p),g)})}async function K1(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},uw),e);try{const o=new fw(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Zc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[m,g]=p.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",d);if(m==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",d);if(m==="USER_DISABLED")throw Zc(r,"user-disabled",d);const v=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Y1(r,v,g);hi(r,v)}}catch(o){if(o instanceof br)throw o;hi(r,"network-request-failed",{message:String(o)})}}async function bu(r,e,n,s,o={}){const u=await ys(r,e,n,s,o);return"mfaPendingCredential"in u&&hi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Q1(r,e,n,s){const o=`${e}${n}?${s}`,u=r,d=u.config.emulator?Em(r.config,o):`${r.config.apiScheme}://${o}`;return cw.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function dw(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Oi(this.auth,"network-request-failed")),hw.get())})}}function Zc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Oi(r,e,s);return o.customData._tokenResponse=n,o}function Qv(r){return r!==void 0&&r.enterprise!==void 0}class pw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dw(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mw(r,e){return ys(r,"GET","/v2/recaptchaConfig",gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(r,e){return ys(r,"POST","/v1/accounts:delete",e)}async function Eh(r,e){return ys(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yw(r,e=!1){const n=Ft(r),s=await n.getIdToken(e),o=Tm(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Xl(Tp(o.auth_time)),issuedAtTime:Xl(Tp(o.iat)),expirationTime:Xl(Tp(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Tp(r){return Number(r)*1e3}function Tm(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=O1(n);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $v(r){const e=Tm(r);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof br&&vw(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function vw({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Th(r){var e;const n=r.auth,s=await r.getIdToken(),o=await su(r,Eh(n,{idToken:s}));Ae(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?$1(u.providerUserInfo):[],p=Ew(r.providerData,d),m=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(p!=null&&p.length),v=m?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:p,metadata:new Lp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(r,S)}async function bw(r){const e=Ft(r);await Th(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ew(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function $1(r){return r.map(e=>{var{providerId:n}=e,s=_m(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(r,e){const n=await K1(r,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await Q1(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();return p["Content-Type"]="application/x-www-form-urlencoded",W1.fetch()(d,{method:"POST",headers:p,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xw(r,e){return ys(r,"POST","/v2/accounts:revokeToken",gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$v(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=$v(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Tw(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,d=new ao;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ao,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(r,e){Ae(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=_m(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _w(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Lp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yw(this,e)}reload(){return bw(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Th(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await su(this,gw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,d,p,m,g,v;const S=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(d=n.photoURL)!==null&&d!==void 0?d:void 0,F=(p=n.tenantId)!==null&&p!==void 0?p:void 0,L=(m=n._redirectEventId)!==null&&m!==void 0?m:void 0,W=(g=n.createdAt)!==null&&g!==void 0?g:void 0,J=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ae,emailVerified:pe,isAnonymous:he,providerData:Te,stsTokenManager:k}=n;Ae(ae&&k,e,"internal-error");const w=ao.fromJSON(this.name,k);Ae(typeof ae=="string",e,"internal-error"),$r(S,e.name),$r(x,e.name),Ae(typeof pe=="boolean",e,"internal-error"),Ae(typeof he=="boolean",e,"internal-error"),$r(O,e.name),$r(M,e.name),$r(F,e.name),$r(L,e.name),$r(W,e.name),$r(J,e.name);const I=new ui({uid:ae,auth:e,email:x,emailVerified:pe,displayName:S,isAnonymous:he,photoURL:M,phoneNumber:O,tenantId:F,stsTokenManager:w,createdAt:W,lastLoginAt:J});return Te&&Array.isArray(Te)&&(I.providerData=Te.map(V=>Object.assign({},V))),L&&(I._redirectEventId=L),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new ao;o.updateFromServerResponse(n);const u=new ui({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Th(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),p=new ao;p.updateFromIdToken(s);const m=new ui({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Lp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;function cr(r){gr(r instanceof Function,"Expected a class definition");let e=Xv.get(r);return e?(gr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Xv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}X1.type="NONE";const Zv=X1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(r,e,n){return`firebase:${r}:${e}:${n}`}class oo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Eh(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new oo(cr(Zv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||cr(Zv);const d=oh(s,e.config.apiKey,e.name);let p=null;for(const g of n)try{const v=await g._get(d);if(v){let S;if(typeof v=="string"){const x=await Eh(e,{idToken:v}).catch(()=>{});if(!x)break;S=await ui._fromGetAccountInfoResponse(e,x,v)}else S=ui._fromJSON(e,v);g!==u&&(p=S),u=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new oo(u,e,s):(u=m[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new oo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ib(e))return"Blackberry";if(rb(e))return"Webos";if(J1(e))return"Safari";if((e.includes("chrome/")||eb(e))&&!e.includes("edge/"))return"Chrome";if(nb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Z1(r=un()){return/firefox\//i.test(r)}function J1(r=un()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eb(r=un()){return/crios\//i.test(r)}function tb(r=un()){return/iemobile/i.test(r)}function nb(r=un()){return/android/i.test(r)}function ib(r=un()){return/blackberry/i.test(r)}function rb(r=un()){return/webos/i.test(r)}function xm(r=un()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Sw(r=un()){var e;return xm(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Aw(){return j2()&&document.documentMode===10}function sb(r=un()){return xm(r)||nb(r)||rb(r)||ib(r)||/windows phone/i.test(r)||tb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(r,e=[]){let n;switch(r){case"Browser":n=Jv(un());break;case"Worker":n=`${Jv(un())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,p)=>{try{const m=e(u);d(m)}catch(m){p(m)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(r,e={}){return ys(r,"GET","/v2/passwordPolicy",gs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw=6;class Cw{constructor(e){var n,s,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:Iw,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,d,p;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(n=m.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(s=m.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(d=m.containsNumericCharacter)!==null&&d!==void 0?d:!0),m.isValid&&(m.isValid=(p=m.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),m}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new e_(this),this.idTokenSubscription=new e_(this),this.beforeStateQueue=new ww(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Eh(this,{idToken:e}),s=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,p=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!d||d===p)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Th(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(dr(this));const n=e?Ft(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rw(this),n=new Cw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await xw(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const m=e.addObserver(n,s,o);return()=>{d=!0,m()}}else{const m=e.addObserver(n);return()=>{d=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sw(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oa(r){return Ft(r)}class e_{constructor(e){this.auth=e,this.observer=null,this.addObserver=W2(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Nw(r){Bh=r}function ob(r){return Bh.loadJS(r)}function Ow(){return Bh.recaptchaEnterpriseScript}function Mw(){return Bh.gapiScript}function kw(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Vw{constructor(){this.enterprise=new Pw}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Pw{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Lw="recaptcha-enterprise",lb="NO_RECAPTCHA";class Uw{constructor(e){this.type=Lw,this.auth=oa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{mw(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new pw(m);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(m=>{p(m)})})}function o(u,d,p){const m=window.grecaptcha;Qv(m)?m.enterprise.ready(()=>{m.enterprise.execute(u,{action:e}).then(g=>{d(g)}).catch(()=>{d(lb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Vw().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(p=>{if(!n&&Qv(window.grecaptcha))o(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let m=Ow();m.length!==0&&(m+=p),ob(m).then(()=>{o(p,u,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function t_(r,e,n,s=!1,o=!1){const u=new Uw(r);let d;if(o)d=lb;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const p=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const m=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const m=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Up(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await t_(r,e,n,n==="getOobCode");return s(r,d)}else return s(r,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await t_(r,e,n,n==="getOobCode");return s(r,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r,e){const n=vm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(us(u,e??{}))return o;hi(o,"already-initialized")}return n.initialize({options:e})}function zw(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(cr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function Bw(r,e,n){const s=oa(r);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ub(e),{host:d,port:p}=qw(e),m=p===null?"":`:${p}`,g={url:`${u}//${d}${m}/`},v=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(us(g,s.config.emulator)&&us(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,gu(d)?(P1(`${u}//${d}${m}`),L1("Auth",!0)):Hw()}function ub(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function qw(r){const e=ub(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:n_(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:n_(d)}}}function n_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Hw(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function Fw(r,e){return ys(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gw(r,e){return bu(r,"POST","/v1/accounts:signInWithPassword",gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(r,e){return bu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,e))}async function Ww(r,e){return bu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Sm{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,n,"signInWithPassword",Gw);case"emailLink":return Yw(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,s,"signUpPassword",Fw);case"emailLink":return Ww(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r,e){return bu(r,"POST","/v1/accounts:signInWithIdp",gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="http://localhost";class ia extends Sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=_m(n,["providerId","signInMethod"]);if(!s||!o)return null;const d=new ia(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return lo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,lo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lo(e,n)}buildRequest(){const e={requestUri:Kw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $w(r){const e=Fl(Gl(r)).link,n=e?Fl(Gl(e)).deep_link_id:null,s=Fl(Gl(r)).deep_link_id;return(s?Fl(Gl(s)).link:null)||s||n||e||r}class Am{constructor(e){var n,s,o,u,d,p;const m=Fl(Gl(e)),g=(n=m.apiKey)!==null&&n!==void 0?n:null,v=(s=m.oobCode)!==null&&s!==void 0?s:null,S=Qw((o=m.mode)!==null&&o!==void 0?o:null);Ae(g&&v&&S,"argument-error"),this.apiKey=g,this.operation=S,this.code=v,this.continueUrl=(u=m.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(d=m.lang)!==null&&d!==void 0?d:null,this.tenantId=(p=m.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const n=$w(e);try{return new Am(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.providerId=wo.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Am.parseLink(n);return Ae(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}wo.PROVIDER_ID="password";wo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends cb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Eu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Eu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Eu{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(r,e){return bu(r,"POST","/v1/accounts:signUp",gs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ui._fromIdTokenResponse(e,s,o),d=i_(s);return new ra({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=i_(s);return new ra({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function i_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends br{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new xh(e,n,s,o)}}function hb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(r,u,e,s):u})}async function Zw(r,e,n=!1){const s=await su(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ra._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(r,e,n=!1){const{auth:s}=r;if(Xn(s.app))return Promise.reject(dr(s));const o="reauthenticate";try{const u=await su(r,hb(s,o,e,r),n);Ae(u.idToken,s,"internal-error");const d=Tm(u.idToken);Ae(d,s,"internal-error");const{sub:p}=d;return Ae(r.uid===p,s,"user-mismatch"),ra._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&hi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function db(r,e,n=!1){if(Xn(r.app))return Promise.reject(dr(r));const s="signIn",o=await hb(r,s,e),u=await ra._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function eR(r,e){return db(oa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fb(r){const e=oa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tR(r,e,n){if(Xn(r.app))return Promise.reject(dr(r));const s=oa(r),d=await Up(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xw).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&fb(r),m}),p=await ra._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function nR(r,e,n){return Xn(r.app)?Promise.reject(dr(r)):eR(Ft(r),wo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&fb(r),s})}function iR(r,e,n,s){return Ft(r).onIdTokenChanged(e,n,s)}function rR(r,e,n){return Ft(r).beforeAuthStateChanged(e,n)}function sR(r,e,n,s){return Ft(r).onAuthStateChanged(e,n,s)}function aR(r){return Ft(r).signOut()}const Sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sh,"1"),this.storage.removeItem(Sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=1e3,lR=10;class mb extends pb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,m)=>{this.notifyListeners(d,m)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);Aw()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},oR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mb.type="LOCAL";const uR=mb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb extends pb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gb.type="SESSION";const yb=gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(d).map(async g=>g(n.origin,u)),m=await cR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:m})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((p,m)=>{const g=wm("",20);o.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(S){const x=S;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(x.data.response);break;default:clearTimeout(v),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){return window}function dR(r){Mi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function fR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pR(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function mR(){return vb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b="firebaseLocalStorageDb",gR=1,Ah="firebaseLocalStorage",bb="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hh(r,e){return r.transaction([Ah],e?"readwrite":"readonly").objectStore(Ah)}function yR(){const r=indexedDB.deleteDatabase(_b);return new Tu(r).toPromise()}function jp(){const r=indexedDB.open(_b,gR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ah,{keyPath:bb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ah)?e(s):(s.close(),await yR(),e(await jp()))})})}async function r_(r,e,n){const s=Hh(r,!0).put({[bb]:e,value:n});return new Tu(s).toPromise()}async function vR(r,e){const n=Hh(r,!1).get(e),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function s_(r,e){const n=Hh(r,!0).delete(e);return new Tu(n).toPromise()}const _R=800,bR=3;class Eb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>bR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(mR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fR(),!this.activeServiceWorker)return;this.sender=new hR(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await r_(e,Sh,"1"),await s_(e,Sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>r_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>vR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>s_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Hh(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Eb.type="LOCAL";const ER=Eb;new _u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(r,e){return e?cr(e):(Ae(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends Sm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xR(r){return db(r.auth,new Rm(r),r.bypassAuthState)}function SR(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),Jw(n,new Rm(r),r.bypassAuthState)}async function AR(r){const{auth:e,user:n}=r;return Ae(n,e,"internal-error"),Zw(n,new Rm(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const m={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xR;case"linkViaPopup":case"linkViaRedirect":return AR;case"reauthViaPopup":case"reauthViaRedirect":return SR;default:hi(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new _u(2e3,1e4);class so extends Tb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wR.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="pendingRedirect",lh=new Map;class IR extends Tb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const s=await CR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CR(r,e){const n=OR(e),s=NR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function DR(r,e){lh.set(r._key(),e)}function NR(r){return cr(r._redirectPersistence)}function OR(r){return oh(RR,r.config.apiKey,r.name)}async function MR(r,e,n=!1){if(Xn(r.app))return Promise.reject(dr(r));const s=oa(r),o=TR(s,e),d=await new IR(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=10*60*1e3;class VR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!PR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!xb(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Oi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kR&&this.cachedEventUids.clear(),this.cachedEventUids.has(a_(e))}saveEventToCache(e){this.cachedEventUids.add(a_(e)),this.lastProcessedEventTime=Date.now()}}function a_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function xb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function PR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(r,e={}){return ys(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jR=/^https?/;async function zR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await LR(r);for(const n of e)try{if(BR(n))return}catch{}hi(r,"unauthorized-domain")}function BR(r){const e=Pp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!jR.test(n))return!1;if(UR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=new _u(3e4,6e4);function o_(){const r=Mi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function HR(r){return new Promise((e,n)=>{var s,o,u;function d(){o_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{o_(),n(Oi(r,"network-request-failed"))},timeout:qR.get()})}if(!((o=(s=Mi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Mi().gapi)===null||u===void 0)&&u.load)d();else{const p=kw("iframefcb");return Mi()[p]=()=>{gapi.load?d():n(Oi(r,"network-request-failed"))},ob(`${Mw()}?onload=${p}`).catch(m=>n(m))}}).catch(e=>{throw uh=null,e})}let uh=null;function FR(r){return uh=uh||HR(r),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new _u(5e3,15e3),YR="__/auth/iframe",WR="emulator/auth/iframe",KR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $R(r){const e=r.config;Ae(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Em(e,WR):`https://${r.config.authDomain}/${YR}`,s={apiKey:e.apiKey,appName:r.name,v:Ao},o=QR.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${vu(s).slice(1)}`}async function XR(r){const e=await FR(r),n=Mi().gapi;return Ae(n,r,"internal-error"),e.open({where:document.body,url:$R(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KR,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=Oi(r,"network-request-failed"),p=Mi().setTimeout(()=>{u(d)},GR.get());function m(){Mi().clearTimeout(p),o(s)}s.ping(m).then(m,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JR=500,eI=600,tI="_blank",nI="http://localhost";class l_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iI(r,e,n,s=JR,o=eI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const m=Object.assign(Object.assign({},ZR),{width:s.toString(),height:o.toString(),top:u,left:d}),g=un().toLowerCase();n&&(p=eb(g)?tI:n),Z1(g)&&(e=e||nI,m.scrollbars="yes");const v=Object.entries(m).reduce((x,[O,M])=>`${x}${O}=${M},`,"");if(Sw(g)&&p!=="_self")return rI(e||"",p),new l_(null);const S=window.open(e||"",p,v);Ae(S,r,"popup-blocked");try{S.focus()}catch{}return new l_(S)}function rI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="__/auth/handler",aI="emulator/auth/handler",oI=encodeURIComponent("fac");async function u_(r,e,n,s,o,u){Ae(r.config.authDomain,r,"auth-domain-config-required"),Ae(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ao,eventId:o};if(e instanceof cb){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",Y2(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,S]of Object.entries({}))d[v]=S}if(e instanceof Eu){const v=e.getScopes().filter(S=>S!=="");v.length>0&&(d.scopes=v.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const m=await r._getAppCheckToken(),g=m?`#${oI}=${encodeURIComponent(m)}`:"";return`${lI(r)}?${vu(p).slice(1)}${g}`}function lI({config:r}){return r.emulator?Em(r,aI):`https://${r.authDomain}/${sI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="webStorageSupport";class uI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yb,this._completeRedirectFn=MR,this._overrideRedirectResult=DR}async _openPopup(e,n,s,o){var u;gr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await u_(e,n,s,Pp(),o);return iI(e,d,wm())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await u_(e,n,s,Pp(),o);return dR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await XR(e),s=new VR(e);return n.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xp,{type:xp},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[xp];d!==void 0&&n(!!d),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sb()||J1()||xm()}}const cI=uI;var c_="@firebase/auth",h_="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fI(r){ho(new na("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;Ae(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ab(r)},g=new Dw(s,o,u,m);return zw(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ho(new na("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(s=>new hI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(c_,h_,dI(r)),as(c_,h_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=5*60,mI=V1("authIdTokenMaxAge")||pI;let d_=null;const gI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>mI)return;const o=n==null?void 0:n.token;d_!==o&&(d_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yI(r=B1()){const e=vm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=jw(r,{popupRedirectResolver:cI,persistence:[ER,uR,yb]}),s=V1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=gI(u.toString());rR(n,d,()=>d(n.currentUser)),iR(n,p=>d(p))}}const o=M1("auth");return o&&Bw(n,`http://${o}`),n}function vI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}Nw({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",vI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fI("Browser");var _I="firebase",bI="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(_I,bI,"app");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,Sb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,w){function I(){}I.prototype=w.prototype,k.D=w.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(V,C,P){for(var R=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)R[Ke-2]=arguments[Ke];return w.prototype[C].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,w,I){I||(I=0);var V=Array(16);if(typeof w=="string")for(var C=0;16>C;++C)V[C]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(C=0;16>C;++C)V[C]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=k.g[0],I=k.g[1],C=k.g[2];var P=k.g[3],R=w+(P^I&(C^P))+V[0]+3614090360&4294967295;w=I+(R<<7&4294967295|R>>>25),R=P+(C^w&(I^C))+V[1]+3905402710&4294967295,P=w+(R<<12&4294967295|R>>>20),R=C+(I^P&(w^I))+V[2]+606105819&4294967295,C=P+(R<<17&4294967295|R>>>15),R=I+(w^C&(P^w))+V[3]+3250441966&4294967295,I=C+(R<<22&4294967295|R>>>10),R=w+(P^I&(C^P))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=P+(C^w&(I^C))+V[5]+1200080426&4294967295,P=w+(R<<12&4294967295|R>>>20),R=C+(I^P&(w^I))+V[6]+2821735955&4294967295,C=P+(R<<17&4294967295|R>>>15),R=I+(w^C&(P^w))+V[7]+4249261313&4294967295,I=C+(R<<22&4294967295|R>>>10),R=w+(P^I&(C^P))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=P+(C^w&(I^C))+V[9]+2336552879&4294967295,P=w+(R<<12&4294967295|R>>>20),R=C+(I^P&(w^I))+V[10]+4294925233&4294967295,C=P+(R<<17&4294967295|R>>>15),R=I+(w^C&(P^w))+V[11]+2304563134&4294967295,I=C+(R<<22&4294967295|R>>>10),R=w+(P^I&(C^P))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=P+(C^w&(I^C))+V[13]+4254626195&4294967295,P=w+(R<<12&4294967295|R>>>20),R=C+(I^P&(w^I))+V[14]+2792965006&4294967295,C=P+(R<<17&4294967295|R>>>15),R=I+(w^C&(P^w))+V[15]+1236535329&4294967295,I=C+(R<<22&4294967295|R>>>10),R=w+(C^P&(I^C))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=P+(I^C&(w^I))+V[6]+3225465664&4294967295,P=w+(R<<9&4294967295|R>>>23),R=C+(w^I&(P^w))+V[11]+643717713&4294967295,C=P+(R<<14&4294967295|R>>>18),R=I+(P^w&(C^P))+V[0]+3921069994&4294967295,I=C+(R<<20&4294967295|R>>>12),R=w+(C^P&(I^C))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=P+(I^C&(w^I))+V[10]+38016083&4294967295,P=w+(R<<9&4294967295|R>>>23),R=C+(w^I&(P^w))+V[15]+3634488961&4294967295,C=P+(R<<14&4294967295|R>>>18),R=I+(P^w&(C^P))+V[4]+3889429448&4294967295,I=C+(R<<20&4294967295|R>>>12),R=w+(C^P&(I^C))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=P+(I^C&(w^I))+V[14]+3275163606&4294967295,P=w+(R<<9&4294967295|R>>>23),R=C+(w^I&(P^w))+V[3]+4107603335&4294967295,C=P+(R<<14&4294967295|R>>>18),R=I+(P^w&(C^P))+V[8]+1163531501&4294967295,I=C+(R<<20&4294967295|R>>>12),R=w+(C^P&(I^C))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=P+(I^C&(w^I))+V[2]+4243563512&4294967295,P=w+(R<<9&4294967295|R>>>23),R=C+(w^I&(P^w))+V[7]+1735328473&4294967295,C=P+(R<<14&4294967295|R>>>18),R=I+(P^w&(C^P))+V[12]+2368359562&4294967295,I=C+(R<<20&4294967295|R>>>12),R=w+(I^C^P)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=P+(w^I^C)+V[8]+2272392833&4294967295,P=w+(R<<11&4294967295|R>>>21),R=C+(P^w^I)+V[11]+1839030562&4294967295,C=P+(R<<16&4294967295|R>>>16),R=I+(C^P^w)+V[14]+4259657740&4294967295,I=C+(R<<23&4294967295|R>>>9),R=w+(I^C^P)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=P+(w^I^C)+V[4]+1272893353&4294967295,P=w+(R<<11&4294967295|R>>>21),R=C+(P^w^I)+V[7]+4139469664&4294967295,C=P+(R<<16&4294967295|R>>>16),R=I+(C^P^w)+V[10]+3200236656&4294967295,I=C+(R<<23&4294967295|R>>>9),R=w+(I^C^P)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=P+(w^I^C)+V[0]+3936430074&4294967295,P=w+(R<<11&4294967295|R>>>21),R=C+(P^w^I)+V[3]+3572445317&4294967295,C=P+(R<<16&4294967295|R>>>16),R=I+(C^P^w)+V[6]+76029189&4294967295,I=C+(R<<23&4294967295|R>>>9),R=w+(I^C^P)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=P+(w^I^C)+V[12]+3873151461&4294967295,P=w+(R<<11&4294967295|R>>>21),R=C+(P^w^I)+V[15]+530742520&4294967295,C=P+(R<<16&4294967295|R>>>16),R=I+(C^P^w)+V[2]+3299628645&4294967295,I=C+(R<<23&4294967295|R>>>9),R=w+(C^(I|~P))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=P+(I^(w|~C))+V[7]+1126891415&4294967295,P=w+(R<<10&4294967295|R>>>22),R=C+(w^(P|~I))+V[14]+2878612391&4294967295,C=P+(R<<15&4294967295|R>>>17),R=I+(P^(C|~w))+V[5]+4237533241&4294967295,I=C+(R<<21&4294967295|R>>>11),R=w+(C^(I|~P))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=P+(I^(w|~C))+V[3]+2399980690&4294967295,P=w+(R<<10&4294967295|R>>>22),R=C+(w^(P|~I))+V[10]+4293915773&4294967295,C=P+(R<<15&4294967295|R>>>17),R=I+(P^(C|~w))+V[1]+2240044497&4294967295,I=C+(R<<21&4294967295|R>>>11),R=w+(C^(I|~P))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=P+(I^(w|~C))+V[15]+4264355552&4294967295,P=w+(R<<10&4294967295|R>>>22),R=C+(w^(P|~I))+V[6]+2734768916&4294967295,C=P+(R<<15&4294967295|R>>>17),R=I+(P^(C|~w))+V[13]+1309151649&4294967295,I=C+(R<<21&4294967295|R>>>11),R=w+(C^(I|~P))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=P+(I^(w|~C))+V[11]+3174756917&4294967295,P=w+(R<<10&4294967295|R>>>22),R=C+(w^(P|~I))+V[2]+718787259&4294967295,C=P+(R<<15&4294967295|R>>>17),R=I+(P^(C|~w))+V[9]+3951481745&4294967295,k.g[0]=k.g[0]+w&4294967295,k.g[1]=k.g[1]+(C+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+C&4294967295,k.g[3]=k.g[3]+P&4294967295}s.prototype.u=function(k,w){w===void 0&&(w=k.length);for(var I=w-this.blockSize,V=this.B,C=this.h,P=0;P<w;){if(C==0)for(;P<=I;)o(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<w;)if(V[C++]=k.charCodeAt(P++),C==this.blockSize){o(this,V),C=0;break}}else for(;P<w;)if(V[C++]=k[P++],C==this.blockSize){o(this,V),C=0;break}}this.h=C,this.o+=w},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var w=1;w<k.length-8;++w)k[w]=0;var I=8*this.o;for(w=k.length-8;w<k.length;++w)k[w]=I&255,I/=256;for(this.u(k),k=Array(16),w=I=0;4>w;++w)for(var V=0;32>V;V+=8)k[I++]=this.g[w]>>>V&255;return k};function u(k,w){var I=p;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=w(k)}function d(k,w){this.h=w;for(var I=[],V=!0,C=k.length-1;0<=C;C--){var P=k[C]|0;V&&P==w||(I[C]=P,V=!1)}this.g=I}var p={};function m(k){return-128<=k&&128>k?u(k,function(w){return new d([w|0],0>w?-1:0)}):new d([k|0],0>k?-1:0)}function g(k){if(isNaN(k)||!isFinite(k))return S;if(0>k)return L(g(-k));for(var w=[],I=1,V=0;k>=I;V++)w[V]=k/I|0,I*=4294967296;return new d(w,0)}function v(k,w){if(k.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(k.charAt(0)=="-")return L(v(k.substring(1),w));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(w,8)),V=S,C=0;C<k.length;C+=8){var P=Math.min(8,k.length-C),R=parseInt(k.substring(C,C+P),w);8>P?(P=g(Math.pow(w,P)),V=V.j(P).add(g(R))):(V=V.j(I),V=V.add(g(R)))}return V}var S=m(0),x=m(1),O=m(16777216);r=d.prototype,r.m=function(){if(F(this))return-L(this).m();for(var k=0,w=1,I=0;I<this.g.length;I++){var V=this.i(I);k+=(0<=V?V:4294967296+V)*w,w*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(M(this))return"0";if(F(this))return"-"+L(this).toString(k);for(var w=g(Math.pow(k,6)),I=this,V="";;){var C=pe(I,w).g;I=W(I,C.j(w));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=C,M(I))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function M(k){if(k.h!=0)return!1;for(var w=0;w<k.g.length;w++)if(k.g[w]!=0)return!1;return!0}function F(k){return k.h==-1}r.l=function(k){return k=W(this,k),F(k)?-1:M(k)?0:1};function L(k){for(var w=k.g.length,I=[],V=0;V<w;V++)I[V]=~k.g[V];return new d(I,~k.h).add(x)}r.abs=function(){return F(this)?L(this):this},r.add=function(k){for(var w=Math.max(this.g.length,k.g.length),I=[],V=0,C=0;C<=w;C++){var P=V+(this.i(C)&65535)+(k.i(C)&65535),R=(P>>>16)+(this.i(C)>>>16)+(k.i(C)>>>16);V=R>>>16,P&=65535,R&=65535,I[C]=R<<16|P}return new d(I,I[I.length-1]&-2147483648?-1:0)};function W(k,w){return k.add(L(w))}r.j=function(k){if(M(this)||M(k))return S;if(F(this))return F(k)?L(this).j(L(k)):L(L(this).j(k));if(F(k))return L(this.j(L(k)));if(0>this.l(O)&&0>k.l(O))return g(this.m()*k.m());for(var w=this.g.length+k.g.length,I=[],V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var C=0;C<k.g.length;C++){var P=this.i(V)>>>16,R=this.i(V)&65535,Ke=k.i(C)>>>16,Qe=k.i(C)&65535;I[2*V+2*C]+=R*Qe,J(I,2*V+2*C),I[2*V+2*C+1]+=P*Qe,J(I,2*V+2*C+1),I[2*V+2*C+1]+=R*Ke,J(I,2*V+2*C+1),I[2*V+2*C+2]+=P*Ke,J(I,2*V+2*C+2)}for(V=0;V<w;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=w;V<2*w;V++)I[V]=0;return new d(I,0)};function J(k,w){for(;(k[w]&65535)!=k[w];)k[w+1]+=k[w]>>>16,k[w]&=65535,w++}function ae(k,w){this.g=k,this.h=w}function pe(k,w){if(M(w))throw Error("division by zero");if(M(k))return new ae(S,S);if(F(k))return w=pe(L(k),w),new ae(L(w.g),L(w.h));if(F(w))return w=pe(k,L(w)),new ae(L(w.g),w.h);if(30<k.g.length){if(F(k)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var I=x,V=w;0>=V.l(k);)I=he(I),V=he(V);var C=Te(I,1),P=Te(V,1);for(V=Te(V,2),I=Te(I,2);!M(V);){var R=P.add(V);0>=R.l(k)&&(C=C.add(I),P=R),V=Te(V,1),I=Te(I,1)}return w=W(k,C.j(w)),new ae(C,w)}for(C=S;0<=k.l(w);){for(I=Math.max(1,Math.floor(k.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=g(I),R=P.j(w);F(R)||0<R.l(k);)I-=V,P=g(I),R=P.j(w);M(P)&&(P=x),C=C.add(P),k=W(k,R)}return new ae(C,k)}r.A=function(k){return pe(this,k).h},r.and=function(k){for(var w=Math.max(this.g.length,k.g.length),I=[],V=0;V<w;V++)I[V]=this.i(V)&k.i(V);return new d(I,this.h&k.h)},r.or=function(k){for(var w=Math.max(this.g.length,k.g.length),I=[],V=0;V<w;V++)I[V]=this.i(V)|k.i(V);return new d(I,this.h|k.h)},r.xor=function(k){for(var w=Math.max(this.g.length,k.g.length),I=[],V=0;V<w;V++)I[V]=this.i(V)^k.i(V);return new d(I,this.h^k.h)};function he(k){for(var w=k.g.length+1,I=[],V=0;V<w;V++)I[V]=k.i(V)<<1|k.i(V-1)>>>31;return new d(I,k.h)}function Te(k,w){var I=w>>5;w%=32;for(var V=k.g.length-I,C=[],P=0;P<V;P++)C[P]=0<w?k.i(P+I)>>>w|k.i(P+I+1)<<32-w:k.i(P+I);return new d(C,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Sb=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=g,d.fromString=v,os=d}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ab,Yl,wb,ch,zp,Rb,Ib,Cb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in _))break e;_=_[B]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,B={next:function(){if(!A&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},p=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,A),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function x(c,y,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:S,x.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,B,K){for(var le=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)le[Be-2]=arguments[Be];return y.prototype[B].apply(A,le)}}function F(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function L(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(m(A)){const B=c.length||0,K=A.length||0;c.length=B+K;for(let le=0;le<K;le++)c[B+le]=A[le]}else c.push(A)}}class W{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=p.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var he=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function Te(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function k(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,y){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)c[_]=A[_];for(let K=0;K<I.length;K++)_=I[K],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function C(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function P(c){p.setTimeout(()=>{throw c},0)}function R(){var c=$;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ke{constructor(){this.h=this.g=null}add(y,_){const A=Qe.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Qe=new W(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ce=!1,$=new Ke,D=()=>{const c=p.Promise.resolve(void 0);oe=()=>{c.then(X)}};var X=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(_){P(_)}var y=Qe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ce=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};p.addEventListener("test",_,y),p.removeEventListener("test",_,y)}catch{}return c}();function be(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{pe(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ye[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}M(be,re);var ye={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),$e=0;function gn(c,y,_,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=B,this.key=++$e,this.da=this.fa=!1}function Vn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tn(c){this.src=c,this.g={},this.h=0}Tn.prototype.add=function(c,y,_,A,B){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var le=Ct(c,y,A,B);return-1<le?(y=c[le],_||(y.fa=!1)):(y=new gn(y,this.src,K,!!A,B),y.fa=_,c.push(y)),y};function pt(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],B=Array.prototype.indexOf.call(A,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(A,B,1),K&&(Vn(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ct(c,y,_,A){for(var B=0;B<c.length;++B){var K=c[B];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==A)return B}return-1}var de="closure_lm_"+(1e6*Math.random()|0),Re={};function Ge(c,y,_,A,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Ge(c,y[K],_,A,B);return null}return _=Er(_),c&&c[ut]?c.K(y,_,g(A)?!!A.capture:!1,B):Ne(c,y,_,!1,A,B)}function Ne(c,y,_,A,B,K){if(!y)throw Error("Invalid event type");var le=g(B)?!!B.capture:!!B,Be=Un(c);if(Be||(c[de]=Be=new Tn(c)),_=Be.add(y,_,A,le,K),_.proxy)return _;if(A=en(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)ue||(B=le),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(Ln(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function en(){function c(_){return y.call(c.src,c.listener,_)}const y=ni;return c}function Lt(c,y,_,A,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)Lt(c,y[K],_,A,B);else A=g(A)?!!A.capture:!!A,_=Er(_),c&&c[ut]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=Ct(K,_,A,B),-1<_&&(Vn(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Un(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ct(y,_,A,B)),(_=-1<c?y[c]:null)&&Pn(_))}function Pn(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ut])pt(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(Ln(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Un(y))?(pt(_,c),_.h==0&&(_.src=null,y[de]=null)):Vn(c)}}}function Ln(c){return c in Re?Re[c]:Re[c]="on"+c}function ni(c,y){if(c.da)c=!0;else{y=new be(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&Pn(c),c=_.call(A,y)}return c}function Un(c){return c=c[de],c instanceof Tn?c:null}var xn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Er(c){return typeof c=="function"?c:(c[xn]||(c[xn]=function(y){return c.handleEvent(y)}),c[xn])}function ct(){se.call(this),this.i=new Tn(this),this.M=this,this.F=null}M(ct,se),ct.prototype[ut]=!0,ct.prototype.removeEventListener=function(c,y,_,A){Lt(this,c,y,_,A)};function Xe(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var B=y;y=new re(A,c),V(y,B)}if(B=!0,_)for(var K=_.length-1;0<=K;K--){var le=y.g=_[K];B=Sn(le,A,!0,y)&&B}if(le=y.g=c,B=Sn(le,A,!0,y)&&B,B=Sn(le,A,!1,y)&&B,_)for(K=0;K<_.length;K++)le=y.g=_[K],B=Sn(le,A,!1,y)&&B}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)Vn(_[A]);delete c.g[y],c.h--}}this.F=null},ct.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},ct.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function Sn(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var le=y[K];if(le&&!le.da&&le.capture==_){var Be=le.listener,Nt=le.ha||le.src;le.fa&&pt(c.i,le),B=Be.call(Nt,A)!==!1&&B}}return B&&!A.defaultPrevented}function tn(c,y,_){if(typeof c=="function")_&&(c=x(c,_));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:p.setTimeout(c,y||0)}function Cu(c){c.g=tn(()=>{c.g=null,c.i&&(c.i=!1,Cu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class cd extends se{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){se.call(this),this.h=c,this.g={}}M(bs,se);var Es=[];function Ts(c){Te(c.g,function(y,_){this.g.hasOwnProperty(_)&&Pn(y)},c),c.g={}}bs.prototype.N=function(){bs.aa.N.call(this),Ts(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ii=p.JSON.stringify,ha=p.JSON.parse,xs=class{stringify(c){return p.JSON.stringify(c,void 0)}parse(c){return p.JSON.parse(c,void 0)}};function ko(){}ko.prototype.h=null;function Vo(c){return c.h||(c.h=c.i())}function Po(){}var Ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ji(){re.call(this,"d")}M(ji,re);function Lo(){re.call(this,"c")}M(Lo,re);var mi={},Uo=null;function Tr(){return Uo=Uo||new ct}mi.La="serverreachability";function da(c){re.call(this,mi.La,c)}M(da,re);function xr(c){const y=Tr();Xe(y,new da(y))}mi.STAT_EVENT="statevent";function Du(c,y){re.call(this,mi.STAT_EVENT,c),this.stat=y}M(Du,re);function ht(c){const y=Tr();Xe(y,new Du(y,c))}mi.Ma="timingevent";function Dt(c,y){re.call(this,mi.Ma,c),this.size=y}M(Dt,re);function xt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){c()},y)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function jo(c,y,_,A,B,K){c.info(function(){if(c.g)if(K)for(var le="",Be=K.split("&"),Nt=0;Nt<Be.length;Nt++){var qe=Be[Nt].split("=");if(1<qe.length){var jt=qe[0];qe=qe[1];var Ot=jt.split("_");le=2<=Ot.length&&Ot[1]=="type"?le+(jt+"="+qe+"&"):le+(jt+"=redacted&")}}else le=null;else le=K;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+_+`
`+le})}function hd(c,y,_,A,B,K,le){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+_+`
`+K+" "+le})}function Sr(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ss(c,_)+(A?" "+A:"")})}function Nu(c,y){c.info(function(){return"TIMEOUT: "+y})}jn.prototype.info=function(){};function Ss(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var B=A[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var le=1;le<B.length;le++)B[le]=""}}}}return ii(_)}catch{return y}}var Ar={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gi;function yi(){}M(yi,ko),yi.prototype.g=function(){return new XMLHttpRequest},yi.prototype.i=function(){return{}},gi=new yi;function cn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var zo={},fa={};function ri(c,y,_){c.L=1,c.v=Cs(An(y)),c.m=_,c.P=!0,Bi(c,null)}function Bi(c,y){c.F=Date.now(),As(c),c.A=An(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Yo(_.i,"t",A),c.C=0,_=c.j.J,c.h=new _t,c.g=Wu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new cd(x(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Es[0]=B.toString()),B=Es);for(var K=0;K<B.length;K++){var le=Ge(_,B[K],A||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),xr(),jo(c.i,c.u,c.A,c.l,c.R,c.m)}cn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Hn(c)==3?y.j():this.Y(c)},cn.prototype.Y=function(c){try{if(c==this.g)e:{const Ot=Hn(this.g);var y=this.g.Ba();const Qi=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||ju(this.g)))){this.J||Ot!=4||y==7||(y==8||0>=Qi?xr(3):xr(2)),wr(this);var _=this.g.Z();this.X=_;t:if(Ou(this)){var A=ju(this.g);c="";var B=A.length,K=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Gt(this),vi(this);var le="";break t}this.h.i=new p.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(K&&y==B-1)});A.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,hd(this.i,this.u,this.A,this.l,this.R,Ot,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Nt=this.g;if((Be=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Be)){var qe=Be;break t}}qe=null}if(_=qe)Sr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ws(this,_);else{this.o=!1,this.s=3,ht(12),Gt(this),vi(this);break e}}if(this.P){_=!0;let Yt;for(;!this.J&&this.C<le.length;)if(Yt=Mu(this,le),Yt==fa){Ot==4&&(this.s=4,ht(14),_=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==zo){this.s=4,ht(15),Sr(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else Sr(this.i,this.l,Yt,null),ws(this,Yt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||le.length!=0||this.h.h||(this.s=1,ht(16),_=!1),this.o=this.o&&_,!_)Sr(this.i,this.l,le,"[Invalid Chunked Response]"),Gt(this),vi(this);else if(0<le.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Ls(jt),jt.M=!0,ht(11))}}else Sr(this.i,this.l,le,null),ws(this,le);Ot==4&&Gt(this),this.o&&!this.J&&(Ot==4?Fu(this.j,this):(this.o=!1,As(this)))}else gd(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Gt(this),vi(this)}}}catch{}finally{}};function Ou(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Mu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?fa:(_=Number(y.substring(_,A)),isNaN(_)?zo:(A+=1,A+_>y.length?fa:(y=y.slice(A,A+_),c.C=A+_,y)))}cn.prototype.cancel=function(){this.J=!0,Gt(this)};function As(c){c.S=Date.now()+c.I,ku(c,c.I)}function ku(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=xt(x(c.ba,c),y)}function wr(c){c.B&&(p.clearTimeout(c.B),c.B=null)}cn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Nu(this.i,this.A),this.L!=2&&(xr(),ht(17)),Gt(this),this.s=2,vi(this)):ku(this,this.S-c)};function vi(c){c.j.G==0||c.J||Fu(c.j,c)}function Gt(c){wr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ts(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ws(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Bo(_.h,c))){if(!c.K&&Bo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Aa(_),xa(_);else break e;Xo(_),ht(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=xt(x(_.Za,_),6e3));if(1>=ma(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ki(_,11)}else if((c.K||_.g==c)&&Aa(_),!J(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let qe=B[y];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const jt=qe[3];jt!=null&&(_.la=jt,_.j.info("VER="+_.la));const Ot=qe[4];Ot!=null&&(_.Aa=Ot,_.j.info("SVER="+_.Aa));const Qi=qe[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(A=1.5*Qi,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Yt=c.g;if(Yt){const Ai=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var K=A.h;K.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ga(K,K.h),K.h=null))}if(A.D){const Jo=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(A.ya=Jo,nt(A.I,A.D,Jo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var le=c;if(A.qa=Yu(A,A.J?A.ia:null,A.W),le.K){hn(A.h,le);var Be=le,Nt=A.L;Nt&&(Be.I=Nt),Be.B&&(wr(Be),As(Be)),A.g=le}else qu(A);0<_.i.length&&Sa(_)}else qe[0]!="stop"&&qe[0]!="close"||Ki(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ki(_,7):Qo(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}xr(4)}catch{}}var Vu=class{constructor(c,y){this.g=c,this.map=y}};function qi(c){this.l=c||10,p.PerformanceNavigationTiming?(c=p.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ma(c){return c.h?1:c.g?c.g.size:0}function Bo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ga(c,y){c.g?c.g.add(y):c.h=y}function hn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}qi.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return F(c.i)}function dd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function ya(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function Ho(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ya(c),A=dd(c),B=A.length,K=0;K<B;K++)y.call(void 0,A[K],_&&_[K],c)}var Rs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fd(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),B=null;if(0<=A){var K=c[_].substring(0,A);B=c[_].substring(A+1)}else K=c[_];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function St(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof St){this.h=c.h,Is(this,c.j),this.o=c.o,this.g=c.g,Rr(this,c.s),this.l=c.l;var y=c.i,_=new Fi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Hi(this,_),this.m=c.m}else c&&(y=String(c).match(Rs))?(this.h=!1,Is(this,y[1]||"",!0),this.o=zn(y[2]||""),this.g=zn(y[3]||"",!0),Rr(this,y[4]),this.l=zn(y[5]||"",!0),Hi(this,y[6]||"",!0),this.m=zn(y[7]||"")):(this.h=!1,this.i=new Fi(null,this.h))}St.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ds(y,Fo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ds(y,Fo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ds(_,_.charAt(0)=="/"?pd:Go,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ds(_,va)),c.join("")};function An(c){return new St(c)}function Is(c,y,_){c.j=_?zn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Rr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Hi(c,y,_){y instanceof Fi?(c.i=y,Lu(c.i,c.h)):(_||(y=Ds(y,md)),c.i=new Fi(y,c.h))}function nt(c,y,_){c.i.set(y,_)}function Cs(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ds(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Pu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fo=/[#\/\?@]/g,Go=/[#\?:]/g,pd=/[#\?]/g,md=/[#\?@]/g,va=/#/g;function Fi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Bn(c){c.g||(c.g=new Map,c.h=0,c.i&&fd(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Fi.prototype,r.add=function(c,y){Bn(this),this.i=null,c=_i(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Gi(c,y){Bn(c),y=_i(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Yi(c,y){return Bn(c),y=_i(c,y),c.g.has(y)}r.forEach=function(c,y){Bn(this),this.g.forEach(function(_,A){_.forEach(function(B){c.call(y,B,A,this)},this)},this)},r.na=function(){Bn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const B=c[A];for(let K=0;K<B.length;K++)_.push(y[A])}return _},r.V=function(c){Bn(this);let y=[];if(typeof c=="string")Yi(this,c)&&(y=y.concat(this.g.get(_i(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Bn(this),this.i=null,c=_i(this,c),Yi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Yo(c,y,_){Gi(c,y),0<_.length&&(c.i=null,c.g.set(_i(c,y),F(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const K=encodeURIComponent(String(A)),le=this.V(A);for(A=0;A<le.length;A++){var B=K;le[A]!==""&&(B+="="+encodeURIComponent(String(le[A]))),c.push(B)}}return this.i=c.join("&")};function _i(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Lu(c,y){y&&!c.j&&(Bn(c),c.i=null,c.g.forEach(function(_,A){var B=A.toLowerCase();A!=B&&(Gi(this,A),Yo(this,B,_))},c)),c.j=y}function Ns(c,y){const _=new jn;if(p.Image){const A=new Image;A.onload=O(qn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=O(qn,_,"TestLoadImage: error",!1,y,A),A.onabort=O(qn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=O(qn,_,"TestLoadImage: timeout",!1,y,A),p.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function si(c,y){const _=new jn,A=new AbortController,B=setTimeout(()=>{A.abort(),qn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(B),K.ok?qn(_,"TestPingServer: ok",!0,y):qn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),qn(_,"TestPingServer: error",!1,y)})}function qn(c,y,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function Os(){this.g=new xs}function bi(c,y,_){const A=_||"";try{Ho(c,function(B,K){let le=B;g(B)&&(le=ii(B)),y.push(A+K+"="+encodeURIComponent(le))})}catch(B){throw y.push(A+"type="+encodeURIComponent("_badmap")),B}}function Ir(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Ir,ko),Ir.prototype.g=function(){return new Wi(this.l,this.j)},Ir.prototype.i=function(c){return function(){return c}}({});function Wi(c,y){ct.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Wi,ct),r=Wi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ti(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||p).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ei(this):Ti(this),this.readyState==3&&Wo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Ei(this))},r.Qa=function(c){this.g&&(this.response=c,Ei(this))},r.ga=function(){this.g&&Ei(this)};function Ei(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ti(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ko(c){let y="";return Te(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Ut(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Ko(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):nt(c,y,_))}function Ze(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ze,ct);var _a=/^https?$/i,Ms=["POST","PUT"];r=Ze.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gi.g(),this.v=this.o?Vo(this.o):Vo(gi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Uu(this,K);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())_.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),B=p.FormData&&c instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Ms,y,void 0))||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,le]of _)this.g.setRequestHeader(K,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ks(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Uu(this,K)}};function Uu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ba(c),xi(c)}function ba(c){c.A||(c.A=!0,Xe(c,"complete"),Xe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Xe(this,"complete"),Xe(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Ze.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},r.bb=function(){Ea(this)};function Ea(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)tn(c.Ea,0,c);else if(Xe(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=le===0){var B=String(c.D).match(Rs)[1]||null;!B&&p.self&&p.self.location&&(B=p.self.location.protocol.slice(0,-1)),A=!_a.test(B?B.toLowerCase():"")}_=A}if(_)Xe(c,"complete"),Xe(c,"success");else{c.m=6;try{var K=2<Hn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ba(c)}}finally{xi(c)}}}}function xi(c,y){if(c.g){ks(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Xe(c,"ready");try{_.onreadystatechange=A}catch{}}}function ks(c){c.I&&(p.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ha(y)}};function ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function gd(c){const y={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(J(c[A]))continue;var _=C(c[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[B]||[];y[B]=K,K.push(_)}k(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Ta(c){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,c),this.cb=Vs("retryDelaySeedMs",1e4,c),this.Wa=Vs("forwardChannelMaxRetries",2,c),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new qi(c&&c.concurrentRequestLimit),this.Da=new Os,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ta.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){ht(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Yu(this,null,this.W),Sa(this)};function Qo(c){if(zu(c),c.G==3){var y=c.U++,_=An(c.I);if(nt(_,"SID",c.K),nt(_,"RID",y),nt(_,"TYPE","terminate"),Ps(c,_),y=new cn(c,c.j,y),y.L=2,y.v=Cs(An(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=y.v,_=!0),_||(y.g=Wu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),As(y)}Gu(c)}function xa(c){c.g&&(Ls(c),c.g.cancel(),c.g=null)}function zu(c){xa(c),c.u&&(p.clearTimeout(c.u),c.u=null),Aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&p.clearTimeout(c.s),c.s=null)}function Sa(c){if(!pa(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||D(),ce||(oe(),ce=!0),$.add(y,c),c.B=0}}function yd(c,y){return ma(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=xt(x(c.Ga,c,y),Zo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new cn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=w(K),V(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Bu(this,B,y),_=An(this.I),nt(_,"RID",c),nt(_,"CVER",22),this.D&&nt(_,"X-HTTP-Session-Id",this.D),Ps(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Ko(K)))+"&"+y:this.m&&Ut(_,this.m,K)),ga(this.h,B),this.Ua&&nt(_,"TYPE","init"),this.P?(nt(_,"$req",y),nt(_,"SID","null"),B.T=!0,ri(B,_,null)):ri(B,_,y),this.G=2}}else this.G==3&&(c?$o(this,c):this.i.length==0||pa(this.h)||$o(this))};function $o(c,y){var _;y?_=y.l:_=c.U++;const A=An(c.I);nt(A,"SID",c.K),nt(A,"RID",_),nt(A,"AID",c.T),Ps(c,A),c.m&&c.o&&Ut(A,c.m,c.o),_=new cn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Bu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ga(c.h,_),ri(_,A,y)}function Ps(c,y){c.H&&Te(c.H,function(_,A){nt(y,A,_)}),c.l&&Ho({},function(_,A){nt(y,A,_)})}function Bu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?x(c.l.Na,c.l,c):null;e:{var B=c.i;let K=-1;for(;;){const le=["count="+_];K==-1?0<_?(K=B[0].g,le.push("ofs="+K)):K=0:le.push("ofs="+K);let Be=!0;for(let Nt=0;Nt<_;Nt++){let qe=B[Nt].g;const jt=B[Nt].map;if(qe-=K,0>qe)K=Math.max(0,B[Nt].g-100),Be=!1;else try{bi(jt,le,"req"+qe+"_")}catch{A&&A(jt)}}if(Be){A=le.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||D(),ce||(oe(),ce=!0),$.add(y,c),c.v=0}}function Xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=xt(x(c.Fa,c),Zo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=xt(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),xa(this),Hu(this))};function Ls(c){c.A!=null&&(p.clearTimeout(c.A),c.A=null)}function Hu(c){c.g=new cn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=An(c.qa);nt(y,"RID","rpc"),nt(y,"SID",c.K),nt(y,"AID",c.T),nt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(y,"TO",c.ja),nt(y,"TYPE","xmlhttp"),Ps(c,y),c.m&&c.o&&Ut(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Cs(An(y)),_.m=null,_.P=!0,Bi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,xa(this),Xo(this),ht(19))};function Aa(c){c.C!=null&&(p.clearTimeout(c.C),c.C=null)}function Fu(c,y){var _=null;if(c.g==y){Aa(c),Ls(c),c.g=null;var A=2}else if(Bo(c.h,y))_=y.D,hn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;A=Tr(),Xe(A,new Dt(A,_)),Sa(c)}else qu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(A==1&&yd(c,y)||A==2&&Xo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function Zo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ki(c,y){if(c.j.info("Error code "+y),y==2){var _=x(c.fb,c),A=c.Xa;const B=!A;A=new St(A||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Is(A,"https"),Cs(A),B?Ns(A.toString(),_):si(A.toString(),_)}else ht(2);c.G=0,c.l&&c.l.sa(y),Gu(c),zu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Gu(c){if(c.G=0,c.ka=[],c.l){const y=qo(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Yu(c,y,_){var A=_ instanceof St?An(_):new St(_);if(A.g!="")y&&(A.g=y+"."+A.g),Rr(A,A.s);else{var B=p.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new St(null);A&&Is(K,A),y&&(K.g=y),B&&Rr(K,B),_&&(K.l=_),A=K}return _=c.D,y=c.ya,_&&y&&nt(A,_,y),nt(A,"VER",c.la),Ps(c,A),A}function Wu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ze(new Ir({eb:_})):new Ze(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}r=Ku.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function wa(){}wa.prototype.g=function(c,y){return new dn(c,y)};function dn(c,y){ct.call(this),this.g=new Ta(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Si(this)}M(dn,ct),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Qo(this.g)},dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=ii(c),c=_);y.i.push(new Vu(y.Ya++,c)),y.G==3&&Sa(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,dn.aa.N.call(this)};function Qu(c){ji.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M(Qu,ji);function $u(){Lo.call(this),this.status=1}M($u,Lo);function Si(c){this.g=c}M(Si,Ku),Si.prototype.ua=function(){Xe(this.g,"a")},Si.prototype.ta=function(c){Xe(this.g,new Qu(c))},Si.prototype.sa=function(c){Xe(this.g,new $u)},Si.prototype.ra=function(){Xe(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,Cb=function(){return new wa},Ib=function(){return Tr()},Rb=mi,zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,ch=Ar,zi.COMPLETE="complete",wb=zi,Po.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Yl=Po,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,Ab=Ze}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const p_="@firebase/firestore",m_="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let an=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new gm("@firebase/firestore");function to(){return sa.logLevel}function fe(r,...e){if(sa.logLevel<=Ue.DEBUG){const n=e.map(Im);sa.debug(`Firestore (${Ro}): ${r}`,...n)}}function yr(r,...e){if(sa.logLevel<=Ue.ERROR){const n=e.map(Im);sa.error(`Firestore (${Ro}): ${r}`,...n)}}function fo(r,...e){if(sa.logLevel<=Ue.WARN){const n=e.map(Im);sa.warn(`Firestore (${Ro}): ${r}`,...n)}}function Im(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Db(r,s,n)}function Db(r,e,n){let s=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw yr(s),new Error(s)}function Je(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Db(e,o,s)}function De(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(an.UNAUTHENTICATED))}shutdown(){}}class TI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xI{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let s=this.i;const o=m=>this.i!==s?(s=this.i,n(m)):Promise.resolve();let u=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const m=u;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},p=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fr)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new Nb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class SI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new SI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class g_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new g_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=RI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ke(r,e){return r<e?-1:r>e?1:0}function Bp(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return ke(s,o);{const u=Ob(),d=II(u.encode(y_(r,n)),u.encode(y_(e,n)));return d!==0?d:ke(s,o)}}n+=s>65535?2:1}return ke(r.length,e.length)}function y_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function II(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return ke(r[n],e[n]);return ke(r.length,e.length)}function po(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=-62135596800,__=1e6;class Vt{static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*__);return new Vt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<v_)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/__}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-v_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Vt(0,0))}static max(){return new Ce(new Vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="__name__";class Ni{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&we(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ke(e.length,n.length)}static compareSegments(e,n){const s=Ni.isNumericId(e),o=Ni.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):Bp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class lt extends Ni{construct(e,n,s){return new lt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const CI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ni{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return CI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b_}static keyField(){return new Xt([b_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new me(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new me(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=m,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(s+=p,o++):(u(),o++)}if(u(),d)throw new me(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(lt.fromString(e))}static fromName(e){return new _e(lt.fromString(e).popFirst(5))}static empty(){return new _e(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function DI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new Vt(n+1,0):new Vt(n,s));return new cs(o,_e.empty(),e)}function NI(r){return new cs(r.readTime,r.key,ou)}class cs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(Ce.min(),_e.empty(),ou)}static max(){return new cs(Ce.max(),_e.empty(),ou)}}function OI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(r){if(r.code!==ie.FAILED_PRECONDITION||r.message!==MI)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,s)=>{n(e)})}static reject(e){return new ne((n,s)=>{s(e)})}static waitFor(e){return new ne((n,s)=>{let o=0,u=0,d=!1;e.forEach(p=>{++o,p.next(()=>{++u,d&&u===o&&n()},m=>s(m))}),d=!0,u===o&&n()})}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next(o=>o?ne.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ne((s,o)=>{const u=e.length,d=new Array(u);let p=0;for(let m=0;m<u;m++){const g=m;n(e[g]).next(v=>{d[g]=v,++p,p===u&&s(d)},v=>o(v))}})}static doWhile(e,n){return new ne((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function VI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Fh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=-1;function Gh(r){return r==null}function wh(r){return r===0&&1/r==-1/0}function PI(r){return typeof r=="number"&&Number.isInteger(r)&&!wh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="";function LI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=E_(e)),e=UI(r.get(n),e);return E_(e)}function UI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case kb:n+="";break;default:n+=u}}return n}function E_(r){return r+kb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function vs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Vb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new x_(this.data.getIterator())}getIteratorFrom(e){return new x_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class x_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Pt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Pb("Invalid base64 string: "+u):u}}(e);return new Zt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const jI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(r){if(Je(!!r,39018),typeof r=="string"){let e=0;const n=jI.exec(r);if(Je(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(r.seconds),nanos:Tt(r.nanos)}}function Tt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ds(r){return typeof r=="string"?Zt.fromBase64String(r):Zt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="server_timestamp",Ub="__type__",jb="__previous_value__",zb="__local_write_time__";function Dm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ub])===null||n===void 0?void 0:n.stringValue)===Lb}function Yh(r){const e=r.mapValue.fields[jb];return Dm(e)?Yh(e):e}function lu(r){const e=hs(r.mapValue.fields[zb].timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,s,o,u,d,p,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=v}}const Rh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="__type__",BI="__max__",th={mapValue:{}},qb="__vector__",Ih="value";function fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dm(r)?4:HI(r)?9007199254740991:qI(r)?10:11:we(28295,{value:r})}function Pi(r,e){if(r===e)return!0;const n=fs(r);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return lu(r).isEqual(lu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=hs(o.timestampValue),p=hs(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=Tt(o.doubleValue),p=Tt(u.doubleValue);return d===p?wh(d)===wh(p):isNaN(d)&&isNaN(p)}return!1}(r,e);case 9:return po(r.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},p=u.mapValue.fields||{};if(T_(d)!==T_(p))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(p[m]===void 0||!Pi(d[m],p[m])))return!1;return!0}(r,e);default:return we(52216,{left:r})}}function cu(r,e){return(r.values||[]).find(n=>Pi(n,e))!==void 0}function mo(r,e){if(r===e)return 0;const n=fs(r),s=fs(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(r.booleanValue,e.booleanValue);case 2:return function(u,d){const p=Tt(u.integerValue||u.doubleValue),m=Tt(d.integerValue||d.doubleValue);return p<m?-1:p>m?1:p===m?0:isNaN(p)?isNaN(m)?0:-1:1}(r,e);case 3:return S_(r.timestampValue,e.timestampValue);case 4:return S_(lu(r),lu(e));case 5:return Bp(r.stringValue,e.stringValue);case 6:return function(u,d){const p=ds(u),m=ds(d);return p.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(u,d){const p=u.split("/"),m=d.split("/");for(let g=0;g<p.length&&g<m.length;g++){const v=ke(p[g],m[g]);if(v!==0)return v}return ke(p.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,d){const p=ke(Tt(u.latitude),Tt(d.latitude));return p!==0?p:ke(Tt(u.longitude),Tt(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return A_(r.arrayValue,e.arrayValue);case 10:return function(u,d){var p,m,g,v;const S=u.fields||{},x=d.fields||{},O=(p=S[Ih])===null||p===void 0?void 0:p.arrayValue,M=(m=x[Ih])===null||m===void 0?void 0:m.arrayValue,F=ke(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((v=M==null?void 0:M.values)===null||v===void 0?void 0:v.length)||0);return F!==0?F:A_(O,M)}(r.mapValue,e.mapValue);case 11:return function(u,d){if(u===th.mapValue&&d===th.mapValue)return 0;if(u===th.mapValue)return 1;if(d===th.mapValue)return-1;const p=u.fields||{},m=Object.keys(p),g=d.fields||{},v=Object.keys(g);m.sort(),v.sort();for(let S=0;S<m.length&&S<v.length;++S){const x=Bp(m[S],v[S]);if(x!==0)return x;const O=mo(p[m[S]],g[v[S]]);if(O!==0)return O}return ke(m.length,v.length)}(r.mapValue,e.mapValue);default:throw we(23264,{Pe:n})}}function S_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ke(r,e);const n=hs(r),s=hs(e),o=ke(n.seconds,s.seconds);return o!==0?o:ke(n.nanos,s.nanos)}function A_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=mo(n[o],s[o]);if(u)return u}return ke(n.length,s.length)}function go(r){return qp(r)}function qp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ds(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return _e.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=qp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${qp(n.fields[d])}`;return o+"}"}(r.mapValue):we(61005,{value:r})}function hh(r){switch(fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yh(r);return e?16+hh(e):16;case 5:return 2*r.stringValue.length;case 6:return ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+hh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return vs(s.fields,(u,d)=>{o+=u.length+hh(d)}),o}(r.mapValue);default:throw we(13486,{value:r})}}function w_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Hp(r){return!!r&&"integerValue"in r}function Nm(r){return!!r&&"arrayValue"in r}function R_(r){return!!r&&"nullValue"in r}function I_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function qI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Bb])===null||n===void 0?void 0:n.stringValue)===qb}function Zl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return vs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Zl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function HI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===BI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach((d,p)=>{if(!n.isImmediateParentOf(p)){const m=this.getFieldsMap(n);this.applyChanges(m,s,o),s={},o=[],n=p.popLast()}d?s[p.lastSegment()]=Zl(d):o.push(p.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){vs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new En(Zl(this.value))}}function Hb(r){const e=[];return vs(r.fields,(n,s)=>{const o=new Xt([n]);if(dh(s)){const u=Hb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,s,o,u,d,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(e){return new ln(e,0,Ce.min(),Ce.min(),Ce.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new ln(e,1,n,Ce.min(),s,o,0)}static newNoDocument(e,n){return new ln(e,2,n,Ce.min(),Ce.min(),En.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ce.min(),Ce.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function C_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(d.referenceValue),n.key):s=mo(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function D_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Pi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function FI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{}class It extends Fb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new YI(e,n,s):n==="array-contains"?new QI(e,s):n==="in"?new $I(e,s):n==="not-in"?new XI(e,s):n==="array-contains-any"?new ZI(e,s):new It(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new WI(e,s):new KI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(mo(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(mo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class di extends Fb{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new di(e,n)}matches(e){return Gb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Gb(r){return r.op==="and"}function Yb(r){return GI(r)&&Gb(r)}function GI(r){for(const e of r.filters)if(e instanceof di)return!1;return!0}function Fp(r){if(r instanceof It)return r.field.canonicalString()+r.op.toString()+go(r.value);if(Yb(r))return r.filters.map(e=>Fp(e)).join(",");{const e=r.filters.map(n=>Fp(n)).join(",");return`${r.op}(${e})`}}function Wb(r,e){return r instanceof It?function(s,o){return o instanceof It&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)}(r,e):r instanceof di?function(s,o){return o instanceof di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,d,p)=>u&&Wb(d,o.filters[p]),!0):!1}(r,e):void we(19439)}function Kb(r){return r instanceof It?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(r):r instanceof di?function(n){return n.op.toString()+" {"+n.getFilters().map(Kb).join(" ,")+"}"}(r):"Filter"}class YI extends It{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class WI extends It{constructor(e,n){super(e,"in",n),this.keys=Qb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class KI extends It{constructor(e,n){super(e,"not-in",n),this.keys=Qb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Qb(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>_e.fromName(s.referenceValue))}class QI extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Nm(n)&&cu(n.arrayValue,this.value)}}class $I extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class XI extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class ZI extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Nm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>cu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n=null,s=[],o=[],u=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=p,this.Ie=null}}function N_(r,e=null,n=[],s=[],o=null,u=null,d=null){return new JI(r,e,n,s,o,u,d)}function Om(r){const e=De(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Fp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>go(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>go(s)).join(",")),e.Ie=n}return e.Ie}function Mm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!FI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Wb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!D_(r.startAt,e.startAt)&&D_(r.endAt,e.endAt)}function Gp(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n=null,s=[],o=[],u=null,d="F",p=null,m=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function eC(r,e,n,s,o,u,d,p){return new xu(r,e,n,s,o,u,d,p)}function km(r){return new xu(r)}function O_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $b(r){return r.collectionGroup!==null}function Jl(r){const e=De(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Pt(Xt.comparator);return d.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(p=p.add(g.field))})}),p})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Dh(u,s))}),n.has(Xt.keyField().canonicalString())||e.Ee.push(new Dh(Xt.keyField(),s))}return e.Ee}function ki(r){const e=De(r);return e.de||(e.de=tC(e,Jl(r))),e.de}function tC(r,e){if(r.limitType==="F")return N_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Dh(o.field,u)});const n=r.endAt?new Ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ch(r.startAt.position,r.startAt.inclusive):null;return N_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Yp(r,e){const n=r.filters.concat([e]);return new xu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Wp(r,e,n){return new xu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Wh(r,e){return Mm(ki(r),ki(e))&&r.limitType===e.limitType}function Xb(r){return`${Om(ki(r))}|lt:${r.limitType}`}function no(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Kb(o)).join(", ")}]`),Gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>go(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>go(o)).join(",")),`Target(${s})`}(ki(r))}; limitType=${r.limitType})`}function Kh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,p,m){const g=C_(d,p,m);return d.inclusive?g<=0:g<0}(s.startAt,Jl(s),o)||s.endAt&&!function(d,p,m){const g=C_(d,p,m);return d.inclusive?g>=0:g>0}(s.endAt,Jl(s),o))}(r,e)}function nC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Zb(r){return(e,n)=>{let s=!1;for(const o of Jl(r)){const u=iC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function iC(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):function(u,d,p){const m=d.data.field(u),g=p.data.field(u);return m!==null&&g!==null?mo(m,g):we(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Vb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new gt(_e.comparator);function vr(){return rC}const Jb=new gt(_e.comparator);function Wl(...r){let e=Jb;for(const n of r)e=e.insert(n.key,n);return e}function eE(r){let e=Jb;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ea(){return eu()}function tE(){return eu()}function eu(){return new la(r=>r.toString(),(r,e)=>r.isEqual(e))}const sC=new gt(_e.comparator),aC=new Pt(_e.comparator);function je(...r){let e=aC;for(const n of r)e=e.add(n);return e}const oC=new Pt(ke);function lC(){return oC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function nE(r){return{integerValue:""+r}}function iE(r,e){return PI(e)?nE(e):Vm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function uC(r,e,n){return r instanceof Nh?function(o,u){const d={fields:{[Ub]:{stringValue:Lb},[zb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dm(u)&&(u=Yh(u)),u&&(d.fields[jb]=u),{mapValue:d}}(n,e):r instanceof hu?sE(r,e):r instanceof yo?aE(r,e):function(o,u){const d=rE(o,u),p=M_(d)+M_(o.Re);return Hp(d)&&Hp(o.Re)?nE(p):Vm(o.serializer,p)}(r,e)}function cC(r,e,n){return r instanceof hu?sE(r,e):r instanceof yo?aE(r,e):n}function rE(r,e){return r instanceof du?function(s){return Hp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Nh extends Qh{}class hu extends Qh{constructor(e){super(),this.elements=e}}function sE(r,e){const n=oE(e);for(const s of r.elements)n.some(o=>Pi(o,s))||n.push(s);return{arrayValue:{values:n}}}class yo extends Qh{constructor(e){super(),this.elements=e}}function aE(r,e){let n=oE(e);for(const s of r.elements)n=n.filter(o=>!Pi(o,s));return{arrayValue:{values:n}}}class du extends Qh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function M_(r){return Tt(r.integerValue||r.doubleValue)}function oE(r){return Nm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.field=e,this.transform=n}}function hC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof hu&&o instanceof hu||s instanceof yo&&o instanceof yo?po(s.elements,o.elements,Pi):s instanceof du&&o instanceof du?Pi(s.Re,o.Re):s instanceof Nh&&o instanceof Nh}(r.transform,e.transform)}class dC{constructor(e,n){this.version=e,this.transformResults=n}}class ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $h{}function uE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Pm(r.key,ei.none()):new Su(r.key,r.data,ei.none());{const n=r.data,s=En.empty();let o=new Pt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new _s(r.key,s,new kn(o.toArray()),ei.none())}}function fC(r,e,n){r instanceof Su?function(o,u,d){const p=o.value.clone(),m=V_(o.fieldTransforms,u,d.transformResults);p.setAll(m),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,n):r instanceof _s?function(o,u,d){if(!fh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const p=V_(o.fieldTransforms,u,d.transformResults),m=u.data;m.setAll(cE(o)),m.setAll(p),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,e,n):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function tu(r,e,n,s){return r instanceof Su?function(u,d,p,m){if(!fh(u.precondition,d))return p;const g=u.value.clone(),v=P_(u.fieldTransforms,m,d);return g.setAll(v),d.convertToFoundDocument(d.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof _s?function(u,d,p,m){if(!fh(u.precondition,d))return p;const g=P_(u.fieldTransforms,m,d),v=d.data;return v.setAll(cE(u)),v.setAll(g),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,n,s):function(u,d,p){return fh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p}(r,e,n)}function pC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=rE(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function k_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,(u,d)=>hC(u,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Su extends $h{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends $h{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cE(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function V_(r,e,n){const s=new Map;Je(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,p=e.data.field(u.field);s.set(u.field,cC(d,p,n[o]))}return s}function P_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);s.set(o.field,uC(u,d,e))}return s}class Pm extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mC extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&fC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=tu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tE();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(o.key)?null:p;const m=uE(d,p);m!==null&&s.set(o.key,m),d.isValidDocument()||d.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),je())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(n,s)=>k_(n,s))&&po(this.baseMutations,e.baseMutations,(n,s)=>k_(n,s))}}class Lm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Je(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return sC}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new Lm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,Fe;function _C(r){switch(r){case ie.OK:return we(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return we(15467,{code:r})}}function hE(r){if(r===void 0)return yr("GRPC error has no .code"),ie.UNKNOWN;switch(r){case Rt.OK:return ie.OK;case Rt.CANCELLED:return ie.CANCELLED;case Rt.UNKNOWN:return ie.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ie.INTERNAL;case Rt.UNAVAILABLE:return ie.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ie.NOT_FOUND;case Rt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Rt.ABORTED:return ie.ABORTED;case Rt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Rt.DATA_LOSS:return ie.DATA_LOSS;default:return we(39323,{code:r})}}(Fe=Rt||(Rt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new os([4294967295,4294967295],0);function L_(r){const e=Ob().encode(r),n=new Sb;return n.update(e),new Uint8Array(n.digest())}function U_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new os([n,s],0),new os([o,u],0)]}class Um{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=os.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(os.fromNumber(s)));return o.compare(bC)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=L_(e),[s,o]=U_(n);for(let u=0;u<this.hashCount;u++){const d=this.we(s,o,u);if(!this.Se(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Um(u,o,n);return s.forEach(p=>d.insert(p)),d}insert(e){if(this.pe===0)return;const n=L_(e),[s,o]=U_(n);for(let u=0;u<this.hashCount;u++){const d=this.we(s,o,u);this.be(d)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Au.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Xh(Ce.min(),o,new gt(ke),vr(),je())}}class Au{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Au(s,n,je(),je(),je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class dE{constructor(e,n){this.targetId=e,this.Ce=n}}class fE{constructor(e,n,s=Zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class j_{constructor(){this.Fe=0,this.Me=z_(),this.xe=Zt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=je(),n=je(),s=je();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we(38017,{changeType:u})}}),new Au(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=z_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Je(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class EC{constructor(e){this.ze=e,this.je=new Map,this.He=vr(),this.Je=nh(),this.Ye=nh(),this.Ze=new gt(ke)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:we(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(Gp(u))if(s===0){const d=new _e(u.path);this.tt(n,d,ln.newNoDocument(d,Ce.min()))}else Je(s===1,20013,{expectedCount:s});else{const d=this.ut(n);if(d!==s){const p=this.ct(e),m=p?this.lt(p,e,d):1;if(m!==0){this.st(n);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let d,p;try{d=ds(s).toUint8Array()}catch(m){if(m instanceof Pb)return fo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{p=new Um(d,o,u)}catch(m){return fo(m instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return p.pe===0?null:p}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const d=this.ze.Pt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,d)=>{const p=this._t(d);if(p){if(u.current&&Gp(p.target)){const m=new _e(p.target.path);this.Et(m).has(d)||this.dt(d,m)||this.tt(d,m,ln.newNoDocument(m,e))}u.Le&&(n.set(d,u.qe()),u.Qe())}});let s=je();this.Ye.forEach((u,d)=>{let p=!0;d.forEachWhile(m=>{const g=this._t(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(s=s.add(u))}),this.He.forEach((u,d)=>d.setReadTime(e));const o=new Xh(e,n,this.Ze,this.He,s);return this.He=vr(),this.Je=nh(),this.Ye=nh(),this.Ze=new gt(ke),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new j_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Pt(ke),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Pt(ke),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new j_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function nh(){return new gt(_e.comparator)}function z_(){return new gt(_e.comparator)}const TC={asc:"ASCENDING",desc:"DESCENDING"},xC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SC={and:"AND",or:"OR"};class AC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Kp(r,e){return r.useProto3Json||Gh(e)?e:{value:e}}function Oh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wC(r,e){return Oh(r,e.toTimestamp())}function Vi(r){return Je(!!r,49232),Ce.fromTimestamp(function(n){const s=hs(n);return new Vt(s.seconds,s.nanos)}(r))}function jm(r,e){return Qp(r,e).canonicalString()}function Qp(r,e){const n=function(o){return new lt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function mE(r){const e=lt.fromString(r);return Je(bE(e),10190,{key:e.toString()}),e}function $p(r,e){return jm(r.databaseId,e.path)}function Sp(r,e){const n=mE(e);if(n.get(1)!==r.databaseId.projectId)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new me(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(yE(n))}function gE(r,e){return jm(r.databaseId,e)}function RC(r){const e=mE(r);return e.length===4?lt.emptyPath():yE(e)}function Xp(r){return new lt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yE(r){return Je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function B_(r,e,n){return{name:$p(r,e),fields:n.value.mapValue.fields}}function IC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?(Je(v===void 0||typeof v=="string",58123),Zt.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Zt.fromUint8Array(v||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&function(g){const v=g.code===void 0?ie.UNKNOWN:hE(g.code);return new me(v,g.message||"")}(d);n=new fE(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sp(r,s.document.name),u=Vi(s.document.updateTime),d=s.document.createTime?Vi(s.document.createTime):Ce.min(),p=new En({mapValue:{fields:s.document.fields}}),m=ln.newFoundDocument(o,u,d,p),g=s.targetIds||[],v=s.removedTargetIds||[];n=new ph(g,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sp(r,s.document),u=s.readTime?Vi(s.readTime):Ce.min(),d=ln.newNoDocument(o,u),p=s.removedTargetIds||[];n=new ph([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sp(r,s.document),u=s.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new vC(o,u),p=s.targetId;n=new dE(p,d)}}return n}function CC(r,e){let n;if(e instanceof Su)n={update:B_(r,e.key,e.value)};else if(e instanceof Pm)n={delete:$p(r,e.key)};else if(e instanceof _s)n={update:B_(r,e.key,e.data),updateMask:UC(e.fieldMask)};else{if(!(e instanceof mC))return we(16599,{ft:e.type});n={verify:$p(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,d){const p=d.transform;if(p instanceof Nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof hu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof yo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof du)return{fieldPath:d.field.canonicalString(),increment:p.Re};throw we(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:wC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we(27497)}(r,e.precondition)),n}function DC(r,e){return r&&r.length>0?(Je(e!==void 0,14353),r.map(n=>function(o,u){let d=o.updateTime?Vi(o.updateTime):Vi(u);return d.isEqual(Ce.min())&&(d=Vi(u)),new dC(d,o.transformResults||[])}(n,e))):[]}function NC(r,e){return{documents:[gE(r,e.path)]}}function OC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=gE(r,o);const u=function(g){if(g.length!==0)return _E(di.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(g){if(g.length!==0)return g.map(v=>function(x){return{field:io(x.field),direction:VC(x.dir)}}(v))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=Kp(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{gt:n,parent:o}}function MC(r){let e=RC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Je(s===1,65062);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(S){const x=vE(S);return x instanceof di&&Yb(x)?x.getFilters():[x]}(n.where));let d=[];n.orderBy&&(d=function(S){return S.map(x=>function(M){return new Dh(ro(M.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(x))}(n.orderBy));let p=null;n.limit&&(p=function(S){let x;return x=typeof S=="object"?S.value:S,Gh(x)?null:x}(n.limit));let m=null;n.startAt&&(m=function(S){const x=!!S.before,O=S.values||[];return new Ch(O,x)}(n.startAt));let g=null;return n.endAt&&(g=function(S){const x=!S.before,O=S.values||[];return new Ch(O,x)}(n.endAt)),eC(e,o,d,u,p,"F",m,g)}function kC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ro(n.unaryFilter.field);return It.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ro(n.unaryFilter.field);return It.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}}(r):r.fieldFilter!==void 0?function(n){return It.create(ro(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return di.create(n.compositeFilter.filters.map(s=>vE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}}(n.compositeFilter.op))}(r):we(30097,{filter:r})}function VC(r){return TC[r]}function PC(r){return xC[r]}function LC(r){return SC[r]}function io(r){return{fieldPath:r.canonicalString()}}function ro(r){return Xt.fromServerFormat(r.fieldPath)}function _E(r){return r instanceof It?function(n){if(n.op==="=="){if(I_(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(R_(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(I_(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(R_(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:PC(n.op),value:n.value}}}(r):r instanceof di?function(n){const s=n.getFilters().map(o=>_E(o));return s.length===1?s[0]:{compositeFilter:{op:LC(n.op),filters:s}}}(r):we(54877,{filter:r})}function UC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,s,o,u=Ce.min(),d=Ce.min(),p=Zt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=m}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.wt=e}}function zC(r){const e=MC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.Cn=new qC}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(cs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class qC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(lt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EE=41943040;class bn{static withCacheSize(e){return new bn(e,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(EE,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new vo(0)}static lr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="LruGarbageCollector",HC=1048576;function F_([r,e],[n,s]){const o=ke(r,n);return o===0?ke(e,s):o}class FC{constructor(e){this.Er=e,this.buffer=new Pt(F_),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();F_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class GC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){fe(H_,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?fe(H_,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.mr(3e5)})}}class YC{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Fh.le);const s=new FC(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(q_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q_):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,d,p,m,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,p=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,m=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(g=Date.now(),to()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-v}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${u} targets in `+(m-p)+`ms
	Removed ${S} documents in `+(g-m)+`ms
Total Duration: ${g-v}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function WC(r,e){return new YC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.changes=new la(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&tu(s.mutation,o,kn.empty(),Vt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,je()).next(()=>s))}getLocalViewOfDocuments(e,n,s=je()){const o=ea();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let d=Wl();return u.forEach((p,m)=>{d=d.insert(p,m.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=ea();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,je()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,p)=>{n.set(d,p)})})}computeViews(e,n,s,o){let u=vr();const d=eu(),p=function(){return eu()}();return n.forEach((m,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof _s)?u=u.insert(g.key,g):v!==void 0?(d.set(g.key,v.mutation.getFieldMask()),tu(v.mutation,g,v.mutation.getFieldMask(),Vt.now())):d.set(g.key,kn.empty())}),this.recalculateAndSaveOverlays(e,u).next(m=>(m.forEach((g,v)=>d.set(g,v)),n.forEach((g,v)=>{var S;return p.set(g,new QC(v,(S=d.get(g))!==null&&S!==void 0?S:null))}),p))}recalculateAndSaveOverlays(e,n){const s=eu();let o=new gt((d,p)=>d-p),u=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const p of d)p.keys().forEach(m=>{const g=n.get(m);if(g===null)return;let v=s.get(m)||kn.empty();v=p.applyToLocalView(g,v),s.set(m,v);const S=(o.get(p.batchId)||je()).add(m);o=o.insert(p.batchId,S)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const m=p.getNext(),g=m.key,v=m.value,S=tE();v.forEach(x=>{if(!u.has(x)){const O=uE(n.get(x),s.get(x));O!==null&&S.set(x,O),u=u.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(e,g,S))}return ne.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$b(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(ea());let p=ou,m=u;return d.next(g=>ne.forEach(g,(v,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),u.get(v)?ne.resolve():this.remoteDocumentCache.getEntry(e,v).next(x=>{m=m.insert(v,x)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,m,g,je())).next(v=>({batchId:p,changes:eE(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let o=Wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let d=Wl();return this.indexManager.getCollectionParents(e,u).next(p=>ne.forEach(p,m=>{const g=function(S,x){return new xu(x,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,m.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((S,x)=>{d=d.insert(S,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(d=>{u.forEach((m,g)=>{const v=g.getKey();d.get(v)===null&&(d=d.insert(v,ln.newInvalidDocument(v)))});let p=Wl();return d.forEach((m,g)=>{const v=u.get(m);v!==void 0&&tu(v.mutation,g,kn.empty(),Vt.now()),Kh(n,g)&&(p=p.insert(m,g))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ne.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:zC(o.bundledQuery),readTime:Vi(o.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this.overlays=new gt(_e.comparator),this.Qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ea();return ne.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.bt(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=ea(),u=n.length+1,d=new _e(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const m=p.getNext().value,g=m.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&m.largestBatchId>s&&o.set(m.getKey(),m)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new gt((g,v)=>g-v);const d=this.overlays.getIterator();for(;d.hasNext();){const g=d.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=ea(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const p=ea(),m=u.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,v)=>p.set(g,v)),!(p.size()>=o)););return ne.resolve(p)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new yC(n,s));let u=this.Qr.get(n);u===void 0&&(u=je(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(){this.$r=new Pt(Ht.Ur),this.Kr=new Pt(Ht.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Ht(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Ht(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new _e(new lt([])),s=new Ht(n,e),o=new Ht(n,e+1),u=[];return this.Kr.forEachInRange([s,o],d=>{this.zr(d),u.push(d.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new _e(new lt([])),s=new Ht(n,e),o=new Ht(n,e+1);let u=je();return this.Kr.forEachInRange([s,o],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new Ht(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return _e.comparator(e.key,n.key)||ke(e.Zr,n.Zr)}static Wr(e,n){return ke(e.Zr,n.Zr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Pt(Ht.Ur)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gC(u,n,s,o);this.mutationQueue.push(d);for(const p of o)this.Xr=this.Xr.add(new Ht(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(d)}lookupMutationBatch(e,n){return ne.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Cm:this.nr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ht(n,0),o=new Ht(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],d=>{const p=this.ei(d.Zr);u.push(p)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(ke);return n.forEach(o=>{const u=new Ht(o,0),d=new Ht(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,d],p=>{s=s.add(p.Zr)})}),ne.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const d=new Ht(new _e(u),0);let p=new Pt(ke);return this.Xr.forEachWhile(m=>{const g=m.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(p=p.add(m.Zr)),!0)},d),ne.resolve(this.ni(p))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Je(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ne.forEach(n.mutations,o=>{const u=new Ht(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Ht(n,0),o=this.Xr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.ii=e,this.docs=function(){return new gt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,d=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let s=vr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ln.newInvalidDocument(o))}),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=vr();const d=n.path,p=new _e(d.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(p);for(;m.hasNext();){const{key:g,value:{document:v}}=m.getNext();if(!d.isPrefixOf(g.path))break;g.path.length>d.length+1||OI(NI(v),s)<=0||(o.has(v.key)||Kh(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we(9500)}si(e,n){return ne.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new n4(this)}getSize(e){return ne.resolve(this.size)}}class n4 extends KC{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),ne.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.persistence=e,this.oi=new la(n=>Om(n),Mm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this._i=0,this.ai=new zm,this.targetCount=0,this.ui=vo.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),ne.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new vo(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Tr(n),ne.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.oi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ne.waitFor(u).next(()=>o)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.ci={},this.overlays={},this.li=new Fh(0),this.hi=!1,this.hi=!0,this.Pi=new JC,this.referenceDelegate=e(this),this.Ti=new i4(this),this.indexManager=new BC,this.remoteDocumentCache=function(o){return new t4(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new jC(n),this.Ei=new XC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ZC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new e4(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new r4(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return ne.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class r4 extends kI{constructor(e){super(),this.currentSequenceNumber=e}}class Bm{constructor(e){this.persistence=e,this.Vi=new zm,this.mi=null}static fi(e){return new Bm(e)}get gi(){if(this.mi)return this.mi;throw we(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.gi,s=>{const o=_e.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Ce.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ne.or([()=>ne.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Mh{constructor(e,n){this.persistence=e,this.yi=new la(s=>LI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=WC(this,n)}static fi(e,n){return new Mh(e,n)}di(){}Ai(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}Sr(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return ne.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?ne.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,n).next(p=>{p||(s++,u.removeEntry(d,Ce.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ne.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hh(e.data.value)),n}Dr(e,n,s){return ne.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=je(),o=je();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return z2()?8:VI(un())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.Ss(e,n,o,s).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new s4;return this.bs(e,n,d).next(p=>{if(u.result=p,this.fs)return this.Ds(e,n,d,p.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(to()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ne.resolve()):(to()<=Ue.DEBUG&&fe("QueryEngine","Query:",no(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(to()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):ne.resolve())}ws(e,n){if(O_(n))return ne.resolve(null);let s=ki(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Wp(n,null,"F"),s=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const d=je(...u);return this.ys.getDocuments(e,d).next(p=>this.indexManager.getMinOffset(e,s).next(m=>{const g=this.vs(n,p);return this.Cs(n,g,d,m.readTime)?this.ws(e,Wp(n,null,"F")):this.Fs(e,g,n,m)}))})))}Ss(e,n,s,o){return O_(n)||o.isEqual(Ce.min())?ne.resolve(null):this.ys.getDocuments(e,s).next(u=>{const d=this.vs(n,u);return this.Cs(n,d,s,o)?ne.resolve(null):(to()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(n)),this.Fs(e,d,n,DI(o,ou)).next(p=>p))})}vs(e,n){let s=new Pt(Zb(e));return n.forEach((o,u)=>{Kh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}bs(e,n,s){return to()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",no(n)),this.ys.getDocumentsMatchingQuery(e,n,cs.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="LocalStore",o4=3e8;class l4{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new gt(ke),this.Os=new la(u=>Om(u),Mm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $C(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function u4(r,e,n,s){return new l4(r,e,n,s)}async function xE(r,e){const n=De(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const d=[],p=[];let m=je();for(const g of o){d.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}for(const g of u){p.push(g.batchId);for(const v of g.mutations)m=m.add(v.key)}return n.localDocuments.getDocuments(s,m).next(g=>({ks:g,removedBatchIds:d,addedBatchIds:p}))})})}function c4(r,e){const n=De(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(p,m,g,v){const S=g.batch,x=S.keys();let O=ne.resolve();return x.forEach(M=>{O=O.next(()=>v.getEntry(m,M)).next(F=>{const L=g.docVersions.get(M);Je(L!==null,48541),F.version.compareTo(L)<0&&(S.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),v.addEntry(F)))})}),O.next(()=>p.mutationQueue.removeMutationBatch(m,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(p){let m=je();for(let g=0;g<p.mutationResults.length;++g)p.mutationResults[g].transformResults.length>0&&(m=m.add(p.batch.mutations[g].key));return m}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function SE(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function h4(r,e){const n=De(r),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const p=[];e.targetChanges.forEach((v,S)=>{const x=o.get(S);if(!x)return;p.push(n.Ti.removeMatchingKeys(u,v.removedDocuments,S).next(()=>n.Ti.addMatchingKeys(u,v.addedDocuments,S)));let O=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?O=O.withResumeToken(Zt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):v.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(v.resumeToken,s)),o=o.insert(S,O),function(F,L,W){return F.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=o4?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(x,O,v)&&p.push(n.Ti.updateTargetData(u,O))});let m=vr(),g=je();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),p.push(d4(u,d,e.documentUpdates).next(v=>{m=v.qs,g=v.Qs})),!s.isEqual(Ce.min())){const v=n.Ti.getLastRemoteSnapshotVersion(u).next(S=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));p.push(v)}return ne.waitFor(p).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,m,g)).next(()=>m)}).then(u=>(n.xs=o,u))}function d4(r,e,n){let s=je(),o=je();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let d=vr();return n.forEach((p,m)=>{const g=u.get(p);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(p)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(p,m.readTime),d=d.insert(p,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),d=d.insert(p,m)):fe(Hm,"Ignoring outdated watch update for ",p,". Current version:",g.version," Watch version:",m.version)}),{qs:d,Qs:o}})}function f4(r,e){const n=De(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Cm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function p4(r,e){const n=De(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,ne.resolve(o)):n.Ti.allocateTargetId(s).next(d=>(o=new is(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Zp(r,e,n){const s=De(r),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Co(d))throw d;fe(Hm,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function G_(r,e,n){const s=De(r);let o=Ce.min(),u=je();return s.persistence.runTransaction("Execute query","readwrite",d=>function(m,g,v){const S=De(m),x=S.Os.get(v);return x!==void 0?ne.resolve(S.xs.get(x)):S.Ti.getTargetData(g,v)}(s,d,ki(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,p.targetId).next(m=>{u=m})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,n?o:Ce.min(),n?u:je())).next(p=>(m4(s,nC(e),p),{documents:p,$s:u})))}function m4(r,e,n){let s=r.Ns.get(e)||Ce.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class Y_{constructor(){this.activeTargetIds=lC()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g4{constructor(){this.xo=new Y_,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Y_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="ConnectivityMonitor";class K_{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){fe(W_,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){fe(W_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function Jp(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="RestConnection",v4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _4{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const d=Jp(),p=this.jo(e,n.toUriEncodedString());fe(Ap,`Sending RPC '${e}' ${d}:`,p,s);const m={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(m,o,u);const{host:g}=new URL(p),v=gu(g);return this.Jo(e,p,m,s,v).then(S=>(fe(Ap,`Received RPC '${e}' ${d}: `,S),S),S=>{throw fo(Ap,`RPC '${e}' ${d} failed with error: `,S,"url: ",p,"request:",s),S})}Yo(e,n,s,o,u,d){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=v4[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class E4 extends _4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const d=Jp();return new Promise((p,m)=>{const g=new Ab;g.setWithCredentials(!0),g.listenOnce(wb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ch.NO_ERROR:const S=g.getResponseJson();fe(sn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(S)),p(S);break;case ch.TIMEOUT:fe(sn,`RPC '${e}' ${d} timed out`),m(new me(ie.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const x=g.getStatus();if(fe(sn,`RPC '${e}' ${d} failed with status:`,x,"response text:",g.getResponseText()),x>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const M=O==null?void 0:O.error;if(M&&M.status&&M.message){const F=function(W){const J=W.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(J)>=0?J:ie.UNKNOWN}(M.status);m(new me(F,M.message))}else m(new me(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new me(ie.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:d,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(sn,`RPC '${e}' ${d} completed.`)}});const v=JSON.stringify(o);fe(sn,`RPC '${e}' ${d} sending request:`,o),g.send(n,"POST",v,s,15)})}T_(e,n,s){const o=Jp(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Cb(),p=Ib(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Ho(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const v=u.join("");fe(sn,`Creating RPC '${e}' stream ${o}: ${v}`,m);const S=d.createWebChannel(v,m);let x=!1,O=!1;const M=new b4({Zo:L=>{O?fe(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(x||(fe(sn,`Opening RPC '${e}' stream ${o} transport.`),S.open(),x=!0),fe(sn,`RPC '${e}' stream ${o} sending:`,L),S.send(L))},Xo:()=>S.close()}),F=(L,W,J)=>{L.listen(W,ae=>{try{J(ae)}catch(pe){setTimeout(()=>{throw pe},0)}})};return F(S,Yl.EventType.OPEN,()=>{O||(fe(sn,`RPC '${e}' stream ${o} transport opened.`),M.__())}),F(S,Yl.EventType.CLOSE,()=>{O||(O=!0,fe(sn,`RPC '${e}' stream ${o} transport closed`),M.u_())}),F(S,Yl.EventType.ERROR,L=>{O||(O=!0,fo(sn,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),M.u_(new me(ie.UNAVAILABLE,"The operation could not be completed")))}),F(S,Yl.EventType.MESSAGE,L=>{var W;if(!O){const J=L.data[0];Je(!!J,16349);const ae=J,pe=(ae==null?void 0:ae.error)||((W=ae[0])===null||W===void 0?void 0:W.error);if(pe){fe(sn,`RPC '${e}' stream ${o} received error:`,pe);const he=pe.status;let Te=function(I){const V=Rt[I];if(V!==void 0)return hE(V)}(he),k=pe.message;Te===void 0&&(Te=ie.INTERNAL,k="Unknown error status: "+he+" with message "+pe.message),O=!0,M.u_(new me(Te,k)),S.close()}else fe(sn,`RPC '${e}' stream ${o} received:`,J),M.c_(J)}}),F(p,Rb.STAT_EVENT,L=>{L.stat===zp.PROXY?fe(sn,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===zp.NOPROXY&&fe(sn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.a_()},0),M}}function wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(r){return new AC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.I_=s,this.E_=o,this.d_=u,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_="PersistentStream";class wE{constructor(e,n,s,o,u,d,p,m){this.xi=e,this.y_=s,this.w_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=m,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new AE(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(yr(n.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===n&&this.K_(s,o)},s=>{e(()=>{const o=new me(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,n){const s=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return fe(Q_,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(fe(Q_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T4 extends wE{constructor(e,n,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=IC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ce.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Ce.min():d.readTime?Vi(d.readTime):Ce.min()}(e);return this.listener.j_(n,s)}H_(e){const n={};n.database=Xp(this.serializer),n.addTarget=function(u,d){let p;const m=d.target;if(p=Gp(m)?{documents:NC(u,m)}:{query:OC(u,m).gt},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=pE(u,d.resumeToken);const g=Kp(u,d.expectedCount);g!==null&&(p.expectedCount=g)}else if(d.snapshotVersion.compareTo(Ce.min())>0){p.readTime=Oh(u,d.snapshotVersion.toTimestamp());const g=Kp(u,d.expectedCount);g!==null&&(p.expectedCount=g)}return p}(this.serializer,e);const s=kC(this.serializer,e);s&&(n.labels=s),this.L_(n)}J_(e){const n={};n.database=Xp(this.serializer),n.removeTarget=e,this.L_(n)}}class x4 extends wE{constructor(e,n,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=DC(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.ea(s,n)}ta(){const e={};e.database=Xp(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>CC(this.serializer,s))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{}class A4 extends S4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.zo(e,Qp(n,s),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ie.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Yo(e,Qp(n,s),o,d,p,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new me(ie.UNKNOWN,d.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class w4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(yr(n),this.oa=!1):fe("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class R4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=u,this.Ea.No(d=>{s.enqueueAndForget(async()=>{ua(this)&&(fe(aa,"Restarting streams for network reachability change."),await async function(m){const g=De(m);g.Ta.add(4),await wu(g),g.da.set("Unknown"),g.Ta.delete(4),await Jh(g)}(this))})}),this.da=new w4(s,o)}}async function Jh(r){if(ua(r))for(const e of r.Ia)await e(!0)}async function wu(r){for(const e of r.Ia)await e(!1)}function RE(r,e){const n=De(r);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),Wm(n)?Ym(n):Do(n).M_()&&Gm(n,e))}function Fm(r,e){const n=De(r),s=Do(n);n.Pa.delete(e),s.M_()&&IE(n,e),n.Pa.size===0&&(s.M_()?s.N_():ua(n)&&n.da.set("Unknown"))}function Gm(r,e){if(r.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(r).H_(e)}function IE(r,e){r.Aa.Ke(e),Do(r).J_(e)}function Ym(r){r.Aa=new EC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Pa.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),Do(r).start(),r.da._a()}function Wm(r){return ua(r)&&!Do(r).F_()&&r.Pa.size>0}function ua(r){return De(r).Ta.size===0}function CE(r){r.Aa=void 0}async function I4(r){r.da.set("Online")}async function C4(r){r.Pa.forEach((e,n)=>{Gm(r,e)})}async function D4(r,e){CE(r),Wm(r)?(r.da.ca(e),Ym(r)):r.da.set("Unknown")}async function N4(r,e,n){if(r.da.set("Online"),e instanceof fE&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const p of u.targetIds)o.Pa.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Pa.delete(p),o.Aa.removeTarget(p))}(r,e)}catch(s){fe(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kh(r,s)}else if(e instanceof ph?r.Aa.Xe(e):e instanceof dE?r.Aa.ot(e):r.Aa.nt(e),!n.isEqual(Ce.min()))try{const s=await SE(r.localStore);n.compareTo(s)>=0&&await function(u,d){const p=u.Aa.It(d);return p.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const v=u.Pa.get(g);v&&u.Pa.set(g,v.withResumeToken(m.resumeToken,d))}}),p.targetMismatches.forEach((m,g)=>{const v=u.Pa.get(m);if(!v)return;u.Pa.set(m,v.withResumeToken(Zt.EMPTY_BYTE_STRING,v.snapshotVersion)),IE(u,m);const S=new is(v.target,m,g,v.sequenceNumber);Gm(u,S)}),u.remoteSyncer.applyRemoteEvent(p)}(r,n)}catch(s){fe(aa,"Failed to raise snapshot:",s),await kh(r,s)}}async function kh(r,e,n){if(!Co(e))throw e;r.Ta.add(1),await wu(r),r.da.set("Offline"),n||(n=()=>SE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(aa,"Retrying IndexedDB access"),await n(),r.Ta.delete(1),await Jh(r)})}function DE(r,e){return e().catch(n=>kh(r,n,e))}async function ed(r){const e=De(r),n=ps(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:Cm;for(;O4(e);)try{const o=await f4(e.localStore,s);if(o===null){e.ha.length===0&&n.N_();break}s=o.batchId,M4(e,o)}catch(o){await kh(e,o)}NE(e)&&OE(e)}function O4(r){return ua(r)&&r.ha.length<10}function M4(r,e){r.ha.push(e);const n=ps(r);n.M_()&&n.Y_&&n.Z_(e.mutations)}function NE(r){return ua(r)&&!ps(r).F_()&&r.ha.length>0}function OE(r){ps(r).start()}async function k4(r){ps(r).ta()}async function V4(r){const e=ps(r);for(const n of r.ha)e.Z_(n.mutations)}async function P4(r,e,n){const s=r.ha.shift(),o=Lm.from(s,e,n);await DE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await ed(r)}async function L4(r,e){e&&ps(r).Y_&&await async function(s,o){if(function(d){return _C(d)&&d!==ie.ABORTED}(o.code)){const u=s.ha.shift();ps(s).O_(),await DE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await ed(s)}}(r,e),NE(r)&&OE(r)}async function $_(r,e){const n=De(r);n.asyncQueue.verifyOperationInProgress(),fe(aa,"RemoteStore received new credentials");const s=ua(n);n.Ta.add(3),await wu(n),s&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Jh(n)}async function U4(r,e){const n=De(r);e?(n.Ta.delete(2),await Jh(n)):e||(n.Ta.add(2),await wu(n),n.da.set("Unknown"))}function Do(r){return r.Ra||(r.Ra=function(n,s,o){const u=De(n);return u.ra(),new T4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:I4.bind(null,r),n_:C4.bind(null,r),i_:D4.bind(null,r),j_:N4.bind(null,r)}),r.Ia.push(async e=>{e?(r.Ra.O_(),Wm(r)?Ym(r):r.da.set("Unknown")):(await r.Ra.stop(),CE(r))})),r.Ra}function ps(r){return r.Va||(r.Va=function(n,s,o){const u=De(n);return u.ra(),new x4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:k4.bind(null,r),i_:L4.bind(null,r),X_:V4.bind(null,r),ea:P4.bind(null,r)}),r.Ia.push(async e=>{e?(r.Va.O_(),await ed(r)):(await r.Va.stop(),r.ha.length>0&&(fe(aa,`Stopping write stream with ${r.ha.length} pending writes`),r.ha=[]))})),r.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const d=Date.now()+s,p=new Km(e,n,d,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(r,e){if(yr("AsyncQueue",`${e}: ${r}`),Co(r))return new me(ie.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Wl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(){this.ma=new gt(_e.comparator)}track(e){const n=e.doc.key,s=this.ma.get(n);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(n,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(n):e.type===1&&s.type===2?this.ma=this.ma.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,s)=>{e.push(s)}),e}}class _o{constructor(e,n,s,o,u,d,p,m,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const d=[];return n.forEach(p=>{d.push({type:0,doc:p})}),new _o(e,n,uo.emptySet(n),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class z4{constructor(){this.queries=Z_(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,s){const o=De(n),u=o.queries;o.queries=Z_(),u.forEach((d,p)=>{for(const m of p.ya)m.onError(s)})})(this,new me(ie.ABORTED,"Firestore shutting down"))}}function Z_(){return new la(r=>Xb(r),Wh)}async function ME(r,e){const n=De(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.wa()&&e.Sa()&&(s=2):(u=new j4,s=e.Sa()?0:1);try{switch(s){case 0:u.pa=await n.onListen(o,!0);break;case 1:u.pa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const p=Qm(d,`Initialization of query '${no(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.ya.push(e),e.Da(n.onlineState),u.pa&&e.va(u.pa)&&$m(n)}async function kE(r,e){const n=De(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const d=u.ya.indexOf(e);d>=0&&(u.ya.splice(d,1),u.ya.length===0?o=e.Sa()?0:1:!u.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function B4(r,e){const n=De(r);let s=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const p of d.ya)p.va(o)&&(s=!0);d.pa=o}}s&&$m(n)}function q4(r,e,n){const s=De(r),o=s.queries.get(e);if(o)for(const u of o.ya)u.onError(n);s.queries.delete(e)}function $m(r){r.ba.forEach(e=>{e.next()})}var em,J_;(J_=em||(em={})).Ca="default",J_.Cache="cache";class VE{constructor(e,n,s){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const s=n!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e){this.key=e}}class LE{constructor(e){this.key=e}}class H4{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=je(),this.mutatedKeys=je(),this.Ha=Zb(e),this.Ja=new uo(this.Ha)}get Ya(){return this.Ga}Za(e,n){const s=n?n.Xa:new X_,o=n?n.Ja:this.Ja;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,p=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,S)=>{const x=o.get(v),O=Kh(this.query,S)?S:null,M=!!x&&this.mutatedKeys.has(x.key),F=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let L=!1;x&&O?x.data.isEqual(O.data)?M!==F&&(s.track({type:3,doc:O}),L=!0):this.eu(x,O)||(s.track({type:2,doc:O}),L=!0,(m&&this.Ha(O,m)>0||g&&this.Ha(O,g)<0)&&(p=!0)):!x&&O?(s.track({type:0,doc:O}),L=!0):x&&!O&&(s.track({type:1,doc:x}),L=!0,(m||g)&&(p=!0)),L&&(O?(d=d.add(O),u=F?u.add(v):u.delete(v)):(d=d.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const v=this.query.limitType==="F"?d.last():d.first();d=d.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{Ja:d,Xa:s,Cs:p,mutatedKeys:u}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const d=e.Xa.ga();d.sort((v,S)=>function(O,M){const F=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:L})}};return F(O)-F(M)}(v.type,S.type)||this.Ha(v.doc,S.doc)),this.tu(s),o=o!=null&&o;const p=n&&!o?this.nu():[],m=this.ja.size===0&&this.current&&!o?1:0,g=m!==this.za;return this.za=m,d.length!==0||g?{snapshot:new _o(this.query,e.Ja,u,d,e.mutatedKeys,m===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:p}:{ru:p}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new X_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=je(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const n=[];return e.forEach(s=>{this.ja.has(s)||n.push(new LE(s))}),this.ja.forEach(s=>{e.has(s)||n.push(new PE(s))}),n}su(e){this.Ga=e.$s,this.ja=je();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return _o.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Xm="SyncEngine";class F4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class G4{constructor(e){this.key=e,this._u=!1}}class Y4{constructor(e,n,s,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.au={},this.uu=new la(p=>Xb(p),Wh),this.cu=new Map,this.lu=new Set,this.hu=new gt(_e.comparator),this.Pu=new Map,this.Tu=new zm,this.Iu={},this.Eu=new Map,this.du=vo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function W4(r,e,n=!0){const s=HE(r);let o;const u=s.uu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.ou()):o=await UE(s,e,n,!0),o}async function K4(r,e){const n=HE(r);await UE(n,e,!0,!1)}async function UE(r,e,n,s){const o=await p4(r.localStore,ki(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await Q4(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&RE(r.remoteStore,o),p}async function Q4(r,e,n,s,o){r.Ru=(S,x,O)=>async function(F,L,W,J){let ae=L.view.Za(W);ae.Cs&&(ae=await G_(F.localStore,L.query,!1).then(({documents:k})=>L.view.Za(k,ae)));const pe=J&&J.targetChanges.get(L.targetId),he=J&&J.targetMismatches.get(L.targetId)!=null,Te=L.view.applyChanges(ae,F.isPrimaryClient,pe,he);return t1(F,L.targetId,Te.ru),Te.snapshot}(r,S,x,O);const u=await G_(r.localStore,e,!0),d=new H4(e,u.$s),p=d.Za(u.documents),m=Au.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=d.applyChanges(p,r.isPrimaryClient,m);t1(r,n,g.ru);const v=new F4(e,n,d);return r.uu.set(e,v),r.cu.has(n)?r.cu.get(n).push(e):r.cu.set(n,[e]),g.snapshot}async function $4(r,e,n){const s=De(r),o=s.uu.get(e),u=s.cu.get(o.targetId);if(u.length>1)return s.cu.set(o.targetId,u.filter(d=>!Wh(d,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Zp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Fm(s.remoteStore,o.targetId),tm(s,o.targetId)}).catch(Io)):(tm(s,o.targetId),await Zp(s.localStore,o.targetId,!0))}async function X4(r,e){const n=De(r),s=n.uu.get(e),o=n.cu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fm(n.remoteStore,s.targetId))}async function Z4(r,e,n){const s=sD(r);try{const o=await function(d,p){const m=De(d),g=Vt.now(),v=p.reduce((O,M)=>O.add(M.key),je());let S,x;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>{let M=vr(),F=je();return m.Bs.getEntries(O,v).next(L=>{M=L,M.forEach((W,J)=>{J.isValidDocument()||(F=F.add(W))})}).next(()=>m.localDocuments.getOverlayedDocuments(O,M)).next(L=>{S=L;const W=[];for(const J of p){const ae=pC(J,S.get(J.key).overlayedDocument);ae!=null&&W.push(new _s(J.key,ae,Hb(ae.value.mapValue),ei.exists(!0)))}return m.mutationQueue.addMutationBatch(O,g,W,p)}).next(L=>{x=L;const W=L.applyToLocalDocumentSet(S,F);return m.documentOverlayCache.saveOverlays(O,L.batchId,W)})}).then(()=>({batchId:x.batchId,changes:eE(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,p,m){let g=d.Iu[d.currentUser.toKey()];g||(g=new gt(ke)),g=g.insert(p,m),d.Iu[d.currentUser.toKey()]=g}(s,o.batchId,n),await Ru(s,o.changes),await ed(s.remoteStore)}catch(o){const u=Qm(o,"Failed to persist write");n.reject(u)}}async function jE(r,e){const n=De(r);try{const s=await h4(n.localStore,e);e.targetChanges.forEach((o,u)=>{const d=n.Pu.get(u);d&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d._u=!0:o.modifiedDocuments.size>0?Je(d._u,14607):o.removedDocuments.size>0&&(Je(d._u,42227),d._u=!1))}),await Ru(n,s,e)}catch(s){await Io(s)}}function e1(r,e,n){const s=De(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.uu.forEach((u,d)=>{const p=d.view.Da(e);p.snapshot&&o.push(p.snapshot)}),function(d,p){const m=De(d);m.onlineState=p;let g=!1;m.queries.forEach((v,S)=>{for(const x of S.ya)x.Da(p)&&(g=!0)}),g&&$m(m)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function J4(r,e,n){const s=De(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Pu.get(e),u=o&&o.key;if(u){let d=new gt(_e.comparator);d=d.insert(u,ln.newNoDocument(u,Ce.min()));const p=je().add(u),m=new Xh(Ce.min(),new Map,new gt(ke),d,p);await jE(s,m),s.hu=s.hu.remove(u),s.Pu.delete(e),Zm(s)}else await Zp(s.localStore,e,!1).then(()=>tm(s,e,n)).catch(Io)}async function eD(r,e){const n=De(r),s=e.batch.batchId;try{const o=await c4(n.localStore,e);BE(n,s,null),zE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ru(n,o)}catch(o){await Io(o)}}async function tD(r,e,n){const s=De(r);try{const o=await function(d,p){const m=De(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return m.mutationQueue.lookupMutationBatch(g,p).next(S=>(Je(S!==null,37113),v=S.keys(),m.mutationQueue.removeMutationBatch(g,S))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,v,p)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>m.localDocuments.getDocuments(g,v))})}(s.localStore,e);BE(s,e,n),zE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ru(s,o)}catch(o){await Io(o)}}function zE(r,e){(r.Eu.get(e)||[]).forEach(n=>{n.resolve()}),r.Eu.delete(e)}function BE(r,e,n){const s=De(r);let o=s.Iu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function tm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.cu.get(e))r.uu.delete(s),n&&r.au.Vu(s,n);r.cu.delete(e),r.isPrimaryClient&&r.Tu.Hr(e).forEach(s=>{r.Tu.containsKey(s)||qE(r,s)})}function qE(r,e){r.lu.delete(e.path.canonicalString());const n=r.hu.get(e);n!==null&&(Fm(r.remoteStore,n),r.hu=r.hu.remove(e),r.Pu.delete(n),Zm(r))}function t1(r,e,n){for(const s of n)s instanceof PE?(r.Tu.addReference(s.key,e),nD(r,s)):s instanceof LE?(fe(Xm,"Document no longer in limbo: "+s.key),r.Tu.removeReference(s.key,e),r.Tu.containsKey(s.key)||qE(r,s.key)):we(19791,{mu:s})}function nD(r,e){const n=e.key,s=n.path.canonicalString();r.hu.get(n)||r.lu.has(s)||(fe(Xm,"New document in limbo: "+n),r.lu.add(s),Zm(r))}function Zm(r){for(;r.lu.size>0&&r.hu.size<r.maxConcurrentLimboResolutions;){const e=r.lu.values().next().value;r.lu.delete(e);const n=new _e(lt.fromString(e)),s=r.du.next();r.Pu.set(s,new G4(n)),r.hu=r.hu.insert(n,s),RE(r.remoteStore,new is(ki(km(n.path)),s,"TargetPurposeLimboResolution",Fh.le))}}async function Ru(r,e,n){const s=De(r),o=[],u=[],d=[];s.uu.isEmpty()||(s.uu.forEach((p,m)=>{d.push(s.Ru(m,e,n).then(g=>{var v;if((g||n)&&s.isPrimaryClient){const S=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(m.targetId,S?"current":"not-current")}if(g){o.push(g);const S=qm.Rs(m.targetId,g);u.push(S)}}))}),await Promise.all(d),s.au.j_(o),await async function(m,g){const v=De(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ne.forEach(g,x=>ne.forEach(x.ds,O=>v.persistence.referenceDelegate.addReference(S,x.targetId,O)).next(()=>ne.forEach(x.As,O=>v.persistence.referenceDelegate.removeReference(S,x.targetId,O)))))}catch(S){if(!Co(S))throw S;fe(Hm,"Failed to update sequence numbers: "+S)}for(const S of g){const x=S.targetId;if(!S.fromCache){const O=v.xs.get(x),M=O.snapshotVersion,F=O.withLastLimboFreeSnapshotVersion(M);v.xs=v.xs.insert(x,F)}}}(s.localStore,u))}async function iD(r,e){const n=De(r);if(!n.currentUser.isEqual(e)){fe(Xm,"User change. New user:",e.toKey());const s=await xE(n.localStore,e);n.currentUser=e,function(u,d){u.Eu.forEach(p=>{p.forEach(m=>{m.reject(new me(ie.CANCELLED,d))})}),u.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ru(n,s.ks)}}function rD(r,e){const n=De(r),s=n.Pu.get(e);if(s&&s._u)return je().add(s.key);{let o=je();const u=n.cu.get(e);if(!u)return o;for(const d of u){const p=n.uu.get(d);o=o.unionWith(p.view.Ya)}return o}}function HE(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J4.bind(null,e),e.au.j_=B4.bind(null,e.eventManager),e.au.Vu=q4.bind(null,e.eventManager),e}function sD(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tD.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return u4(this.persistence,new a4,e.initialUser,this.serializer)}yu(e){return new TE(Bm.fi,this.serializer)}pu(e){return new g4}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class aD extends Vh{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Je(this.persistence.referenceDelegate instanceof Mh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new GC(s,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new TE(s=>Mh.fi(s,n),this.serializer)}}class nm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>e1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=iD.bind(null,this.syncEngine),await U4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z4}()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),s=function(u){return new E4(u)}(e.databaseInfo);return function(u,d,p,m){return new A4(u,d,p,m)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,d,p){return new R4(s,o,u,d,p)}(this.localStore,this.datastore,e.asyncQueue,n=>e1(this.syncEngine,n,0),function(){return K_.C()?new K_:new y4}())}createSyncEngine(e,n){return function(o,u,d,p,m,g,v){const S=new Y4(o,u,d,p,m,g);return v&&(S.Au=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=De(o);fe(aa,"RemoteStore shutting down."),u.Ta.add(5),await wu(u),u.Ea.shutdown(),u.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}nm.provider={build:()=>new nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class oD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=Mb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async d=>{fe(ms,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(fe(ms,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Qm(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Rp(r,e){r.asyncQueue.verifyOperationInProgress(),fe(ms,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await xE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function n1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await lD(r);fe(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>$_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>$_(e.remoteStore,o)),r._onlineComponents=e}async function lD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(ms,"Using user provided OfflineComponentProvider");try{await Rp(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await Rp(r,new Vh)}}else fe(ms,"Using default OfflineComponentProvider"),await Rp(r,new aD(void 0));return r._offlineComponents}async function GE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(ms,"Using user provided OnlineComponentProvider"),await n1(r,r._uninitializedComponentsProvider._online)):(fe(ms,"Using default OnlineComponentProvider"),await n1(r,new nm))),r._onlineComponents}function uD(r){return GE(r).then(e=>e.syncEngine)}async function YE(r){const e=await GE(r),n=e.eventManager;return n.onListen=W4.bind(null,e.syncEngine),n.onUnlisten=$4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=K4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X4.bind(null,e.syncEngine),n}function cD(r,e,n={}){const s=new fr;return r.asyncQueue.enqueueAndForget(async()=>function(u,d,p,m,g){const v=new FE({next:x=>{v.Cu(),d.enqueueAndForget(()=>kE(u,S));const O=x.docs.has(p);!O&&x.fromCache?g.reject(new me(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&x.fromCache&&m&&m.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),S=new VE(km(p.path),v,{includeMetadataChanges:!0,La:!0});return ME(u,S)}(await YE(r),r.asyncQueue,e,n,s)),s.promise}function hD(r,e,n={}){const s=new fr;return r.asyncQueue.enqueueAndForget(async()=>function(u,d,p,m,g){const v=new FE({next:x=>{v.Cu(),d.enqueueAndForget(()=>kE(u,S)),x.fromCache&&m.source==="server"?g.reject(new me(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),S=new VE(p,v,{includeMetadataChanges:!0,La:!0});return ME(u,S)}(await YE(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r,e,n){if(!n)throw new me(ie.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function dD(r,e,n,s){if(e===!0&&s===!0)throw new me(ie.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function r1(r){if(!_e.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function s1(r){if(_e.isDocumentKey(r))throw new me(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function td(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we(12329,{type:typeof r})}function fi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=td(r);throw new me(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firestore.googleapis.com",a1=!0;class o1{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QE,this.ssl=a1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:a1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<HC)throw new me(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new EI;switch(s.type){case"firstParty":return new AI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=i1.get(n);s&&(fe("ComponentProvider","Removing Datastore"),i1.delete(n),s.terminate())}(this),Promise.resolve()}}function fD(r,e,n,s={}){var o;r=fi(r,nd);const u=gu(e),d=r._getSettings(),p=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u&&(P1(`https://${m}`),L1("Firestore",!0)),d.host!==QE&&d.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},d),{host:m,ssl:u,emulatorOptions:s});if(!us(g,p)&&(r._setSettings(g),s.mockUserToken)){let v,S;if(typeof s.mockUserToken=="string")v=s.mockUserToken,S=an.MOCK_USER;else{v=N2(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new me(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new an(x)}r._authCredentials=new TI(new Nb(v,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class mn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}}class ls extends No{constructor(e,n,s){super(e,n,km(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new _e(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function pn(r,e,...n){if(r=Ft(r),KE("collection","path",e),r instanceof nd){const s=lt.fromString(e,...n);return s1(s),new ls(r,null,s)}{if(!(r instanceof mn||r instanceof ls))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(lt.fromString(e,...n));return s1(s),new ls(r.firestore,null,s)}}function ze(r,e,...n){if(r=Ft(r),arguments.length===1&&(e=Mb.newId()),KE("doc","path",e),r instanceof nd){const s=lt.fromString(e,...n);return r1(s),new mn(r,null,new _e(s))}{if(!(r instanceof mn||r instanceof ls))throw new me(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(lt.fromString(e,...n));return r1(s),new mn(r.firestore,r instanceof ls?r.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="AsyncQueue";class u1{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new AE(this,"async_queue_retry"),this.ec=()=>{const s=wp();s&&fe(l1,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const n=wp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=wp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new fr;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Co(e))throw e;fe(l1,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,yr("INTERNAL UNHANDLED ERROR: ",c1(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=n,n}enqueueAfterDelay(e,n,s){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const o=Km.createAndSchedule(this,e,n,s,u=>this.oc(u));return this.Hu.push(o),o}nc(){this.Ju&&we(47125,{_c:c1(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function c1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ca extends nd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new u1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new u1(e),this._firestoreClient=void 0,await e}}}function pD(r,e){const n=typeof r=="object"?r:B1(),s=typeof r=="string"?r:Rh,o=vm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=C2("firestore");u&&fD(o,...u)}return o}function Jm(r){if(r._terminated)throw new me(ie.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||mD(r),r._firestoreClient}function mD(r){var e,n,s;const o=r._freezeSettings(),u=function(p,m,g,v){return new zI(p,m,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,WE(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new oD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(p){const m=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(Zt.fromBase64String(e))}catch(n){throw new me(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bo(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=/^__.*__$/;class yD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,n,this.fieldTransforms):new Su(e,this.data,n,this.fieldTransforms)}}class $E{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new _s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{hc:r})}}class rd{constructor(e,n,s,o,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Pc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new rd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Ph(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(XE(this.hc)&&gD.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class vD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Zh(e)}gc(e,n,s,o=!1){return new rd({hc:e,methodName:n,fc:s,path:Xt.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sd(r){const e=r._freezeSettings(),n=Zh(r._databaseId);return new vD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function ZE(r,e,n,s,o,u={}){const d=r.gc(u.merge||u.mergeFields?2:0,e,n,o);rg("Data must be an object, but it was:",d,s);const p=JE(s,d);let m,g;if(u.merge)m=new kn(d.fieldMask),g=d.fieldTransforms;else if(u.mergeFields){const v=[];for(const S of u.mergeFields){const x=im(e,S,n);if(!d.contains(x))throw new me(ie.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);tT(v,x)||v.push(x)}m=new kn(v),g=d.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,g=d.fieldTransforms;return new yD(new En(p),m,g)}class ad extends Iu{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ad}}function _D(r,e,n){return new rd({hc:3,fc:e.settings.fc,methodName:r._methodName,Ec:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ng extends Iu{constructor(e,n){super(e),this.yc=n}_toFieldTransform(e){const n=_D(this,e,!0),s=this.yc.map(u=>Oo(u,n)),o=new yo(s);return new lE(e.path,o)}isEqual(e){return e instanceof ng&&us(this.yc,e.yc)}}class ig extends Iu{constructor(e,n){super(e),this.wc=n}_toFieldTransform(e){const n=new du(e.serializer,iE(e.serializer,this.wc));return new lE(e.path,n)}isEqual(e){return e instanceof ig&&this.wc===e.wc}}function bD(r,e,n,s){const o=r.gc(1,e,n);rg("Data must be an object, but it was:",o,s);const u=[],d=En.empty();vs(s,(m,g)=>{const v=sg(e,m,n);g=Ft(g);const S=o.Ac(v);if(g instanceof ad)u.push(v);else{const x=Oo(g,S);x!=null&&(u.push(v),d.set(v,x))}});const p=new kn(u);return new $E(d,p,o.fieldTransforms)}function ED(r,e,n,s,o,u){const d=r.gc(1,e,n),p=[im(e,s,n)],m=[o];if(u.length%2!=0)throw new me(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)p.push(im(e,u[x])),m.push(u[x+1]);const g=[],v=En.empty();for(let x=p.length-1;x>=0;--x)if(!tT(g,p[x])){const O=p[x];let M=m[x];M=Ft(M);const F=d.Ac(O);if(M instanceof ad)g.push(O);else{const L=Oo(M,F);L!=null&&(g.push(O),v.set(O,L))}}const S=new kn(g);return new $E(v,S,d.fieldTransforms)}function TD(r,e,n,s=!1){return Oo(n,r.gc(s?4:3,e))}function Oo(r,e){if(eT(r=Ft(r)))return rg("Unsupported field value:",e,r),JE(r,e);if(r instanceof Iu)return function(s,o){if(!XE(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const u=[];let d=0;for(const p of s){let m=Oo(p,o.Rc(d));m==null&&(m={nullValue:"NULL_VALUE"}),u.push(m),d++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Ft(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return iE(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Vt.fromDate(s);return{timestampValue:Oh(o.serializer,u)}}if(s instanceof Vt){const u=new Vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Oh(o.serializer,u)}}if(s instanceof eg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof bo)return{bytesValue:pE(o.serializer,s._byteString)};if(s instanceof mn){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.Vc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof tg)return function(d,p){return{mapValue:{fields:{[Bb]:{stringValue:qb},[Ih]:{arrayValue:{values:d.toArray().map(g=>{if(typeof g!="number")throw p.Vc("VectorValues must only contain numeric values.");return Vm(p.serializer,g)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${td(s)}`)}(r,e)}function JE(r,e){const n={};return Vb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(r,(s,o)=>{const u=Oo(o,e.Ic(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function eT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Vt||r instanceof eg||r instanceof bo||r instanceof mn||r instanceof Iu||r instanceof tg)}function rg(r,e,n){if(!eT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=td(n);throw s==="an object"?e.Vc(r+" a custom object"):e.Vc(r+" "+s)}}function im(r,e,n){if((e=Ft(e))instanceof id)return e._internalPath;if(typeof e=="string")return sg(r,e);throw Ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const xD=new RegExp("[~\\*/\\[\\]]");function sg(r,e,n){if(e.search(xD)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new id(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ph(r,e,n,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let m="";return(u||d)&&(m+=" (found",u&&(m+=` in field ${s}`),d&&(m+=` in document ${o}`),m+=")"),new me(ie.INVALID_ARGUMENT,p+r+m)}function tT(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ag("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SD extends nT{data(){return super.data()}}function ag(r,e){return typeof e=="string"?sg(r,e):e instanceof id?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{}class wD extends og{}function Zn(r,e,...n){let s=[];e instanceof og&&s.push(e),s=s.concat(n),function(u){const d=u.filter(m=>m instanceof lg).length,p=u.filter(m=>m instanceof od).length;if(d>1||d>0&&p>0)throw new me(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class od extends wD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new od(e,n,s)}_apply(e){const n=this._parse(e);return iT(e._query,n),new No(e.firestore,e.converter,Yp(e._query,n))}_parse(e){const n=sd(e.firestore);return function(u,d,p,m,g,v,S){let x;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){d1(S,v);const M=[];for(const F of S)M.push(h1(m,u,F));x={arrayValue:{values:M}}}else x=h1(m,u,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||d1(S,v),x=TD(p,d,S,v==="in"||v==="not-in");return It.create(g,v,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Mn(r,e,n){const s=e,o=ag("where",r);return od._create(o,s,n)}class lg extends og{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:di.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let d=o;const p=u.getFlattenedFilters();for(const m of p)iT(d,m),d=Yp(d,m)}(e._query,n),new No(e.firestore,e.converter,Yp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function h1(r,e,n){if(typeof(n=Ft(n))=="string"){if(n==="")throw new me(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$b(e)&&n.indexOf("/")!==-1)throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(lt.fromString(n));if(!_e.isDocumentKey(s))throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return w_(r,new _e(s))}if(n instanceof mn)return w_(r,n._key);throw new me(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(n)}.`)}function d1(r,e){if(!Array.isArray(r)||r.length===0)throw new me(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iT(r,e){const n=function(o,u){for(const d of o)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RD{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return vs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Ih].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>Tt(d.doubleValue));return new tg(u)}convertGeoPoint(e){return new eg(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Yh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=hs(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=lt.fromString(e);Je(bE(s),9688,{name:e});const o=new uu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||yr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sT extends nT{constructor(e,n,s,o,u,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ag("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class mh extends sT{data(e={}){return super.data(e)}}class ID{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new mh(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>{const m=new mh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ql(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:m,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>u||p.type!==3).map(p=>{const m=new mh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ql(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return p.type!==0&&(g=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),v=d.indexOf(p.doc.key)),{type:CD(p.type),doc:m,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(r){r=fi(r,mn);const e=fi(r.firestore,ca);return cD(Jm(e),r._key).then(n=>DD(e,r,n))}class aT extends RD{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}function Jn(r){r=fi(r,No);const e=fi(r.firestore,ca),n=Jm(e),s=new aT(e);return AD(r._query),hD(n,r._query).then(o=>new ID(e,s,r,o))}function nu(r,e,n){r=fi(r,mn);const s=fi(r.firestore,ca),o=rT(r.converter,e);return ld(s,[ZE(sd(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ei.none())])}function on(r,e,n,...s){r=fi(r,mn);const o=fi(r.firestore,ca),u=sd(o);let d;return d=typeof(e=Ft(e))=="string"||e instanceof id?ED(u,"updateDoc",r._key,e,n,s):bD(u,"updateDoc",r._key,e),ld(o,[d.toMutation(r._key,ei.exists(!0))])}function oT(r){return ld(fi(r.firestore,ca),[new Pm(r._key,ei.none())])}function rm(r,e){const n=fi(r.firestore,ca),s=ze(r),o=rT(r.converter,e);return ld(n,[ZE(sd(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ei.exists(!1))]).then(()=>s)}function ld(r,e){return function(s,o){const u=new fr;return s.asyncQueue.enqueueAndForget(async()=>Z4(await uD(s),o,u)),u.promise}(Jm(r),e)}function DD(r,e,n){const s=n.docs.get(e._key),o=new aT(r);return new sT(r,o,e._key,s,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}function co(...r){return new ng("arrayRemove",r)}function ta(r){return new ig("increment",r)}(function(e,n=!0){(function(o){Ro=o})(Ao),ho(new na("firestore",(s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),p=new ca(new xI(s.getProvider("auth-internal")),new wI(d,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(g.options.projectId,v)}(d,o),d);return u=Object.assign({useFetchStreams:n},u),p._setSettings(u),p},"PUBLIC").setMultipleInstances(!0)),as(p_,m_,e),as(p_,m_,"esm2017")})();const ND={apiKey:void 0,authDomain:void 0,databaseURL:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},lT=z1(ND),Lh=yI(lT),Se=pD(lT),uT=j.createContext();function Mo(){return j.useContext(uT)}function OD({children:r}){const[e,n]=j.useState(null),[s,o]=j.useState(!0);j.useEffect(()=>sR(Lh,m=>{n(m),o(!1)}),[]);const d={currentUser:e,logout:()=>aR(Lh)};return E.jsx(uT.Provider,{value:d,children:!s&&r})}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kD=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),f1=r=>{const e=kD(r);return e.charAt(0).toUpperCase()+e.slice(1)},cT=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),VD=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=j.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:d,...p},m)=>j.createElement("svg",{ref:m,...PD,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:cT("lucide",o),...!u&&!VD(p)&&{"aria-hidden":"true"},...p},[...d.map(([g,v])=>j.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=(r,e)=>{const n=j.forwardRef(({className:s,...o},u)=>j.createElement(LD,{ref:u,iconNode:e,className:cT(`lucide-${MD(f1(r))}`,`lucide-${r}`,s),...o}));return n.displayName=f1(r),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jD=Jt("arrow-left",UD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],ug=Jt("bike",zD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],qD=Jt("camera",BD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hT=Jt("check",HD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Eo=Jt("circle-alert",FD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ns=Jt("crown",GD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sm=Jt("lock",YD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ud=Jt("mail",WD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],QD=Jt("settings",KD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Xr=Jt("shield",$D);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ZD=Jt("trash-2",XD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],e3=Jt("trending-up",JD);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],n3=Jt("upload",t3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],am=Jt("user-plus",i3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],s3=Jt("user",r3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gh=Jt("users",a3);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],om=Jt("x",o3),l3=()=>{const[r,e]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(""),[d,p]=j.useState(!1),m=pu(),g=async v=>{if(v.preventDefault(),!r||!n){u("Please fill in all fields");return}p(!0),u("");try{await nR(Lh,r,n),m("/dashboard")}catch{u("Failed to sign in. Please check your credentials.")}p(!1)};return E.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0c1e34 0%, #033c59 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",padding:"40px",width:"100%",maxWidth:"400px",border:"1px solid #005479"},children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[E.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"16px"},children:E.jsx(ug,{style:{height:"48px",width:"48px",color:"#ffc020"}})}),E.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#ffc020",margin:"0 0 8px 0"},children:"B2W-MKE"}),E.jsx("p",{style:{color:"#b4bdc2",margin:0,fontSize:"16px"},children:"Bike to Work Milwaukee - Track miles, build teams, ride together"})]}),E.jsxs("form",{onSubmit:g,style:{marginBottom:"24px"},children:[o&&E.jsxs("div",{style:{background:"#0c1e34",color:"#ffc020",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",display:"flex",alignItems:"center",border:"1px solid #005479"},children:[E.jsx(Eo,{style:{height:"16px",width:"16px",marginRight:"8px"}}),E.jsx("span",{children:o})]}),E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Email Address"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(ud,{style:{position:"absolute",left:"12px",top:"16px",height:"20px",width:"20px",color:"#b4bdc2"}}),E.jsx("input",{type:"email",value:r,onChange:v=>e(v.target.value),placeholder:"Enter your email",required:!0,style:{width:"100%",paddingLeft:"44px",paddingRight:"16px",paddingTop:"16px",paddingBottom:"16px",border:"2px solid #005479",borderRadius:"12px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",outline:"none",transition:"all 0.3s ease",boxSizing:"border-box"},onFocus:v=>{v.target.style.borderColor="#f5a302",v.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)"},onBlur:v=>{v.target.style.borderColor="#005479",v.target.style.boxShadow="none"}})]})]}),E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Password"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(sm,{style:{position:"absolute",left:"12px",top:"16px",height:"20px",width:"20px",color:"#b4bdc2"}}),E.jsx("input",{type:"password",value:n,onChange:v=>s(v.target.value),placeholder:"Enter your password",required:!0,style:{width:"100%",paddingLeft:"44px",paddingRight:"16px",paddingTop:"16px",paddingBottom:"16px",border:"2px solid #005479",borderRadius:"12px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",outline:"none",transition:"all 0.3s ease",boxSizing:"border-box"},onFocus:v=>{v.target.style.borderColor="#f5a302",v.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)"},onBlur:v=>{v.target.style.borderColor="#005479",v.target.style.boxShadow="none"}})]})]}),E.jsx("button",{type:"submit",disabled:d,style:{width:"100%",background:d?"#005479":"linear-gradient(135deg, #f5a302, #ffc020)",color:d?"#b4bdc2":"#0c1e34",padding:"16px",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"700",cursor:d?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:d?"none":"0 4px 12px rgba(245, 163, 2, 0.3)",outline:"none"},onMouseEnter:v=>{d||(v.target.style.transform="translateY(-2px)",v.target.style.boxShadow="0 6px 20px rgba(245, 163, 2, 0.4)")},onMouseLeave:v=>{d||(v.target.style.transform="translateY(0)",v.target.style.boxShadow="0 4px 12px rgba(245, 163, 2, 0.3)")},children:d?"Signing In...":"Sign In"})]}),E.jsx("div",{style:{textAlign:"center"},children:E.jsxs("p",{style:{fontSize:"14px",color:"#b4bdc2",margin:"0 0 8px 0"},children:["Received and invite to B2W-MKE?"," ",E.jsx("button",{onClick:()=>m("/register"),style:{background:"none",border:"none",color:"#ffc020",textDecoration:"underline",cursor:"pointer",fontSize:"14px",fontWeight:"600",padding:0,outline:"none"},onMouseEnter:v=>{v.target.style.color="#f5a302"},onMouseLeave:v=>{v.target.style.color="#ffc020"},children:"Register your account"})]})})]})})},u3=()=>{const[r]=m2(),[e,n]=j.useState({email:r.get("email")||"",password:"",confirmPassword:"",userName:""}),[s,o]=j.useState(r.get("team")||""),[u,d]=j.useState(r.get("admin")==="true"),[p,m]=j.useState(r.get("appadmin")==="true"),[g,v]=j.useState(""),[S,x]=j.useState(!1),[O,M]=j.useState(!1),[F,L]=j.useState(null),W=pu(),J=C=>{n(P=>({...P,[C.target.name]:C.target.value})),C.target.name==="userName"&&L(null)},ae=async C=>{if(!C||C.length<3){L(null);return}M(!0);try{const P=Zn(pn(Se,"users"),Mn("userName","==",C)),R=await Jn(P);L(R.empty)}catch(P){console.error("Error checking username:",P),L(null)}M(!1)},pe=()=>{e.userName.trim()&&ae(e.userName.trim())},he=async C=>{if(!(!C||!C.includes("@")))try{const P=await ci(ze(Se,"invitations",C));if(!P.exists())return v("This email has not been invited to join a team. Please contact a team administrator."),!1;const R=P.data(),Ke=new Date,Qe=R.expiresAt.toDate?R.expiresAt.toDate():new Date(R.expiresAt);return Ke>Qe?(v("This invitation has expired. Please request a new invitation."),!1):R.used?(v("This invitation has already been used."),!1):(v(""),!0)}catch(P){return console.error("Error checking email invitation:",P),v("Error validating invitation. Please try again."),!1}},Te=()=>{e.email.trim()&&he(e.email.trim())},k=()=>e.email.trim()?e.userName.trim()?e.userName.length<3?(v("Username must be at least 3 characters"),!1):F===!1?(v("This username is already taken"),!1):e.password?e.password!==e.confirmPassword?(v("Passwords do not match"),!1):e.password.length<6?(v("Password must be at least 6 characters"),!1):!0:(v("Password is required"),!1):(v("Username is required"),!1):(v("Email is required"),!1),w=async C=>{if(C.preventDefault(),!!k()){x(!0),v("");try{const P=await ci(ze(Se,"invitations",e.email));if(!P.exists()){v("This email has not been invited to join a team. Please contact a team administrator."),x(!1);return}const R=P.data(),Ke=new Date,Qe=R.expiresAt.toDate?R.expiresAt.toDate():new Date(R.expiresAt);if(Ke>Qe){v("This invitation has expired. Please request a new invitation."),x(!1);return}if(R.used){v("This invitation has already been used."),x(!1);return}if(await ae(e.userName.trim()),F===!1){v("This username is already taken. Please choose another."),x(!1);return}let Q=null;if(R.teamId){const $=await ci(ze(Se,"teams",R.teamId));if(!$.exists()){v("The team for this invitation no longer exists. Please contact support."),x(!1);return}Q=$.data()}const ce=(await tR(Lh,e.email,e.password)).user;if(R.isAppAdminInvite||R.role==="admin"){const $={name:"System Administrators",description:"Application administrators team",adminIds:[ce.uid],memberIds:[ce.uid],memberCount:1,totalMiles:0,totalRides:0,createdAt:new Date().toISOString(),createdBy:ce.uid,isActive:!0,weeklyMiles:0,monthlyMiles:0,lastUpdated:new Date().toISOString()},D=await rm(pn(Se,"teams"),$);await nu(ze(Se,"users",ce.uid),{userId:ce.uid,userName:e.userName.trim(),email:e.email,role:"admin",teamId:D.id,teamName:"System Administrators",createdAt:new Date().toISOString(),totalMiles:0,joinedTeamAt:new Date().toISOString()})}else if(R.isTeamAdminInvite||R.role==="team_admin"){const $={name:`${e.userName}'s Team`,description:"A new cycling team",adminIds:[ce.uid],memberIds:[ce.uid],memberCount:1,totalMiles:0,totalRides:0,createdAt:new Date().toISOString(),createdBy:ce.uid,isActive:!0,weeklyMiles:0,monthlyMiles:0,lastUpdated:new Date().toISOString()},D=await rm(pn(Se,"teams"),$);await nu(ze(Se,"users",ce.uid),{userId:ce.uid,userName:e.userName.trim(),email:e.email,role:"team_admin",teamId:D.id,teamName:`${e.userName}'s Team`,createdAt:new Date().toISOString(),totalMiles:0,joinedTeamAt:new Date().toISOString()})}else{if(!Q){v("Team information not found. Please contact support."),x(!1);return}await nu(ze(Se,"users",ce.uid),{userId:ce.uid,userName:e.userName.trim(),email:e.email,role:R.role||"user",teamId:R.teamId,teamName:Q.name,createdAt:new Date().toISOString(),totalMiles:0,joinedTeamAt:new Date().toISOString()});const $=[...Q.memberIds,ce.uid];await on(ze(Se,"teams",R.teamId),{memberIds:$,memberCount:$.length,lastUpdated:new Date().toISOString()})}await on(ze(Se,"invitations",e.email),{used:!0,usedAt:new Date().toISOString()}),W("/dashboard")}catch(P){console.error("Registration error:",P),console.error("Error code:",P.code),console.error("Error message:",P.message),P.code==="auth/email-already-in-use"?v("An account with this email already exists."):P.code==="auth/weak-password"?v("Password is too weak. Please choose a stronger password (min 6 characters)."):P.code==="auth/invalid-email"?v("Please enter a valid email address."):P.code==="auth/operation-not-allowed"?v("Email/password accounts are not enabled. Please contact support."):P.message.includes("invitation")?v(P.message):v(`Failed to create account: ${P.message}`)}x(!1)}},I={width:"100%",paddingLeft:"44px",paddingRight:"16px",paddingTop:"16px",paddingBottom:"16px",border:"2px solid #005479",borderRadius:"12px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",outline:"none",transition:"all 0.3s ease",boxSizing:"border-box"},V=()=>{let C="#005479";return O?C="#f5a302":F===!0?C="#22c55e":F===!1&&(C="#ef4444"),{...I,borderColor:C}};return E.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0c1e34 0%, #033c59 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.4)",padding:"40px",width:"100%",maxWidth:"450px",border:"1px solid #005479"},children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[E.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"16px"},children:E.jsx(ug,{style:{height:"48px",width:"48px",color:"#ffc020"}})}),E.jsx("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#ffc020",margin:"0 0 8px 0"},children:"Join B2W-MKE"}),s?E.jsxs("div",{children:[E.jsx("p",{style:{color:"#ffc020",margin:"0 0 4px 0",fontSize:"16px",fontWeight:"600"},children:"You've been invited to join:"}),E.jsx("p",{style:{color:"#f5a302",margin:"0 0 8px 0",fontSize:"18px",fontWeight:"700"},children:s}),E.jsx("p",{style:{color:"#b4bdc2",margin:0,fontSize:"14px"},children:"Complete your registration to start tracking miles"})]}):p?E.jsxs("div",{children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[E.jsx(Xr,{style:{color:"#ef4444"},size:20}),E.jsx("p",{style:{color:"#ef4444",margin:0,fontSize:"16px",fontWeight:"600"},children:"App Admin Invitation"})]}),E.jsx("p",{style:{color:"#b4bdc2",margin:0,fontSize:"14px",textAlign:"center"},children:"You'll have full system administration access"})]}):u?E.jsxs("div",{children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[E.jsx(ns,{style:{color:"#ffc020"},size:20}),E.jsx("p",{style:{color:"#ffc020",margin:0,fontSize:"16px",fontWeight:"600"},children:"Team Admin Invitation"})]}),E.jsx("p",{style:{color:"#b4bdc2",margin:0,fontSize:"14px",textAlign:"center"},children:"You'll be able to create and manage your own team"})]}):E.jsx("p",{style:{color:"#b4bdc2",margin:0,fontSize:"16px"},children:"Create your account with your team invitation"})]}),E.jsxs("form",{onSubmit:w,style:{marginBottom:"24px"},children:[g&&E.jsxs("div",{style:{background:"#0c1e34",color:"#ffc020",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",display:"flex",alignItems:"center",border:"1px solid #005479"},children:[E.jsx(Eo,{style:{height:"16px",width:"16px",marginRight:"8px"}}),E.jsx("span",{children:g})]}),E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Email Address"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(ud,{style:{position:"absolute",left:"12px",top:"16px",height:"20px",width:"20px",color:"#b4bdc2"}}),E.jsx("input",{type:"email",name:"email",value:e.email,onChange:J,onBlur:Te,placeholder:"Enter your invited email",required:!0,style:I,onFocus:C=>{C.target.style.borderColor="#f5a302",C.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)"}})]}),E.jsx("p",{style:{fontSize:"12px",color:"#b4bdc2",margin:"4px 0 0 0",opacity:.8},children:"Use the email address that received the team invitation"})]}),E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Username"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(s3,{style:{position:"absolute",left:"12px",top:"16px",height:"20px",width:"20px",color:"#b4bdc2"}}),E.jsx("input",{type:"text",name:"userName",value:e.userName,onChange:J,onBlur:pe,placeholder:"Choose a display name",required:!0,style:V(),onFocus:C=>{!O&&F!==!1&&(C.target.style.borderColor="#f5a302",C.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)")}}),O&&E.jsx("div",{style:{position:"absolute",right:"12px",top:"18px",fontSize:"12px",color:"#f5a302"},children:"Checking..."}),F===!0&&E.jsx("div",{style:{position:"absolute",right:"12px",top:"18px",fontSize:"12px",color:"#22c55e",fontWeight:"600"},children:" Available"}),F===!1&&E.jsx("div",{style:{position:"absolute",right:"12px",top:"18px",fontSize:"12px",color:"#ef4444",fontWeight:"600"},children:" Taken"})]}),E.jsx("p",{style:{fontSize:"12px",color:"#b4bdc2",margin:"4px 0 0 0",opacity:.8},children:"This will be shown on leaderboards and team lists"})]}),E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Password"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(sm,{style:{position:"absolute",left:"12px",top:"16px",height:"20px",width:"20px",color:"#b4bdc2"}}),E.jsx("input",{type:"password",name:"password",value:e.password,onChange:J,placeholder:"Create a secure password",required:!0,style:I,onFocus:C=>{C.target.style.borderColor="#f5a302",C.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)"},onBlur:C=>{C.target.style.borderColor="#005479",C.target.style.boxShadow="none"}})]})]}),E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#ffc020",marginBottom:"8px"},children:"Confirm Password"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(sm,{style:{position:"absolute",left:"12px",top:"16px",height:"20px",width:"20px",color:"#b4bdc2"}}),E.jsx("input",{type:"password",name:"confirmPassword",value:e.confirmPassword,onChange:J,placeholder:"Confirm your password",required:!0,style:I,onFocus:C=>{C.target.style.borderColor="#f5a302",C.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)"},onBlur:C=>{C.target.style.borderColor="#005479",C.target.style.boxShadow="none"}})]})]}),E.jsx("button",{type:"submit",disabled:S||O||F===!1,style:{width:"100%",background:S||O||F===!1?"#005479":"linear-gradient(135deg, #f5a302, #ffc020)",color:S||O||F===!1?"#b4bdc2":"#0c1e34",padding:"16px",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"700",cursor:S||O||F===!1?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:S||O||F===!1?"none":"0 4px 12px rgba(245, 163, 2, 0.3)",outline:"none"},onMouseEnter:C=>{!S&&!O&&F!==!1&&(C.target.style.transform="translateY(-2px)",C.target.style.boxShadow="0 6px 20px rgba(245, 163, 2, 0.4)")},onMouseLeave:C=>{!S&&!O&&F!==!1&&(C.target.style.transform="translateY(0)",C.target.style.boxShadow="0 4px 12px rgba(245, 163, 2, 0.3)")},children:S?"Creating Account...":O?"Checking Username...":"Create Account"})]}),E.jsxs("div",{style:{textAlign:"center"},children:[E.jsxs("p",{style:{fontSize:"14px",color:"#b4bdc2",margin:"0 0 8px 0"},children:["Already have an account?"," ",E.jsx("button",{onClick:()=>W("/login"),style:{background:"none",border:"none",color:"#ffc020",textDecoration:"underline",cursor:"pointer",fontSize:"14px",fontWeight:"600",padding:0,outline:"none"},onMouseEnter:C=>{C.target.style.color="#f5a302"},onMouseLeave:C=>{C.target.style.color="#ffc020"},children:"Sign in"})]}),E.jsx("p",{style:{fontSize:"12px",color:"#b4bdc2",margin:0,opacity:.7},children:"Need an invitation? Contact your team administrator"})]})]})})};function c3(){const{currentUser:r}=Mo(),[e,n]=j.useState(""),[s,o]=j.useState(new Date().toISOString().split("T")[0]),[u,d]=j.useState(""),[p,m]=j.useState(!1),[g,v]=j.useState(!1),[S,x]=j.useState(null),[O,M]=j.useState(!0);j.useEffect(()=>{r&&(async()=>{try{const W=await ci(ze(Se,"users",r.uid));W.exists()&&x(W.data())}catch{}M(!1)})()},[r]);const F=async L=>{if(L.preventDefault(),!S){alert("Unable to log miles: User profile not loaded");return}m(!0),v(!1);try{const W=parseFloat(e);console.log("Attempting to log miles...",{userId:r.uid,userName:S.userName,userEmail:r.email,teamId:S.teamId,teamName:S.teamName,miles:W,date:s,notes:u});const J=await rm(pn(Se,"mileLogs"),{userId:r.uid,userName:S.userName,userEmail:r.email,teamId:S.teamId,teamName:S.teamName,miles:W,date:s,location:"",notes:u,createdAt:new Date});await on(ze(Se,"users",r.uid),{totalMiles:ta(W)}),S.teamId&&await on(ze(Se,"teams",S.teamId),{totalMiles:ta(W),totalRides:ta(1),lastUpdated:new Date().toISOString()}),console.log("Miles logged successfully!",J.id),n(""),d(""),v(!0),setTimeout(()=>v(!1),3e3)}catch(W){console.error("Error logging miles:",W),alert("Error logging miles: "+W.message)}m(!1)};return O?E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"600px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 24px 0",textAlign:"center"},children:"Log Your Miles"}),E.jsx("p",{style:{textAlign:"center",color:"#b4bdc2",fontSize:"16px"},children:"Loading your profile..."})]}):S?E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"600px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 8px 0",textAlign:"center"},children:"Log Your Miles"}),E.jsxs("div",{style:{background:"#0c1e34",padding:"16px",borderRadius:"12px",marginBottom:"24px",textAlign:"center",border:"1px solid #005479"},children:[E.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",marginBottom:"4px"},children:"Logging for team:"}),E.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#ffc020"},children:S.teamName}),E.jsxs("div",{style:{fontSize:"12px",color:"#b4bdc2",marginTop:"4px"},children:["as ",S.userName]})]}),g&&E.jsx("div",{style:{background:"#0c1e34",color:"#ffc020",padding:"16px",borderRadius:"12px",marginBottom:"24px",fontSize:"14px",fontWeight:"600",textAlign:"center",border:"1px solid #005479",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"},children:"Miles logged successfully! "}),E.jsxs("form",{onSubmit:F,children:[E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Miles Traveled *"}),E.jsx("input",{type:"number",step:"0.1",min:"0",value:e,onChange:L=>n(L.target.value),required:!0,placeholder:"Enter miles (e.g., 5.2)",style:{width:"100%",padding:"16px",border:"2px solid #005479",borderRadius:"12px",fontSize:"16px",background:"#0c1e34",color:"#b4bdc2",transition:"all 0.3s ease",fontWeight:"500",outline:"none",height:"52px",boxSizing:"border-box",appearance:"textfield",WebkitAppearance:"textfield",MozAppearance:"textfield"},onFocus:L=>{L.target.style.borderColor="#f5a302",L.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)"},onBlur:L=>{L.target.style.borderColor="#005479",L.target.style.boxShadow="none"}})]}),E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Date *"}),E.jsx("input",{type:"date",value:s,onChange:L=>o(L.target.value),required:!0,style:{width:"100%",padding:"16px",border:"2px solid #005479",borderRadius:"12px",fontSize:"16px",background:"#0c1e34",color:"#b4bdc2",transition:"all 0.3s ease",fontWeight:"500",outline:"none"},onFocus:L=>{L.target.style.borderColor="#f5a302",L.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)"},onBlur:L=>{L.target.style.borderColor="#005479",L.target.style.boxShadow="none"}})]}),E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Notes (Optional)"}),E.jsx("textarea",{value:u,onChange:L=>d(L.target.value),placeholder:"Where did you ride? How was the trip?",rows:"4",style:{width:"100%",padding:"16px",border:"2px solid #005479",borderRadius:"12px",fontSize:"16px",resize:"vertical",background:"#0c1e34",color:"#b4bdc2",transition:"all 0.3s ease",fontWeight:"500",fontFamily:"inherit",outline:"none"},onFocus:L=>{L.target.style.borderColor="#f5a302",L.target.style.boxShadow="0 0 0 3px rgba(245, 163, 2, 0.1)"},onBlur:L=>{L.target.style.borderColor="#005479",L.target.style.boxShadow="none"}})]}),E.jsx("button",{type:"submit",disabled:p,style:{width:"100%",background:p?"#005479":"linear-gradient(135deg, #f5a302, #ffc020)",color:p?"#b4bdc2":"#0c1e34",padding:"16px",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"700",cursor:p?"not-allowed":"pointer",transition:"all 0.3s ease",boxShadow:p?"none":"0 4px 12px rgba(245, 163, 2, 0.3)",transform:p?"none":"translateY(0)",outline:"none"},onMouseEnter:L=>{p||(L.target.style.transform="translateY(-2px)",L.target.style.boxShadow="0 6px 20px rgba(245, 163, 2, 0.4)")},onMouseLeave:L=>{p||(L.target.style.transform="translateY(0)",L.target.style.boxShadow="0 4px 12px rgba(245, 163, 2, 0.3)")},children:p?"Logging Miles...":"Log Miles"})]})]}):E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"600px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 24px 0",textAlign:"center"},children:"Log Your Miles"}),E.jsx("div",{style:{background:"#0c1e34",color:"#ffc020",padding:"16px",borderRadius:"12px",fontSize:"14px",fontWeight:"600",textAlign:"center",border:"1px solid #005479"},children:"Unable to load your profile. Please refresh the page or contact support."})]})}function h3(){const{currentUser:r}=Mo(),[e,n]=j.useState([]),[s,o]=j.useState(!0),[u,d]=j.useState(0);return j.useEffect(()=>{(async()=>{try{console.log("Fetching mile logs for user:",r.uid);const m=Zn(pn(Se,"mileLogs"),Mn("userId","==",r.uid)),g=await Jn(m);console.log("Query results:",g.size,"documents found");const v=[];let S=0;g.forEach(x=>{const O=x.data();console.log("Found log:",x.id,O),v.push({id:x.id,...O}),S+=O.miles}),v.sort((x,O)=>new Date(O.date)-new Date(x.date)),console.log("Total logs:",v.length,"Total miles:",S),n(v),d(S)}catch(m){console.error("Error fetching mile logs:",m),alert("Error loading rides: "+m.message)}o(!1)})()},[r.uid]),s?E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"900px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 16px 0",textAlign:"center"},children:"Your Mile History"}),E.jsx("p",{style:{textAlign:"center",color:"#b4bdc2",fontSize:"16px"},children:"Loading your rides..."})]}):E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"900px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 32px 0",textAlign:"center"},children:"Your Mile History"}),E.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",marginBottom:"32px",textAlign:"center",border:"1px solid #005479"},children:[E.jsxs("div",{style:{fontSize:"36px",fontWeight:"bold",color:"#ffc020"},children:[u.toFixed(1)," miles"]}),E.jsxs("div",{style:{color:"#b4bdc2",fontSize:"16px",fontWeight:"600",marginTop:"4px"},children:["Total miles logged  ",e.length," rides"]})]}),e.length===0?E.jsxs("div",{style:{textAlign:"center",color:"#b4bdc2",padding:"40px",background:"#0c1e34",borderRadius:"12px",border:"1px solid #005479"},children:[E.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),E.jsx("p",{style:{fontSize:"18px",fontWeight:"600",color:"#ffc020",margin:"0 0 8px 0"},children:"No rides logged yet!"}),E.jsx("p",{style:{margin:0,color:"#b4bdc2"},children:"Start by logging your first bike ride."})]}):E.jsx("div",{style:{display:"grid",gap:"16px"},children:e.map(p=>{var m,g,v;return E.jsxs("div",{style:{background:"#0c1e34",border:"1px solid #005479",borderRadius:"12px",padding:"20px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",transition:"all 0.3s ease"},onMouseEnter:S=>{S.target.style.transform="translateY(-2px)",S.target.style.boxShadow="0 6px 20px rgba(0, 0, 0, 0.3)",S.target.style.borderColor="#f5a302"},onMouseLeave:S=>{S.target.style.transform="translateY(0)",S.target.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.2)",S.target.style.borderColor="#005479"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[E.jsxs("div",{children:[E.jsxs("div",{style:{fontSize:"24px",fontWeight:"700",color:"#ffc020",display:"flex",alignItems:"center",gap:"8px"},children:[" ",p.miles," miles"]}),E.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"500",marginTop:"4px"},children:new Date(p.date+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),E.jsx("div",{style:{fontSize:"12px",color:"#b4bdc2",background:"rgba(180, 189, 194, 0.1)",padding:"4px 8px",borderRadius:"6px",fontWeight:"500",opacity:.7},children:((v=(g=(m=p.createdAt)==null?void 0:m.toDate)==null?void 0:g.call(m))==null?void 0:v.toLocaleDateString())||"Recently"})]}),p.notes&&E.jsxs("div",{style:{fontSize:"14px",color:"#b4bdc2",background:"rgba(255, 192, 32, 0.1)",padding:"12px",borderRadius:"8px",marginTop:"12px",border:"1px solid rgba(255, 192, 32, 0.2)",fontStyle:"italic"},children:['"',p.notes,'"']})]},p.id)})})]})}function dT({appAdminMode:r=!1,selectedTeam:e=null}){var Ct;const{currentUser:n}=Mo(),[s,o]=j.useState(null),[u,d]=j.useState(null),[p,m]=j.useState([]),[g,v]=j.useState([]),[S,x]=j.useState(!0),[O,M]=j.useState(""),[F,L]=j.useState(""),[W,J]=j.useState(!1),[ae,pe]=j.useState(""),[he,Te]=j.useState(""),[k,w]=j.useState(!1),[I,V]=j.useState(null),[C,P]=j.useState(null),[R,Ke]=j.useState(!1),[Qe,Q]=j.useState(!1),[oe,ce]=j.useState(""),[$,D]=j.useState("user"),[X,se]=j.useState(!1);j.useEffect(()=>{r&&e?re():ue()},[n,r,e]);const re=async()=>{try{x(!0);const de=await ci(ze(Se,"users",n.uid));if(!de.exists()){M("User profile not found");return}const Re=de.data();if(o(Re),Re.role!=="admin"){M("You do not have permission to manage teams");return}d(e),pe(e.name),Te(e.description),P(e.teamImage||null);const Ge=Zn(pn(Se,"users"),Mn("teamId","==",e.id)),Ne=await Jn(Ge),en=[];Ne.forEach(ni=>{en.push({id:ni.id,...ni.data()})}),m(en);const Lt=Zn(pn(Se,"invitations"),Mn("teamId","==",e.id),Mn("used","==",!1)),Pn=await Jn(Lt),Ln=[];Pn.forEach(ni=>{const Un=ni.data(),xn=new Date(Un.expiresAt);new Date<xn&&Ln.push({id:ni.id,...Un})}),v(Ln)}catch(de){console.error("Error fetching team data for admin:",de),M("Failed to load team data")}x(!1)},ue=async()=>{try{x(!0);const de=await ci(ze(Se,"users",n.uid));if(!de.exists()){M("User profile not found");return}const Re=de.data();if(o(Re),Re.role!=="team_admin"&&Re.role!=="admin"){M("You do not have permission to manage teams");return}const Ge=await ci(ze(Se,"teams",Re.teamId));if(!Ge.exists()){M("Team not found");return}const Ne=Ge.data();d({id:Re.teamId,...Ne}),pe(Ne.name),Te(Ne.description),P(Ne.teamImage||null);const en=Zn(pn(Se,"users"),Mn("teamId","==",Re.teamId)),Lt=await Jn(en),Pn=[];Lt.forEach(xn=>{Pn.push({id:xn.id,...xn.data()})}),m(Pn);const Ln=Zn(pn(Se,"invitations"),Mn("teamId","==",Re.teamId),Mn("used","==",!1)),ni=await Jn(Ln),Un=[];ni.forEach(xn=>{const Er=xn.data(),ct=new Date(Er.expiresAt);new Date<ct&&Un.push({id:xn.id,...Er})}),v(Un)}catch(de){console.error("Error fetching team data:",de),M("Failed to load team data")}x(!1)},be=async de=>{de.preventDefault(),w(!0),M(""),L("");try{const Re={name:ae,description:he,lastUpdated:new Date().toISOString()};if(I){Ke(!0);const Ne=await Tn(I);Re.teamImage=Ne,Ke(!1)}await on(ze(Se,"teams",u.id),Re);const Ge=p.map(Ne=>on(ze(Se,"users",Ne.id),{teamName:ae}));await Promise.all(Ge),d(Ne=>({...Ne,name:ae,description:he,teamImage:Re.teamImage||Ne.teamImage})),L("Team updated successfully!"),J(!1),V(null),setTimeout(()=>L(""),3e3)}catch(Re){console.error("Error updating team:",Re),M("Failed to update team")}w(!1)},ye=async de=>{de.preventDefault(),se(!0),M(""),L("");try{if((await ci(ze(Se,"invitations",oe))).exists()){M("This email has already been invited"),se(!1);return}const Ge=Zn(pn(Se,"users"),Mn("email","==",oe));if(!(await Jn(Ge)).empty){M("A user with this email already exists"),se(!1);return}const en={email:oe,role:$,teamId:u.id,teamName:u.name,invitedBy:n.uid,inviterUserName:s.userName,createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+30*24*60*60*1e3).toISOString(),used:!1,usedAt:null};await nu(ze(Se,"invitations",oe),en);const Lt=`${window.location.origin}/register?email=${encodeURIComponent(oe)}&team=${encodeURIComponent(u.name)}`;try{await navigator.clipboard.writeText(Lt),L(`Invitation created! Link copied to clipboard. Share this link: ${Lt}`)}catch{L(`Invitation created! Share this link: ${Lt}`)}Q(!1),ce(""),D("user"),setTimeout(()=>L(""),3e3),r&&e?re():ue()}catch(Re){console.error("Error sending invitation:",Re),M("Failed to send invitation")}se(!1)},ut=async(de,Re)=>{if(confirm(`Are you sure you want to remove ${Re} from the team?`))try{const Ge=p.find(Ne=>Ne.id===de);await on(ze(Se,"teams",u.id),{memberIds:co(de),adminIds:co(de),memberCount:ta(-1),totalMiles:ta(-(Ge.totalMiles||0)),lastUpdated:new Date().toISOString()}),await on(ze(Se,"users",de),{teamId:null,teamName:null,joinedTeamAt:null}),L(`${Re} has been removed from the team`),setTimeout(()=>L(""),3e3),r&&e?re():ue()}catch(Ge){console.error("Error removing member:",Ge),M("Failed to remove member")}},$e=async(de,Re,Ge,Ne)=>{const en=Ne==="team_admin"?"Team Admin":"Team Member";if(confirm(`Are you sure you want to make ${Re} a ${en}?`))try{await on(ze(Se,"users",de),{role:Ne}),Ne==="team_admin"?await on(ze(Se,"teams",u.id),{adminIds:[...u.adminIds||[],de],lastUpdated:new Date().toISOString()}):await on(ze(Se,"teams",u.id),{adminIds:co(de),lastUpdated:new Date().toISOString()}),L(`${Re} is now a ${en}`),setTimeout(()=>L(""),3e3),r&&e?re():ue()}catch(Lt){console.error("Error updating member role:",Lt),M("Failed to update member role")}},gn=async de=>{try{await oT(ze(Se,"invitations",de)),L("Invitation cancelled"),setTimeout(()=>L(""),3e3),r&&e?re():ue()}catch(Re){console.error("Error cancelling invitation:",Re),M("Failed to cancel invitation")}},Vn=de=>{const Re=de.target.files[0];if(Re){if(!Re.type.startsWith("image/")){M("Please select an image file");return}if(Re.size>2*1024*1024){M("Image must be smaller than 2MB");return}V(Re);const Ge=new FileReader;Ge.onload=Ne=>{P(Ne.target.result)},Ge.readAsDataURL(Re)}},Tn=de=>new Promise((Re,Ge)=>{const Ne=new FileReader;Ne.onload=()=>Re(Ne.result),Ne.onerror=Ge,Ne.readAsDataURL(de)}),pt=({size:de=48})=>E.jsx("div",{style:{width:de,height:de,borderRadius:"12px",background:"linear-gradient(135deg, #f5a302, #ffc020)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(245, 163, 2, 0.3)"},children:E.jsx(ug,{size:de*.6,color:"#0c1e34",strokeWidth:2})});return S?E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1000px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 16px 0",textAlign:"center"},children:"Team Management"}),E.jsx("p",{style:{textAlign:"center",color:"#b4bdc2",fontSize:"16px"},children:"Loading team data..."})]}):O&&!u?E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1000px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 16px 0",textAlign:"center"},children:"Team Management"}),E.jsxs("div",{style:{background:"#0c1e34",color:"#ffc020",padding:"16px",borderRadius:"12px",fontSize:"14px",fontWeight:"600",textAlign:"center",border:"1px solid #005479"},children:[E.jsx(Eo,{style:{height:"16px",width:"16px",marginRight:"8px",display:"inline"}}),O]})]}):E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1000px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[E.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:0},children:r?`Managing: ${u==null?void 0:u.name}`:"Team Management"}),E.jsxs("div",{style:{display:"flex",gap:"12px"},children:[r&&E.jsxs("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",padding:"8px 12px",borderRadius:"6px",fontSize:"12px",color:"#ef4444",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[E.jsx(Xr,{size:14}),"App Admin Mode"]}),E.jsxs("button",{onClick:()=>J(!0),style:{background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"10px 16px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[E.jsx(QD,{size:16}),"Edit Team"]}),E.jsxs("button",{onClick:()=>Q(!0),style:{background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"10px 16px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[E.jsx(am,{size:16}),"Invite Member"]})]})]}),F&&E.jsxs("div",{style:{background:"#0c1e34",color:"#ffc020",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",fontWeight:"600",border:"1px solid #005479",display:"flex",alignItems:"center"},children:[E.jsx(hT,{size:16,style:{marginRight:"8px"}}),F]}),O&&E.jsxs("div",{style:{background:"#0c1e34",color:"#ef4444",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",fontWeight:"600",border:"1px solid #005479",display:"flex",alignItems:"center"},children:[E.jsx(Eo,{size:16,style:{marginRight:"8px"}}),O]}),E.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",marginBottom:"32px",border:"1px solid #005479"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"16px"},children:[u.teamImage?E.jsx("img",{src:u.teamImage,alt:`${u.name} logo`,style:{width:"64px",height:"64px",borderRadius:"12px",objectFit:"cover",border:"2px solid #005479"}}):E.jsx(pt,{size:64}),E.jsxs("div",{style:{flex:1},children:[E.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"24px",color:"#ffc020",fontWeight:"600"},children:u.name}),E.jsx("p",{style:{margin:"0",fontSize:"16px",color:"#b4bdc2"},children:u.description})]})]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"16px"},children:[E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#ffc020"},children:u.memberCount}),E.jsx("div",{style:{fontSize:"12px",color:"#b4bdc2",fontWeight:"600"},children:"Members"})]}),E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#ffc020"},children:((Ct=u.totalMiles)==null?void 0:Ct.toFixed(1))||"0.0"}),E.jsx("div",{style:{fontSize:"12px",color:"#b4bdc2",fontWeight:"600"},children:"Total Miles"})]}),E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:"#ffc020"},children:u.totalRides||0}),E.jsx("div",{style:{fontSize:"12px",color:"#b4bdc2",fontWeight:"600"},children:"Total Rides"})]})]})]}),E.jsxs("div",{style:{marginBottom:"32px"},children:[E.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[E.jsx(gh,{size:20}),"Team Members (",p.length,")"]}),E.jsx("div",{style:{display:"grid",gap:"12px"},children:p.map(de=>{var en,Lt;const Re=de.id===n.uid,Ge=(en=u.adminIds)==null?void 0:en.includes(de.id),Ne=!Re;return E.jsx("div",{style:{background:"#0c1e34",border:"1px solid #005479",borderRadius:"12px",padding:"16px"},children:E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[E.jsxs("div",{style:{flex:1},children:[E.jsxs("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffc020",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[de.userName,Ge&&E.jsx(ns,{size:16,style:{color:"#f5a302"}}),Re&&E.jsx("span",{style:{fontSize:"12px",color:"#b4bdc2",background:"rgba(180, 189, 194, 0.1)",padding:"2px 6px",borderRadius:"4px"},children:"(You)"})]}),E.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",marginBottom:"4px"},children:de.email}),E.jsxs("div",{style:{fontSize:"12px",color:"#b4bdc2"},children:[((Lt=de.totalMiles)==null?void 0:Lt.toFixed(1))||"0.0"," miles  ",Ge?"Team Admin":"Team Member"]})]}),Ne&&E.jsxs("div",{style:{display:"flex",gap:"8px",flexDirection:"column",alignItems:"flex-end"},children:[E.jsxs("button",{onClick:()=>$e(de.id,de.userName,de.role,Ge?"user":"team_admin"),style:{background:Ge?"linear-gradient(135deg, #f5a302, #ffc020)":"linear-gradient(135deg, #22c55e, #16a34a)",color:"#0c1e34",padding:"6px 12px",border:"none",borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[E.jsx(ns,{size:12}),Ge?"Remove Admin":"Make Admin"]}),E.jsxs("button",{onClick:()=>ut(de.id,de.userName),style:{background:"#ef4444",color:"#ffffff",padding:"6px 12px",border:"none",borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",whiteSpace:"nowrap"},children:[E.jsx(ZD,{size:12}),"Remove"]})]})]})},de.id)})})]}),g.length>0&&E.jsxs("div",{children:[E.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[E.jsx(ud,{size:20}),"Pending Invitations (",g.length,")"]}),E.jsx("div",{style:{display:"grid",gap:"12px"},children:g.map(de=>{const Re=`${window.location.origin}/register?email=${encodeURIComponent(de.email)}&team=${encodeURIComponent(u.name)}`;return E.jsxs("div",{style:{background:"#0c1e34",border:"1px solid #005479",borderRadius:"12px",padding:"16px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffc020"},children:de.email}),E.jsxs("div",{style:{fontSize:"14px",color:"#b4bdc2"},children:["Role: ",de.role,"  Expires: ",new Date(de.expiresAt).toLocaleDateString()]})]}),E.jsxs("button",{onClick:()=>gn(de.email),style:{background:"#ef4444",color:"#ffffff",padding:"8px 12px",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[E.jsx(om,{size:14}),"Cancel"]})]}),E.jsxs("div",{style:{background:"rgba(255, 192, 32, 0.1)",border:"1px solid rgba(255, 192, 32, 0.2)",borderRadius:"8px",padding:"12px"},children:[E.jsxs("div",{style:{fontSize:"12px",color:"#ffc020",fontWeight:"600",marginBottom:"8px"},children:[" Invitation Link - Share this with ",de.email,":"]}),E.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[E.jsx("input",{type:"text",value:Re,readOnly:!0,style:{flex:1,padding:"8px",background:"#0c1e34",border:"1px solid #005479",borderRadius:"4px",color:"#b4bdc2",fontSize:"12px",fontFamily:"monospace"},onClick:Ge=>Ge.target.select()}),E.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(Re),L("Link copied to clipboard!"),setTimeout(()=>L(""),2e3)}catch(Ge){console.error("Failed to copy:",Ge)}},style:{background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"8px 12px",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"600",cursor:"pointer",whiteSpace:"nowrap"},children:" Copy"})]}),E.jsx("div",{style:{fontSize:"11px",color:"#b4bdc2",marginTop:"4px",fontStyle:"italic"},children:"Send this link via email, Slack, or text message"})]})]},de.id)})})]}),W&&E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"32px",width:"100%",maxWidth:"500px",border:"1px solid #005479"},children:[E.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600"},children:"Edit Team"}),E.jsxs("form",{onSubmit:be,children:[E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Team Image"}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[E.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"12px",border:"2px solid #005479",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",background:"#0c1e34"},children:C?E.jsx("img",{src:C,alt:"Team preview",style:{width:"100%",height:"100%",objectFit:"cover"}}):E.jsx(pt,{size:64})}),E.jsxs("div",{style:{flex:1},children:[E.jsx("input",{type:"file",accept:"image/*",onChange:Vn,style:{display:"none"},id:"team-image-upload"}),E.jsxs("label",{htmlFor:"team-image-upload",style:{display:"inline-flex",alignItems:"center",gap:"8px",background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"10px 16px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",border:"none",marginBottom:"8px"},children:[E.jsx(qD,{size:16}),"Choose Image"]}),I&&E.jsxs("div",{style:{fontSize:"12px",color:"#b4bdc2"},children:["Selected: ",I.name]}),E.jsx("div",{style:{fontSize:"11px",color:"#b4bdc2",marginTop:"4px"},children:"Max 2MB  JPG, PNG, GIF supported"})]})]})]}),E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Team Name *"}),E.jsx("input",{type:"text",value:ae,onChange:de=>pe(de.target.value),required:!0,style:{width:"100%",padding:"12px",border:"2px solid #005479",borderRadius:"8px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",boxSizing:"border-box"}})]}),E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Description"}),E.jsx("textarea",{value:he,onChange:de=>Te(de.target.value),rows:"3",style:{width:"100%",padding:"12px",border:"2px solid #005479",borderRadius:"8px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",fontFamily:"inherit",resize:"vertical",boxSizing:"border-box"}})]}),E.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[E.jsx("button",{type:"button",onClick:()=>{J(!1),V(null),P(u.teamImage||null)},style:{background:"#005479",color:"#b4bdc2",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),E.jsx("button",{type:"submit",disabled:k||R,style:{background:k||R?"#005479":"linear-gradient(135deg, #f5a302, #ffc020)",color:k||R?"#b4bdc2":"#0c1e34",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:k||R?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},children:R?E.jsxs(E.Fragment,{children:[E.jsx(n3,{size:16}),"Uploading..."]}):k?"Updating...":"Update Team"})]})]})]})}),Qe&&E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"32px",width:"100%",maxWidth:"500px",border:"1px solid #005479"},children:[E.jsx("h3",{style:{margin:"0 0 24px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600"},children:"Invite New Member"}),E.jsxs("form",{onSubmit:ye,children:[E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Email Address *"}),E.jsx("input",{type:"email",value:oe,onChange:de=>ce(de.target.value),placeholder:"Enter email address",required:!0,style:{width:"100%",padding:"12px",border:"2px solid #005479",borderRadius:"8px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",boxSizing:"border-box"}})]}),E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Role *"}),E.jsxs("select",{value:$,onChange:de=>D(de.target.value),style:{width:"100%",padding:"12px",border:"2px solid #005479",borderRadius:"8px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",boxSizing:"border-box"},children:[E.jsx("option",{value:"user",children:"Team Member"}),E.jsx("option",{value:"team_admin",children:"Team Admin"})]})]}),E.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[E.jsx("button",{type:"button",onClick:()=>{Q(!1),ce(""),D("user")},style:{background:"#005479",color:"#b4bdc2",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),E.jsx("button",{type:"submit",disabled:X,style:{background:X?"#005479":"linear-gradient(135deg, #f5a302, #ffc020)",color:X?"#b4bdc2":"#0c1e34",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:X?"not-allowed":"pointer"},children:X?"Sending...":"Send Invitation"})]})]})]})})]})}function d3(){const{currentUser:r}=Mo(),[e,n]=j.useState(null),[s,o]=j.useState(!0),[u,d]=j.useState(""),[p,m]=j.useState(""),[g,v]=j.useState(!1),[S,x]=j.useState(""),[O,M]=j.useState("team_admin"),[F,L]=j.useState(!1),[W,J]=j.useState([]),[ae,pe]=j.useState([]),[he,Te]=j.useState([]),[k,w]=j.useState({totalUsers:0,totalTeams:0,totalMiles:0,totalRides:0}),[I,V]=j.useState(!1),[C,P]=j.useState(null);j.useEffect(()=>{R()},[r]);const R=async()=>{try{o(!0);const $=await ci(ze(Se,"users",r.uid));if(!$.exists()){d("User profile not found");return}const D=$.data();if(n(D),D.role!=="admin"){d("Access denied. App admin privileges required.");return}await Ke()}catch($){console.error("Error checking admin access:",$),d("Failed to load admin panel")}o(!1)},Ke=async()=>{try{const $=Zn(pn(Se,"teams")),D=await Jn($),X=[];D.forEach(pt=>{X.push({id:pt.id,...pt.data()})}),J(X);const se=Zn(pn(Se,"users")),re=await Jn(se),ue=[];re.forEach(pt=>{ue.push({id:pt.id,...pt.data()})}),Te(ue);const be=Zn(pn(Se,"invitations"),Mn("role","in",["team_admin","admin"]),Mn("used","==",!1)),ye=await Jn(be),ut=[];ye.forEach(pt=>{const Ct=pt.data(),de=Ct.expiresAt.toDate?Ct.expiresAt.toDate():new Date(Ct.expiresAt);new Date<de&&ut.push({id:pt.id,...Ct})}),pe(ut);const $e=ue.length,gn=X.length,Vn=ue.reduce((pt,Ct)=>pt+(Ct.totalMiles||0),0),Tn=X.reduce((pt,Ct)=>pt+(Ct.totalRides||0),0);w({totalUsers:$e,totalTeams:gn,totalMiles:Vn,totalRides:Tn})}catch($){console.error("Error loading admin data:",$),d("Failed to load admin data")}},Qe=async $=>{$.preventDefault(),L(!0),d(""),m("");try{if((await ci(ze(Se,"invitations",S))).exists()){d("This email has already been invited"),L(!1);return}const X=Zn(pn(Se,"users"),Mn("email","==",S));if(!(await Jn(X)).empty){d("A user with this email already exists"),L(!1);return}const re={email:S,role:O,teamId:null,teamName:null,invitedBy:r.uid,inviterUserName:e.userName,createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+30*24*60*60*1e3).toISOString(),used:!1,usedAt:null,isTeamAdminInvite:O==="team_admin",isAppAdminInvite:O==="admin"};await nu(ze(Se,"invitations",S),re);const ue=O==="admin"?"appadmin=true":"admin=true",be=`${window.location.origin}/register?email=${encodeURIComponent(S)}&${ue}`;try{await navigator.clipboard.writeText(be),m(`${O==="admin"?"App Admin":"Team Admin"} invitation created! Link copied to clipboard. Share this link: ${be}`)}catch{m(`${O==="admin"?"App Admin":"Team Admin"} invitation created! Share this link: ${be}`)}v(!1),x(""),M("team_admin"),setTimeout(()=>m(""),5e3),Ke()}catch(D){console.error("Error creating invitation:",D),d("Failed to create invitation")}L(!1)},Q=async $=>{try{await oT(ze(Se,"invitations",$)),m("Admin invitation cancelled"),setTimeout(()=>m(""),3e3),Ke()}catch(D){console.error("Error cancelling invitation:",D),d("Failed to cancel invitation")}},oe=async($,D,X)=>{if(confirm(`Are you sure you want to remove ${D} from their team?`))try{const se=he.find(ue=>ue.id===$),re=W.find(ue=>ue.id===X);if(!se||!re){d("User or team not found");return}await on(ze(Se,"teams",X),{memberIds:co($),adminIds:co($),memberCount:ta(-1),totalMiles:ta(-(se.totalMiles||0)),lastUpdated:new Date().toISOString()}),await on(ze(Se,"users",$),{teamId:null,teamName:null,joinedTeamAt:null}),m(`${D} has been removed from ${re.name}`),setTimeout(()=>m(""),3e3),Ke()}catch(se){console.error("Error removing user from team:",se),d("Failed to remove user from team")}},ce=async($,D,X,se)=>{const re=se==="admin"?"App Admin":se==="team_admin"?"Team Admin":"Team Member";if(confirm(`Are you sure you want to make ${D} a ${re}?`))try{const ue=he.find(be=>be.id===$);if(await on(ze(Se,"users",$),{role:se}),ue.teamId){const be=W.find(ye=>ye.id===ue.teamId);if(be)if(se==="team_admin"){const ye=[...be.adminIds||[]];ye.includes($)||(ye.push($),await on(ze(Se,"teams",ue.teamId),{adminIds:ye,lastUpdated:new Date().toISOString()}))}else X==="team_admin"&&await on(ze(Se,"teams",ue.teamId),{adminIds:co($),lastUpdated:new Date().toISOString()})}m(`${D} is now a ${re}`),setTimeout(()=>m(""),3e3),Ke()}catch(ue){console.error("Error updating user role:",ue),d("Failed to update user role")}};return C?E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1200px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px",paddingBottom:"16px",borderBottom:"1px solid #005479"},children:[E.jsxs("button",{onClick:()=>P(null),style:{background:"none",border:"1px solid #005479",color:"#ffc020",padding:"8px 12px",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s ease"},onMouseEnter:$=>{$.target.style.borderColor="#f5a302",$.target.style.color="#f5a302"},onMouseLeave:$=>{$.target.style.borderColor="#005479",$.target.style.color="#ffc020"},children:[E.jsx(jD,{size:16}),"Back to Admin Panel"]}),E.jsxs("div",{style:{fontSize:"18px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[E.jsx(Xr,{size:18}),"App Admin managing: ",C.name]})]}),E.jsx(dT,{appAdminMode:!0,selectedTeam:C})]}):s?E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1200px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 16px 0",textAlign:"center"},children:"App Administration"}),E.jsx("p",{style:{textAlign:"center",color:"#b4bdc2",fontSize:"16px"},children:"Loading admin panel..."})]}):u&&!e?E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1200px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 16px 0",textAlign:"center"},children:"App Administration"}),E.jsxs("div",{style:{background:"#0c1e34",color:"#ef4444",padding:"16px",borderRadius:"12px",fontSize:"14px",fontWeight:"600",textAlign:"center",border:"1px solid #005479"},children:[E.jsx(Eo,{style:{height:"16px",width:"16px",marginRight:"8px",display:"inline"}}),u]})]}):E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"1200px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[E.jsxs("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:0,display:"flex",alignItems:"center",gap:"12px"},children:[E.jsx(Xr,{size:28}),"App Administration"]}),E.jsxs("button",{onClick:()=>v(!0),style:{background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[E.jsx(am,{size:16}),"Create Invitation"]})]}),p&&E.jsxs("div",{style:{background:"#0c1e34",color:"#ffc020",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",fontWeight:"600",border:"1px solid #005479",display:"flex",alignItems:"center"},children:[E.jsx(hT,{size:16,style:{marginRight:"8px"}}),p]}),u&&E.jsxs("div",{style:{background:"#0c1e34",color:"#ef4444",padding:"12px",borderRadius:"8px",marginBottom:"20px",fontSize:"14px",fontWeight:"600",border:"1px solid #005479",display:"flex",alignItems:"center"},children:[E.jsx(Eo,{size:16,style:{marginRight:"8px"}}),u]}),E.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",marginBottom:"32px",border:"1px solid #005479"},children:[E.jsxs("h3",{style:{margin:"0 0 20px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[E.jsx(e3,{size:20}),"App Statistics"]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"},children:[E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020"},children:k.totalUsers}),E.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Total Users"})]}),E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020"},children:k.totalTeams}),E.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Active Teams"})]}),E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020"},children:k.totalMiles.toFixed(1)}),E.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Total Miles"})]}),E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020"},children:k.totalRides}),E.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Total Rides"})]})]})]}),ae.length>0&&E.jsxs("div",{style:{marginBottom:"32px"},children:[E.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[E.jsx(ud,{size:20}),"Pending Admin Invitations (",ae.length,")"]}),E.jsx("div",{style:{display:"grid",gap:"12px"},children:ae.map($=>{const D=$.role==="admin"?"appadmin=true":"admin=true",X=`${window.location.origin}/register?email=${encodeURIComponent($.email)}&${D}`;return E.jsxs("div",{style:{background:"#0c1e34",border:"1px solid #005479",borderRadius:"12px",padding:"16px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[E.jsxs("div",{children:[E.jsxs("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffc020",display:"flex",alignItems:"center",gap:"8px"},children:[$.email,$.role==="admin"&&E.jsx(Xr,{size:16,style:{color:"#ef4444"}}),$.role==="team_admin"&&E.jsx(ns,{size:16,style:{color:"#f5a302"}})]}),E.jsxs("div",{style:{fontSize:"14px",color:"#b4bdc2"},children:["Role: ",$.role==="admin"?"App Admin":"Team Admin","  Expires: ",new Date($.expiresAt).toLocaleDateString()]})]}),E.jsxs("button",{onClick:()=>Q($.email),style:{background:"#ef4444",color:"#ffffff",padding:"8px 12px",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[E.jsx(om,{size:14}),"Cancel"]})]}),E.jsxs("div",{style:{background:"rgba(255, 192, 32, 0.1)",border:"1px solid rgba(255, 192, 32, 0.2)",borderRadius:"8px",padding:"12px"},children:[E.jsxs("div",{style:{fontSize:"12px",color:"#ffc020",fontWeight:"600",marginBottom:"8px"},children:[" ",$.role==="admin"?"App Admin":"Team Admin"," Invitation Link:"]}),E.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[E.jsx("input",{type:"text",value:X,readOnly:!0,style:{flex:1,padding:"8px",background:"#0c1e34",border:"1px solid #005479",borderRadius:"4px",color:"#b4bdc2",fontSize:"12px",fontFamily:"monospace"},onClick:se=>se.target.select()}),E.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(X),m("Link copied to clipboard!"),setTimeout(()=>m(""),2e3)}catch(se){console.error("Failed to copy:",se)}},style:{background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"8px 12px",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"600",cursor:"pointer",whiteSpace:"nowrap"},children:" Copy"})]}),E.jsx("div",{style:{fontSize:"11px",color:"#b4bdc2",marginTop:"4px",fontStyle:"italic"},children:$.role==="admin"?"Invitee will become an App Admin with full system access":"Invitee will become a Team Admin and can create their own team"})]})]},$.id)})})]}),E.jsxs("div",{style:{marginBottom:"32px"},children:[E.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[E.jsx(gh,{size:20}),"All Users (",he.length,")"]}),E.jsx("div",{style:{display:"grid",gap:"12px"},children:he.map($=>{var se,re;const D=W.find(ue=>ue.id===$.teamId),X=(se=D==null?void 0:D.adminIds)==null?void 0:se.includes($.id);return E.jsx("div",{style:{background:"#0c1e34",border:"1px solid #005479",borderRadius:"12px",padding:"16px"},children:E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[E.jsxs("div",{style:{flex:1},children:[E.jsxs("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffc020",display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[$.userName,$.role==="admin"&&E.jsx(Xr,{size:16,style:{color:"#ef4444"}}),X&&$.role!=="admin"&&E.jsx(ns,{size:16,style:{color:"#f5a302"}})]}),E.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",marginBottom:"4px"},children:$.email}),E.jsxs("div",{style:{fontSize:"12px",color:"#b4bdc2"},children:["Team: ",$.teamName||"No team","  ",((re=$.totalMiles)==null?void 0:re.toFixed(1))||"0.0"," miles  Role: ",$.role==="admin"?"App Admin":$.role==="team_admin"?"Team Admin":"Team Member"]}),E.jsxs("div",{style:{fontSize:"11px",color:"#b4bdc2",marginTop:"2px"},children:["Joined: ",new Date($.createdAt).toLocaleDateString()]})]}),$.id!==r.uid&&E.jsxs("div",{style:{display:"flex",gap:"8px",flexDirection:"column",alignItems:"flex-end"},children:[E.jsxs("div",{style:{display:"flex",gap:"6px"},children:[$.role!=="admin"&&E.jsxs("button",{onClick:()=>ce($.id,$.userName,$.role,"admin"),style:{background:"linear-gradient(135deg, #ef4444, #dc2626)",color:"#ffffff",padding:"4px 8px",border:"none",borderRadius:"4px",fontSize:"10px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px",whiteSpace:"nowrap"},children:[E.jsx(Xr,{size:10}),"Make App Admin"]}),$.role==="user"&&E.jsxs("button",{onClick:()=>ce($.id,$.userName,$.role,"team_admin"),style:{background:"linear-gradient(135deg, #f5a302, #ffc020)",color:"#0c1e34",padding:"4px 8px",border:"none",borderRadius:"4px",fontSize:"10px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px",whiteSpace:"nowrap"},children:[E.jsx(ns,{size:10}),"Make Team Admin"]}),$.role==="team_admin"&&E.jsxs("button",{onClick:()=>ce($.id,$.userName,$.role,"user"),style:{background:"linear-gradient(135deg, #22c55e, #16a34a)",color:"#ffffff",padding:"4px 8px",border:"none",borderRadius:"4px",fontSize:"10px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px",whiteSpace:"nowrap"},children:[E.jsx(ns,{size:10}),"Remove Admin"]})]}),$.teamId&&E.jsxs("button",{onClick:()=>oe($.id,$.userName,$.teamId),style:{background:"#ef4444",color:"#ffffff",padding:"4px 8px",border:"none",borderRadius:"4px",fontSize:"10px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"3px",whiteSpace:"nowrap"},children:[E.jsx(om,{size:10}),"Remove from Team"]})]})]})},$.id)})})]}),E.jsxs("div",{style:{marginBottom:"32px"},children:[E.jsxs("h3",{style:{margin:"0 0 16px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600",display:"flex",alignItems:"center",gap:"8px"},children:[E.jsx(gh,{size:20}),"All Teams (",W.length,")"]}),E.jsx("div",{style:{display:"grid",gap:"12px"},children:W.map($=>{var D;return E.jsx("div",{style:{background:"#0c1e34",border:"1px solid #005479",borderRadius:"12px",padding:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[$.teamImage?E.jsx("img",{src:$.teamImage,alt:`${$.name} logo`,style:{width:"48px",height:"48px",borderRadius:"8px",objectFit:"cover",border:"1px solid #005479"}}):E.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"8px",background:"linear-gradient(135deg, #f5a302, #ffc020)",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 8px rgba(245, 163, 2, 0.3)"},children:E.jsx(gh,{size:24,color:"#0c1e34",strokeWidth:2})}),E.jsxs("div",{children:[E.jsx("div",{style:{fontSize:"16px",fontWeight:"600",color:"#ffc020"},children:$.name}),E.jsxs("div",{style:{fontSize:"14px",color:"#b4bdc2"},children:[$.memberCount," members  ",((D=$.totalMiles)==null?void 0:D.toFixed(1))||"0.0"," miles  ",$.totalRides||0," rides"]}),E.jsxs("div",{style:{fontSize:"12px",color:"#b4bdc2",marginTop:"2px"},children:["Created: ",new Date($.createdAt).toLocaleDateString()]})]})]})},$.id)})})]}),g&&E.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"32px",width:"100%",maxWidth:"500px",border:"1px solid #005479"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[E.jsx(am,{style:{color:"#ffc020"},size:24}),E.jsx("h3",{style:{margin:0,fontSize:"20px",color:"#ffc020",fontWeight:"600"},children:"Create Admin Invitation"})]}),E.jsxs("form",{onSubmit:Qe,children:[E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Email Address *"}),E.jsx("input",{type:"email",value:S,onChange:$=>x($.target.value),placeholder:"Enter email address",required:!0,style:{width:"100%",padding:"12px",border:"2px solid #005479",borderRadius:"8px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",boxSizing:"border-box"}})]}),E.jsxs("div",{style:{marginBottom:"24px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#ffc020",fontSize:"14px"},children:"Role *"}),E.jsxs("select",{value:O,onChange:$=>M($.target.value),style:{width:"100%",padding:"12px",border:"2px solid #005479",borderRadius:"8px",background:"#0c1e34",color:"#b4bdc2",fontSize:"16px",fontWeight:"500",boxSizing:"border-box"},children:[E.jsx("option",{value:"team_admin",children:"Team Admin"}),E.jsx("option",{value:"admin",children:"App Admin"})]})]}),E.jsxs("div",{style:{background:"rgba(255, 192, 32, 0.1)",border:"1px solid rgba(255, 192, 32, 0.2)",borderRadius:"8px",padding:"12px",marginBottom:"20px"},children:[E.jsx("div",{style:{fontSize:"14px",color:"#ffc020",fontWeight:"600",marginBottom:"4px"},children:O==="admin"?E.jsxs(E.Fragment,{children:[E.jsx(Xr,{size:16,style:{display:"inline",marginRight:"6px"}}),"App Admin Privileges:"]}):E.jsxs(E.Fragment,{children:[E.jsx(ns,{size:16,style:{display:"inline",marginRight:"6px"}}),"Team Admin Privileges:"]})}),E.jsx("div",{style:{fontSize:"12px",color:"#b4bdc2",lineHeight:"1.4"},children:O==="admin"?E.jsxs(E.Fragment,{children:[" Full system access and control",E.jsx("br",{})," Can create app admins and team admins",E.jsx("br",{})," Can view all teams and users",E.jsx("br",{})," Access to app administration panel"]}):E.jsxs(E.Fragment,{children:[" Can create and manage their own team",E.jsx("br",{})," Can invite and remove team members",E.jsx("br",{})," Can promote members to team admin",E.jsx("br",{})," Will receive a special registration link"]})})]}),E.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[E.jsx("button",{type:"button",onClick:()=>{v(!1),x(""),M("team_admin")},style:{background:"#005479",color:"#b4bdc2",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Cancel"}),E.jsx("button",{type:"submit",disabled:F,style:{background:F?"#005479":"linear-gradient(135deg, #f5a302, #ffc020)",color:F?"#b4bdc2":"#0c1e34",padding:"12px 20px",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:F?"not-allowed":"pointer"},children:F?"Creating Invitation...":`Create ${O==="admin"?"App Admin":"Team Admin"} Invitation`})]})]})]})})]})}function f3({currentUser:r,userProfile:e}){const[n,s]=j.useState({totalMiles:0,totalRides:0,thisWeekMiles:0,thisWeekRides:0}),[o,u]=j.useState(!0);return j.useEffect(()=>{(async()=>{try{const p=Zn(pn(Se,"mileLogs"),Mn("userId","==",r.uid)),m=await Jn(p);let g=0,v=0,S=0,x=0;const O=new Date,M=O.getDay(),F=M===0?6:M-1,L=new Date(O);L.setDate(O.getDate()-F),L.setHours(0,0,0,0);const W=new Date(L);W.setDate(L.getDate()+6),W.setHours(23,59,59,999),m.forEach(J=>{const ae=J.data();g+=ae.miles,v+=1;const pe=new Date(ae.date+"T00:00:00");pe>=L&&pe<=W&&(S+=ae.miles,x+=1)}),s({totalMiles:g,totalRides:v,thisWeekMiles:S,thisWeekRides:x})}catch(p){console.error("Error fetching stats:",p)}u(!1)})()},[r.uid]),o?E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"900px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsx("h2",{style:{fontSize:"28px",fontWeight:"600",color:"#ffc020",margin:"0 0 16px 0",textAlign:"center"},children:"Your Cycling Overview"}),E.jsx("p",{style:{textAlign:"center",color:"#b4bdc2",fontSize:"16px"},children:"Loading your stats..."})]}):E.jsxs("div",{style:{background:"#033c59",borderRadius:"16px",padding:"40px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",maxWidth:"900px",margin:"0 auto",border:"1px solid #005479"},children:[E.jsx("h2",{style:{fontSize:"32px",fontWeight:"600",color:"#ffc020",margin:"0 0 40px 0",textAlign:"center"},children:"Your Cycling Overview"}),e&&E.jsxs("div",{style:{background:"#0c1e34",padding:"20px",borderRadius:"12px",marginBottom:"32px",textAlign:"center",border:"1px solid #005479"},children:[E.jsx("div",{style:{fontSize:"18px",fontWeight:"600",color:"#ffc020",marginBottom:"4px"},children:e.teamName}),E.jsxs("div",{style:{fontSize:"14px",color:"#b4bdc2"},children:["You're riding as ",e.userName,"  ",e.role==="team_admin"?"Team Admin":"Team Member"]})]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px",marginBottom:"40px"},children:[E.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",textAlign:"center",border:"1px solid #005479",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:"default"},onMouseEnter:d=>{d.target.style.transform="translateY(-3px)",d.target.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.3)"},onMouseLeave:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:[E.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020",marginBottom:"4px"},children:n.totalMiles.toFixed(1)}),E.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Total Miles"})]}),E.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",textAlign:"center",border:"1px solid #005479",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:"default"},onMouseEnter:d=>{d.target.style.transform="translateY(-3px)",d.target.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.3)"},onMouseLeave:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:[E.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020",marginBottom:"4px"},children:n.totalRides}),E.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Total Rides"})]}),E.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",textAlign:"center",border:"1px solid #005479",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:"default"},onMouseEnter:d=>{d.target.style.transform="translateY(-3px)",d.target.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.3)"},onMouseLeave:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:[E.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020",marginBottom:"4px"},children:n.thisWeekMiles.toFixed(1)}),E.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Miles This Week"})]}),E.jsxs("div",{style:{background:"#0c1e34",padding:"24px",borderRadius:"12px",textAlign:"center",border:"1px solid #005479",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s ease, box-shadow 0.2s ease",cursor:"default"},onMouseEnter:d=>{d.target.style.transform="translateY(-3px)",d.target.style.boxShadow="0 8px 25px rgba(0, 0, 0, 0.3)"},onMouseLeave:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="0 4px 15px rgba(0, 0, 0, 0.2)"},children:[E.jsx("div",{style:{fontSize:"32px",fontWeight:"700",color:"#ffc020",marginBottom:"4px"},children:n.thisWeekRides}),E.jsx("div",{style:{fontSize:"14px",color:"#b4bdc2",fontWeight:"600"},children:"Rides This Week"})]})]}),E.jsxs("div",{style:{padding:"24px",background:"#0c1e34",borderRadius:"12px",border:"1px solid #005479"},children:[E.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"20px",color:"#ffc020",fontWeight:"600"},children:"Welcome to B2W-MKE!"}),E.jsx("p",{style:{margin:"0 0 16px 0",fontSize:"16px",color:"#ffc020",lineHeight:"1.5"},children:"Track your bike commuting miles and join the Milwaukee cycling community."}),E.jsxs("div",{style:{fontSize:"15px",color:"#b4bdc2",lineHeight:"1.6"},children:[E.jsxs("p",{style:{margin:"6px 0",display:"flex",alignItems:"center"},children:[E.jsx("span",{style:{width:"6px",height:"6px",backgroundColor:"#b4bdc2",borderRadius:"50%",marginRight:"12px"}}),'View your progress in "My Rides"']}),E.jsxs("p",{style:{margin:"6px 0",display:"flex",alignItems:"center"},children:[E.jsx("span",{style:{width:"6px",height:"6px",backgroundColor:"#b4bdc2",borderRadius:"50%",marginRight:"12px"}}),`Log today's commute in "Log Miles"`]}),(e==null?void 0:e.role)==="team_admin"&&E.jsxs("p",{style:{margin:"6px 0",display:"flex",alignItems:"center"},children:[E.jsx("span",{style:{width:"6px",height:"6px",backgroundColor:"#b4bdc2",borderRadius:"50%",marginRight:"12px"}}),'Manage your team in "Team Management"']}),E.jsxs("p",{style:{margin:"6px 0",display:"flex",alignItems:"center"},children:[E.jsx("span",{style:{width:"6px",height:"6px",backgroundColor:"#b4bdc2",borderRadius:"50%",marginRight:"12px"}}),"Team competitions coming soon!"]})]})]})]})}function p3(){const{currentUser:r,logout:e}=Mo(),[n,s]=j.useState("overview"),[o,u]=j.useState(null),[d,p]=j.useState(!0);j.useEffect(()=>{r&&(async()=>{try{const v=await ci(ze(Se,"users",r.uid));v.exists()&&u(v.data())}catch(v){console.error("Error fetching user profile:",v)}p(!1)})()},[r]);const m=g=>({background:g?"linear-gradient(135deg, #f5a302, #ffba41)":"#033c59",color:g?"#0c1e34":"#b4bdc2",padding:"12px 24px",border:g?"none":"2px solid #005479",borderRadius:"25px",marginRight:"12px",cursor:"pointer",fontSize:"15px",fontWeight:g?"600":"500",transition:"all 0.2s ease",boxShadow:g?"0 4px 12px rgba(245, 163, 2, 0.25)":"0 2px 4px rgba(0, 0, 0, 0.2)",outline:"none"});return d?E.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0c1e34 0%, #033c59 100%)",padding:"24px",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsx("div",{style:{color:"#b4bdc2",fontSize:"18px"},children:"Loading..."})}):E.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #0c1e34 0%, #033c59 100%)",padding:"24px"},children:E.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[E.jsxs("div",{style:{background:"#033c59",padding:"24px 32px",borderRadius:"16px",marginBottom:"24px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)",border:"1px solid #005479"},children:[E.jsxs("div",{children:[E.jsx("h1",{style:{margin:"0 0 4px 0",fontSize:"28px",fontWeight:"600",color:"#ffc020"},children:"B2W-MKE Dashboard"}),E.jsxs("p",{style:{margin:0,color:"#b4bdc2",fontSize:"15px"},children:["Welcome back, ",(o==null?void 0:o.userName)||(r==null?void 0:r.email)]})]}),E.jsx("button",{onClick:e,style:{background:"linear-gradient(135deg, #f5a302, #ffba41)",color:"#0c1e34",padding:"10px 20px",border:"none",borderRadius:"20px",cursor:"pointer",fontSize:"14px",fontWeight:"600",boxShadow:"0 2px 8px rgba(245, 163, 2, 0.3)",transition:"all 0.2s ease",outline:"none"},onMouseEnter:g=>{g.target.style.transform="translateY(-1px)",g.target.style.boxShadow="0 4px 12px rgba(245, 163, 2, 0.4)"},onMouseLeave:g=>{g.target.style.transform="translateY(0)",g.target.style.boxShadow="0 2px 8px rgba(245, 163, 2, 0.3)"},children:"Logout"})]}),E.jsxs("div",{style:{marginBottom:"24px",textAlign:"center"},children:[E.jsx("button",{onClick:()=>s("overview"),style:m(n==="overview"),onMouseEnter:g=>{n!=="overview"&&(g.target.style.backgroundColor="#005479",g.target.style.borderColor="#f5a302")},onMouseLeave:g=>{n!=="overview"&&(g.target.style.backgroundColor="#033c59",g.target.style.borderColor="#005479")},children:"Overview"}),E.jsx("button",{onClick:()=>s("log"),style:m(n==="log"),onMouseEnter:g=>{n!=="log"&&(g.target.style.backgroundColor="#005479",g.target.style.borderColor="#f5a302")},onMouseLeave:g=>{n!=="log"&&(g.target.style.backgroundColor="#033c59",g.target.style.borderColor="#005479")},children:"Log Miles"}),E.jsx("button",{onClick:()=>s("history"),style:m(n==="history"),onMouseEnter:g=>{n!=="history"&&(g.target.style.backgroundColor="#005479",g.target.style.borderColor="#f5a302")},onMouseLeave:g=>{n!=="history"&&(g.target.style.backgroundColor="#033c59",g.target.style.borderColor="#005479")},children:"My Rides"}),((o==null?void 0:o.role)==="team_admin"||(o==null?void 0:o.role)==="admin")&&E.jsx("button",{onClick:()=>s("teams"),style:m(n==="teams"),onMouseEnter:g=>{n!=="teams"&&(g.target.style.backgroundColor="#005479",g.target.style.borderColor="#f5a302")},onMouseLeave:g=>{n!=="teams"&&(g.target.style.backgroundColor="#033c59",g.target.style.borderColor="#005479")},children:"Team Management"}),(o==null?void 0:o.role)==="admin"&&E.jsx("button",{onClick:()=>s("admin"),style:m(n==="admin"),onMouseEnter:g=>{n!=="admin"&&(g.target.style.backgroundColor="#005479",g.target.style.borderColor="#f5a302")},onMouseLeave:g=>{n!=="admin"&&(g.target.style.backgroundColor="#033c59",g.target.style.borderColor="#005479")},children:"App Administration"})]}),n==="overview"&&E.jsx(f3,{currentUser:r,userProfile:o}),n==="log"&&E.jsx(c3,{}),n==="history"&&E.jsx(h3,{}),n==="teams"&&E.jsx(dT,{}),n==="admin"&&E.jsx(d3,{})]})})}function m3(){const{currentUser:r}=Mo();return E.jsxs(jS,{children:[E.jsx(Hl,{path:"/login",element:E.jsx(l3,{})}),E.jsx(Hl,{path:"/register",element:E.jsx(u3,{})}),E.jsx(Hl,{path:"/dashboard",element:r?E.jsx(p3,{}):E.jsx(Vv,{to:"/login"})}),E.jsx(Hl,{path:"/",element:E.jsx(Vv,{to:r?"/dashboard":"/login"})})]})}function g3(){return E.jsx(OD,{children:E.jsx(c2,{basename:"/b2w-mke",children:E.jsx(m3,{})})})}Kx.createRoot(document.getElementById("root")).render(E.jsx(zx.StrictMode,{children:E.jsx(g3,{})}));
